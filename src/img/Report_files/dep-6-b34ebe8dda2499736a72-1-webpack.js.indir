(window.webpackJsonp=window.webpackJsonp||[]).push([["infogram-charts/dep-6"],{"+Ldj":function(e,t,n){var o=n("wwJs");"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(o,r);o.locals&&(e.exports=o.locals)},"+a7M":function(e,t,n){e.exports=n.p+"696cd29d71288726a6b702dcfefb1d27.svg"},"+mTV":function(e,t,n){"use strict";function o(e){return r[e]}n.r(t),n.d(t,"default",(function(){return o}));var r={figures:[{type:"IMAGE",width:60,height:60,offsetX:0,top:10,align:"{{ALIGN_LEFT}}",props:{subType:"icon",graphicType:"icon",path:"m25.01,9.25q0,0.33,-0.39,0.72l-5.45,5.32l1.29,7.51q0.02,0.11,0.02,0.3q0,0.32,-0.16,0.53t-0.46,0.22q-0.29,0,-0.6,-0.18l-6.75,-3.55l-6.75,3.55q-0.33,0.18,-0.6,0.18q-0.32,0,-0.47,-0.22t-0.16,-0.53q0,-0.09,0.03,-0.3l1.29,-7.51l-5.47,-5.32q-0.38,-0.41,-0.38,-0.72q0,-0.56,0.84,-0.69l7.54,-1.1l3.38,-6.84q0.29,-0.62,0.74,-0.62t0.74,0.62l3.38,6.84l7.54,1.1q0.84,0.14,0.84,0.69Z",width:25,height:24}},{type:"TEXT",offsetX:70,top:0,align:"{{ALIGN_LEFT}}",newline:!0,props:{template:"h2"}},{type:"TEXT",offsetX:70,top:0,align:"{{ALIGN_LEFT}}",newline:!0,props:{template:"body"}},{type:"IMAGE",width:60,height:60,offsetX:0,top:10,props:{subType:"icon",graphicType:"icon",path:"m25,12.5q0,0.63,-0.46,1.1t-1.1,0.46l-21.87,0q-0.63,0,-1.1,-0.46t-0.46,-1.1t0.46,-1.1l10.94,-10.94q0.46,-0.46,1.1,-0.46t1.1,0.46l10.94,10.94q0.46,0.46,0.46,1.1Z",width:25,height:14},align:"{{ALIGN_LEFT}}"},{type:"TEXT",offsetX:70,top:10,align:"{{ALIGN_LEFT}}",newline:!0,props:{template:"h2"}},{type:"TEXT",offsetX:70,top:10,align:"{{ALIGN_LEFT}}",props:{template:"body"}}],centeredfact:[{type:"IMAGE",width:60,height:60,offsetX:0,top:0,newline:!0,props:{subType:"icon",graphicType:"icon",path:"m25.01,9.25q0,0.33,-0.39,0.72l-5.45,5.32l1.29,7.51q0.02,0.11,0.02,0.3q0,0.32,-0.16,0.53t-0.46,0.22q-0.29,0,-0.6,-0.18l-6.75,-3.55l-6.75,3.55q-0.33,0.18,-0.6,0.18q-0.32,0,-0.47,-0.22t-0.16,-0.53q0,-0.09,0.03,-0.3l1.29,-7.51l-5.47,-5.32q-0.38,-0.41,-0.38,-0.72q0,-0.56,0.84,-0.69l7.54,-1.1l3.38,-6.84q0.29,-0.62,0.74,-0.62t0.74,0.62l3.38,6.84l7.54,1.1q0.84,0.14,0.84,0.69Z",width:25,height:24}},{type:"TEXT",offsetX:0,top:2,newline:!0,props:{template:"h2"}},{type:"TEXT",offsetX:0,top:10,props:{template:"body"}}],quote:[{type:"IMAGE",width:45,height:45,offsetX:0,top:0,props:{subType:"icon",graphicType:"icon",path:"M0,5.721C0,4.195,0.616,2.86,1.846,1.716C3.077,0.572,4.529,0,6.201,0C8.83,0,10.849,0.87,12.259,2.61C13.669,4.35,14.373,6.758,14.373,9.832C14.373,12.693,13.161,15.577,10.735,18.485C8.31,21.392,5.388,23.598,1.971,25.099C1.971,25.099,0.394,22.561,0.394,22.561C3.098,21.25,5.216,19.724,6.747,17.984C8.279,16.244,9.164,14.134,9.404,11.656C9.404,11.656,7.393,11.656,7.393,11.656C5.91,11.656,4.702,11.489,3.769,11.155C2.836,10.821,2.082,10.356,1.507,9.761C0.958,9.189,0.569,8.557,0.342,7.866C0.114,7.174,0,6.459,0,5.721C0,5.721,0,5.721,0,5.721M17.627,5.721C17.627,4.195,18.242,2.86,19.473,1.716C20.703,0.572,22.155,0,23.828,0C26.456,0,28.475,0.87,29.885,2.61C31.295,4.35,32,6.758,32,9.832C32,12.693,30.787,15.577,28.362,18.485C25.936,21.392,23.015,23.598,19.597,25.099C19.597,25.099,18.02,22.561,18.02,22.561C20.725,21.25,22.843,19.724,24.374,17.984C25.905,16.244,26.791,14.134,27.03,11.656C27.03,11.656,25.02,11.656,25.02,11.656C23.537,11.656,22.328,11.489,21.395,11.155C20.463,10.821,19.709,10.356,19.134,9.761C18.584,9.189,18.195,8.557,17.968,7.866C17.741,7.174,17.627,6.459,17.627,5.721C17.627,5.721,17.627,5.721,17.627,5.721",width:32,height:26},newline:!0},{type:"TEXT",offsetX:0,top:5,newline:!0,props:{template:"h2"}},{type:"TEXT",offsetX:0,top:20,props:{template:"body"}}]}},"/QJz":function(e,t,n){"use strict";n.r(t);var o=n("q1tI"),r=n.n(o),i=n("17x9"),a=n.n(i),u=n("yb06"),c=n.n(u),l=n("Jgc/"),s=n("TSYQ"),p=n.n(s),f=n("vmwM"),d=n("Sye6"),h=n("EKef"),g=n("XjPQ"),b=n("WdyC"),y=n("76fW"),m=n.n(y),v=n("OVpQ"),_=n("zkXd"),w=n("qZhJ");function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function k(e,t,n){return t&&C(e.prototype,t),n&&C(e,n),e}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var P=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,r=x(t).call(this,e),(n=!r||"object"!==E(r)&&"function"!=typeof r?S(o):r)._onResizeStart=n._onResizeStart.bind(S(n)),n._onResize=n._onResize.bind(S(n)),n._onResizeStop=n._onResizeStop.bind(S(n)),n._onDragStart=n._onDragStart.bind(S(n)),n._onDrag=n._onDrag.bind(S(n)),n._onDragStop=n._onDragStop.bind(S(n)),n.onBackgroundDragStart=Object(_.createBackgroundDragHandler)({moveClip:b.moveImageCrop,getBounds:function(){return n.state.cropDimensions},onStart:function(){return n.setState({draggingBackground:!0})},onEnd:function(){n.setState({draggingBackground:!1})}}).bind(S(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,e),k(t,null,[{key:"getStores",value:function(){return[f.default,d.default,h.default]}},{key:"calculateState",value:function(e,t){var n,o=f.default.currentImageClip,r=t.entity,i=t.scaleX,a=t.scaleY,u={left:o.get("left")*r.getWidth()*i/100,top:o.get("top")*r.getHeight()*a/100,width:(100-o.get("left")-o.get("right"))*r.getWidth()*i/100,height:(100-o.get("top")-o.get("bottom"))*r.getHeight()*a/100};return{crop:o,cropDimensions:u,entitySize:{width:r.getWidth()*i,height:r.getHeight()*a},pristine:f.default.pristine,transformOriginOffset:f.default.transformOriginOffset,backgroundDragEnabled:!r.getCalloutKey(),imageURL:(n=h.default.editorState.getAssetURL(r.getProperty("assetId")),n.replace(/_q\.(jpg|jpeg|png|svg|gif)$/,".$1"))}}}]),k(t,[{key:"componentWillUnmount",value:function(){document.removeEventListener("mousemove",this._onResize),document.removeEventListener("mouseup",this._onResizeStop),document.removeEventListener("mousemove",this._onDrag),document.removeEventListener("mouseup",this._onDragStop)}},{key:"_onResizeStart",value:function(e){e.stopPropagation(),e.preventDefault();var t=e.target.dataset.origin,n=this.props,o=n.scaleX,r=n.scaleY;Object(b.startClipResize)({startPoint:Object(g.Point)(e.clientX,e.clientY),resizeOrigin:t,scaleX:o,scaleY:r}),document.addEventListener("mousemove",this._onResize),document.addEventListener("mouseup",this._onResizeStop)}},{key:"_onResize",value:function(e){e.stopPropagation();var t=e.shiftKey;Object(b.resizeImageCrop)(Object(g.Point)(e.clientX,e.clientY),t)}},{key:"_onResizeStop",value:function(){document.removeEventListener("mousemove",this._onResize),document.removeEventListener("mouseup",this._onResizeStop)}},{key:"_onDragStart",value:function(e){e.stopPropagation(),e.preventDefault();var t=this.props,n=t.scaleX,o=t.scaleY;Object(b.startClipMove)({startPoint:Object(g.Point)(e.clientX,e.clientY),scaleX:n,scaleY:o}),document.addEventListener("mousemove",this._onDrag),document.addEventListener("mouseup",this._onDragStop)}},{key:"_onDrag",value:function(e){e.stopPropagation(),Object(b.moveImageCrop)(Object(g.Point)(e.clientX,e.clientY))}},{key:"_onDragStop",value:function(){document.removeEventListener("mousemove",this._onDrag),document.removeEventListener("mouseup",this._onDragStop)}},{key:"render",value:function(){var e,t=this.props.entity,n=this.state,o=n.crop,i=n.cropDimensions,a=n.entitySize,u=n.backgroundDragEnabled,c=n.imageURL,l=i,s={WebkitClipPath:"inset(".concat(o.get("top"),"% ").concat(o.get("right"),"% ").concat(o.get("bottom"),"% ").concat(o.get("left"),"%)"),clipPath:"inset(".concat(o.get("top"),"% ").concat(o.get("right"),"% ").concat(o.get("bottom"),"% ").concat(o.get("left"),"%)"),left:-i.left,top:-i.top,width:a.width,height:a.height};return r.a.createElement("div",{className:m.a.container},r.a.createElement("img",{className:p()(m.a.cropBackground,(e={},O(e,m.a.draggableBackground,u),O(e,m.a.draggingBackground,this.state.draggingBackground),e)),src:c,onMouseDown:u?this.onBackgroundDragStart:void 0}),r.a.createElement("div",{className:m.a.previewContainer,style:l},r.a.createElement(w.default,{className:m.a.cropPreview,style:s,src:c,width:a.width,height:a.height,onMouseDown:u?this.onBackgroundDragStart:void 0,filters:t.getFilters(),clip:o})),r.a.createElement(v.default,{crop:o,onHandleMove:this._onResizeStart,onDrag:this._onDragStart}))}}]),t}(r.a.Component);P.propTypes={entity:c.a.record.isRequired,scaleX:a.a.number.isRequired,scaleY:a.a.number.isRequired},t.default=l.Container.create(P,{withProps:!0})},"/fDD":function(e,t,n){e.exports=n.p+"79ec80a0e5e45c9fed0e138ab18cbcf2.svg"},"24P5":function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._2JkYmtCRMeDCR5ETOg-PxQ {\n    position: relative;\n}\n\n.MyKbEG-a6pgf-2v7JNWAk {\n    position: absolute;\n    pointer-events: auto;\n    height: 50px;\n    width: 200px;\n    border-radius: 4px;\n    background-color: #333;\n    color: #FFF;\n    font-size: 13px;\n    z-index: 1;\n}\n\n.MyKbEG-a6pgf-2v7JNWAk._1ud6saQSyVljOkpinJa1UN {\n    flex-direction: row;\n}\n.MyKbEG-a6pgf-2v7JNWAk._3jbgrFOwhzWGC56M4BqgA3 {\n    flex-direction: column;\n}\n\n.etnyl_5DRCOlVEaBEF7Kc {\n    position: absolute;\n    cursor: default;\n}\n\n._3-ACjlJCWwgK-E_L0ucFCV {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    pointer-events: none;\n    z-index: 5;\n}\n\n.Y8xHqKqygs_QW-mkJ7Hcb {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    cursor: move;\n}\n\n.Eiz26vs6sopyhaLGTg1Sp {\n    position: absolute;\n    top: -30px;\n    right: -30px;\n    bottom: -30px;\n    left: -30px;\n    pointer-events: none;\n}\n",""]),t.locals={wrapper:"_2JkYmtCRMeDCR5ETOg-PxQ",callout:"MyKbEG-a6pgf-2v7JNWAk",horizontal:"_1ud6saQSyVljOkpinJa1UN",vertical:"_3jbgrFOwhzWGC56M4BqgA3",calloutEditItem:"etnyl_5DRCOlVEaBEF7Kc",calloutOverlay:"_3-ACjlJCWwgK-E_L0ucFCV",calloutOverlaySelect:"Y8xHqKqygs_QW-mkJ7Hcb",overlay:"Eiz26vs6sopyhaLGTg1Sp"}},"30eB":function(e,t,n){var o=n("24P5");"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(o,r);o.locals&&(e.exports=o.locals)},"4LUD":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var o=n("q1tI"),r=n.n(o),i=n("vOnD").default.div.withConfig({displayName:"Highlightreact__DottedBorderBox",componentId:"athjb2-0"})(["position:absolute;top:-2px;left:-2px;bottom:-2px;right:-2px;pointer-events:none;border:2px dotted #ff00ff;"]);function a(){return r.a.createElement(i,null)}},"4Zd/":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return D}));var o,r,i,a=n("q1tI"),u=n.n(a),c=n("17x9"),l=n.n(c),s=n("yb06"),p=n.n(s),f=n("TSYQ"),d=n.n(f),h=n("/MKj"),g=n("h7h9"),b=n("vmwM"),y=n("rQKZ"),m=n("U9m6"),v=n("HB54"),_=n.n(v),w=n("rfNr"),E=n("KoyB"),O=n("4LUD");n("USB3");function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function R(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var D=Object(h.connect)((function(e,t){var n=e.getIn(["flexCollaboration","users"]),o=n&&n.find((function(e){return e.get("selectedObjects").contains(t.entity.key)}));return o?{hasExternalSelection:e.getIn(["flexCollaboration","users"]).size>1,externalSelectionUserName:o.get("displayName"),externalSelectionUserColor:o.get("color")}:{}}),null,null,{areStatesEqual:function(e,t){return e.getIn(["flexCollaboration","users"])===t.getIn(["flexCollaboration","users"])}})(o=Object(y.default)({withProps:!0})((i=r=function(e){function t(){return j(this,t),R(this,I(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(t,e),n=t,r=[{key:"getStores",value:function(){return[b.default]}},{key:"calculateState",value:function(e,t){var n=null!==b.default.activeType,o=t.entity,r=t.selected,i=t.multipleSelected,a={isClipping:n};if(r&&!i&&"CHART"===o.type&&!o.locked){var u=g.default.getEntity(o.getKey());if(u){var c=u.chart;m.default.init(c).hasInPlaceEditing()&&(a.OverlayComponent=Object(E.default)(c))}}return a}}],(o=[{key:"render",value:function(){var e=this.props,t=e.entity,n=e.hasExternalSelection,o=e.selected,r=e.multipleSelected,i=e.highlighted;if((!o||o&&r)&&!n&&!i)return null;var c=this.state,l=c.isClipping,s=c.OverlayComponent,p=t.bounds(l);if(l){var f=Object(w.default)(t,{left:50,top:50});p.top+=f.get("y"),p.left+=f.get("x")}var h={top:p.top*this.props.scaleY,left:p.left*this.props.scaleX,width:p.width*this.props.scaleX,height:p.height*this.props.scaleY},g=C({},h,{position:"absolute",pointerEvents:"none",border:"1px dashed ".concat("#3195cb")});return t.isHeightlessChart()&&delete g.border,u.a.createElement(a.Fragment,null,n&&u.a.createElement("div",{className:_.a.border,style:C({},g,{border:"1px solid ".concat(this.props.externalSelectionUserColor)})},u.a.createElement("div",{className:_.a.username,style:{backgroundColor:this.props.externalSelectionUserColor}},this.props.externalSelectionUserName)),o&&!r&&!t.isConnector()&&!t.isLine()&&u.a.createElement("div",{className:d()(_.a.container),style:g},s&&u.a.createElement(s.component,s.props)),i&&u.a.createElement("div",{className:d()(_.a.container,_.a.highlight),style:h},u.a.createElement(O.default,null)))}}])&&P(n.prototype,o),r&&P(n,r),t}(a.Component),r.propTypes={entity:p.a.record.isRequired,scaleX:l.a.number.isRequired,scaleY:l.a.number.isRequired,selected:l.a.bool.isRequired,multipleSelected:l.a.bool.isRequired,hasExternalSelection:l.a.bool,externalSelectionUserName:l.a.string,externalSelectionUserColor:l.a.string,highlighted:l.a.bool},o=i))||o)||o},"4fFA":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return x}));var o=n("17x9"),r=n.n(o),i=n("q1tI"),a=n.n(i),u=n("yb06"),c=n.n(u),l=n("TSYQ"),s=n.n(l),p=n("vOnD"),f=n("8pFZ"),d=n("USB3"),h=n("qLhN"),g=n.n(h);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function v(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E=["from","to"];var O=p.default.div.withConfig({displayName:"ResizeConnectorHandlesreact__ResizeHandleCircle",componentId:"sc-1fyuvg9-0"})(["pointer-events:none;height:12px;width:12px;background:#3195cb;border:1px solid #fff;border-radius:7px;transition:transform 50ms ease-in-out;backface-visibility:hidden;",""],(function(e){return e.theme.id===d.default.id&&"\n        background: ".concat(d.default.blue500,";\n    ")})),x=function(e){function t(){return y(this,t),v(this,_(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){var e,t,n,o,r,i,u=this,c=(e=this.props,t=e.entity,n=e.scaleX,o=e.scaleY,r=e.block,i=e.pageSize,E.reduce((function(e,a){var u=Object(f.getPosition)(t.getIn(["props",a]),r,i);return e[a]={left:n*u.x-7,top:o*u.y-7},e}),{}));return a.a.createElement("div",null,E.map((function(e){return a.a.createElement("div",{className:s()(g.a.lineResizeHandle),style:{cursor:"move",left:c[e].left,top:c[e].top},key:e,ref:function(t){return u.props.handlers[e](t)}},a.a.createElement(O,null))})))}}])&&m(n.prototype,o),r&&m(n,r),t}(i.PureComponent);x.propTypes={handlers:r.a.object.isRequired,entity:c.a.record.isRequired,mousePosition:c.a.contains({x:r.a.number.isRequired,y:r.a.number.isRequired}),scaleX:r.a.number,scaleY:r.a.number,block:r.a.any.isRequired,pageSize:r.a.shape({width:r.a.number.isRequired,height:r.a.number.isRequired})}},"4lNQ":function(e,t,n){e.exports=n.p+"bbd98be12a445bd0655e95c2036de77b.svg"},"5I7P":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return E}));var o=n("q1tI"),r=n.n(o),i=n("17x9"),a=n.n(i),u=n("yb06"),c=n.n(u),l=n("vOnD"),s=(n("k0mc"),n("1+J2")),p=n("f4JI"),f=n("kyW3"),d=n.n(f),h=(n("ySsV"),n("USB3"));function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function m(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=l.default.div.withConfig({displayName:"CalloutPreviewreact__PreviewLink",componentId:"sc-1cexq7t-0"})(["background:#2d2d2d url(",") no-repeat center center;position:absolute;cursor:pointer;border-radius:4px;z-index:1;&:hover{text-decoration:none;}",""],n("CwAB"),(function(e){return e.theme.id===h.default.id&&"\n        background: ".concat(h.default.neutral80," url(").concat(n("uZ33"),") no-repeat center center;\n        background-size: 12px;\n    ")})),E=function(e){function t(){var e,n;b(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=m(this,(e=v(t)).call.apply(e,[this].concat(r))))._showCallout=function(e){n.props.onToggleCallout(n.props.entity,e),Object(s.logOpenObjectCalloutWebJs)({})},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){var e=this.props,t=e.entity,n=e.entityBounds,o=e.scaleX,i=e.scaleY,a=t.getCallout(),u=Object(p.default)(a.get("position"),20/o,20/i,{entityBounds:n,calloutScale:{scaleX:o,scaleY:i},scaleX:o,scaleY:i});return r.a.createElement(w,{className:d.a[a.get("position")],style:u,onMouseLeave:this.props.onMouseLeave,onMouseEnter:this.props.onMouseEnter,onClick:this._showCallout})}}])&&y(n.prototype,o),i&&y(n,i),t}(o.PureComponent);E.propTypes={entity:c.a.record.isRequired,entityBounds:a.a.shape({top:a.a.number.isRequired,left:a.a.number.isRequired,width:a.a.number.isRequired,height:a.a.number.isRequired}).isRequired,scaleX:a.a.number.isRequired,scaleY:a.a.number.isRequired,onToggleCallout:a.a.func.isRequired,onMouseLeave:a.a.func,onMouseEnter:a.a.func}},"6kTI":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));var o=n("XzT5"),r=n("q1tI"),i=n.n(r),a=n("H9x7"),u=n.n(a);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(){return l(this,t),p(this,f(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),n=t,(r=[{key:"showUpgradeDialog",value:function(){window.app.router.saveLocation(),window.app.router.navigate("//upgrade/flex_pages",{promote:{from:"flex_pages"}})}},{key:"render",value:function(){return i.a.createElement("div",{className:u.a.button,onClick:this.showUpgradeDialog},o.default.t("inspector.free.unlock_more_pages"))}}])&&s(n.prototype,r),a&&s(n,a),t}(r.PureComponent)},"70t9":function(e,t,n){"use strict";n.r(t),n.d(t,"Section",(function(){return p})),n.d(t,"SectionHeader",(function(){return f})),n.d(t,"SectionTitle",(function(){return d}));var o=n("q1tI"),r=n.n(o),i=n("vOnD"),a=n("17x9"),u=n.n(a),c=n("yb06"),l=n.n(c),s=n("oPkt"),p=i.default.div.withConfig({displayName:"ColorSectionreact__Section",componentId:"ey25ea-0"})(["margin:0px 0px 15px 0px;&:last-child{margin-bottom:0;}"]),f=i.default.div.withConfig({displayName:"ColorSectionreact__SectionHeader",componentId:"ey25ea-1"})(["display:flex;flex-direction:row;align-items:center;padding-bottom:10px;font-size:11px;"]),d=i.default.h3.withConfig({displayName:"ColorSectionreact__SectionTitle",componentId:"ey25ea-2"})(["flex-grow:1;font-size:12px;line-height:normal;"]),h=i.default.ul.withConfig({displayName:"ColorSectionreact__ColorList",componentId:"ey25ea-3"})(["display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-start;"]),g=i.default.li.withConfig({displayName:"ColorSectionreact__ColorListItem",componentId:"ey25ea-4"})(["display:inline-block;margin-right:5px;margin-bottom:5px;"]),b=function(e){var t=e.title,n=e.colors,o=e.onChoose;return r.a.createElement(p,{key:t},r.a.createElement(f,null,r.a.createElement(d,null,t)),!n.isEmpty()&&r.a.createElement(h,null,n.map((function(e){var t=e.value,n=e.displayValue,i=e.selected;return r.a.createElement(g,{key:t,title:n},r.a.createElement(s.default,{value:t,displayValue:n,active:i,onClick:o}))}))))};b.propTypes={title:u.a.string.isRequired,colors:l.a.list.isRequired,onChoose:u.a.func.isRequired},t.default=b},"76fW":function(e,t,n){var o=n("8tEq");"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(o,r);o.locals&&(e.exports=o.locals)},"7EpH":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var o=n("91cT"),r=n("Zcty");function i(){r.default.dispatch({type:o.START_NAVIGATING})}},"7NQ5":function(e,t,n){e.exports=n.p+"60893ff3aab174903f16d1ab3220fcdb.svg"},"7pL7":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i})),n.d(t,"Hsv",(function(){return a}));var o=n("SC+/");function r(e){if(e instanceof a)return new a(e.h,e.s,e.v,e.opacity);e instanceof o.rgb||(e=Object(o.rgb)(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),u=Math.max(t,n,r),c=u-i,l=NaN;return c&&(l=t===u?(n-r)/c+6*(n<r):n===u?(r-t)/c+2:(t-n)/c+4,l*=60),new a(l,c/u,u,e.opacity)}function i(e,t,n,o){return 1===arguments.length?r(e):new a(e,t,n,null==o?1:o)}function a(e,t,n,o){this.h=+e,this.s=+t,this.v=+n,this.opacity=+o}var u=a.prototype=i.prototype=Object.create(o.color.prototype);function c(e,t,n,r,i){return Object(o.rgb)(255*(e+r),255*(t+r),255*(n+r),i)}u.constructor=a,u.brighter=function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new a(this.h,this.s,this.v*e,this.opacity)},u.darker=function(e){return e=null==e?.7:Math.pow(.7,e),new a(this.h,this.s,this.v*e,this.opacity)},u.rgb=function(){var e=isNaN(this.h)?0:this.h%360+360*(this.h<0),t=isNaN(this.h)||isNaN(this.s)?0:this.s,n=this.v,o=this.opacity,r=n*t,i=r*(1-Math.abs(e/60%2-1)),a=n-r;return e<60?c(r,i,0,a,o):e<120?c(i,r,0,a,o):e<180?c(0,r,i,a,o):e<240?c(0,i,r,a,o):e<300?c(i,0,r,a,o):c(r,0,i,a,o)},u.displayable=function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.v&&this.v<=1&&0<=this.opacity&&this.opacity<=1}},"8bmW":function(e,t,n){e.exports=n.p+"5c35a1086431da745788ec8b9710cac1.svg"},"8tEq":function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._24lLGmRDcNw_dIH0AL_7iB {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    background: #fff;\n}\n\n._386twuBpgmEEmpVQeSAHto {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    opacity: 0.5;\n}\n\n._1ijU__Dq4DPLkrxGzj7F8- {\n    pointer-events: auto;\n    cursor: grab;\n}\n\n._1amREtop4c-HGwYbGbvI8z {\n    cursor: grabbing;\n}\n\n.wJem9qYHKSzsO5d_lR9U9 {\n    position: absolute;\n    overflow: hidden;\n}\n\n._mAVZ2K2bzwSWgxKA20k {\n    position: absolute;\n}\n\n._17DZGw_UMkidLQzj6zqI5u,\n._3f_i2tRbMJ0iQfXDBKEW95 {\n    width: 15px;\n    height: 3px;\n    left: 50%;\n    transform: translateX(-50%);\n}\n._17DZGw_UMkidLQzj6zqI5u:hover,\n._3f_i2tRbMJ0iQfXDBKEW95:hover {\n    transform: translateX(-50%) scale(1.5);\n}\n\n._3hpZSIf02CeSNPNFGL4cX6,\n._3eGpzkXhWxjiONt-rlaD21 {\n    width: 3px;\n    height: 15px;\n    top: 50%;\n    transform: translateY(-50%);\n}\n._3hpZSIf02CeSNPNFGL4cX6:hover,\n._3eGpzkXhWxjiONt-rlaD21:hover {\n    transform: translateY(-50%) scale(1.5);\n}\n\n._17DZGw_UMkidLQzj6zqI5u {\n    top: -4px;\n    cursor: n-resize;\n}\n._3f_i2tRbMJ0iQfXDBKEW95 {\n    bottom: -4px;\n    cursor: s-resize;\n}\n._3hpZSIf02CeSNPNFGL4cX6 {\n    left: -4px;\n    cursor: w-resize;\n}\n._3eGpzkXhWxjiONt-rlaD21 {\n    right: -4px;\n    cursor: e-resize;\n}\n\n._2-Z5KP4_DqT8SZxrVVyC-N {\n    top: -4px;\n    left: -4px;\n    cursor: nw-resize;\n}\n._2-Z5KP4_DqT8SZxrVVyC-N:hover {\n    transform: scale(1.5);\n}\n\n._1r2p9DbL8irH3tlvXFxn_w {\n    top: -4px;\n    right: -4px;\n    transform: rotate(90deg);\n    cursor: ne-resize;\n}\n._1r2p9DbL8irH3tlvXFxn_w:hover {\n    transform: rotate(90deg) scale(1.5);\n}\n\n._3Jk4Zm5I0v0qCRk0bhIyJs {\n    bottom: -4px;\n    right: -4px;\n    transform: rotate(180deg);\n    cursor: se-resize;\n}\n._3Jk4Zm5I0v0qCRk0bhIyJs:hover {\n    transform: rotate(180deg) scale(1.5);\n}\n\n._1EPEAYJ1xCcdvncIPoTPt8 {\n    bottom: -4px;\n    left: -4px;\n    transform: rotate(270deg);\n    cursor: sw-resize;\n}\n._1EPEAYJ1xCcdvncIPoTPt8:hover {\n    transform: rotate(270deg) scale(1.5);\n}\n\n.Vunraq2yFK8_L3qE9HYCc,\n.yCdcdFrZGotgRwIGkGAeA {\n    transition: transform 100ms ease-out;\n}\n",""]),t.locals={container:"_24lLGmRDcNw_dIH0AL_7iB",cropBackground:"_386twuBpgmEEmpVQeSAHto",draggableBackground:"_1ijU__Dq4DPLkrxGzj7F8-",draggingBackground:"_1amREtop4c-HGwYbGbvI8z",previewContainer:"wJem9qYHKSzsO5d_lR9U9",cropPreview:"_mAVZ2K2bzwSWgxKA20k",topHandle:"_17DZGw_UMkidLQzj6zqI5u",bottomHandle:"_3f_i2tRbMJ0iQfXDBKEW95",leftHandle:"_3hpZSIf02CeSNPNFGL4cX6",rightHandle:"_3eGpzkXhWxjiONt-rlaD21",topLeftHandle:"_2-Z5KP4_DqT8SZxrVVyC-N",topRightHandle:"_1r2p9DbL8irH3tlvXFxn_w",bottomRightHandle:"_3Jk4Zm5I0v0qCRk0bhIyJs",bottomLeftHandle:"_1EPEAYJ1xCcdvncIPoTPt8",sideHandle:"Vunraq2yFK8_L3qE9HYCc",cornerHandle:"yCdcdFrZGotgRwIGkGAeA"}},"92XO":function(e,t,n){e.exports=n.p+"ac512e0218ff98f8e187aa3f797b4603.svg"},"9EZc":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return O}));var o,r,i,a=n("XzT5"),u=n("q1tI"),c=n.n(u),l=n("17x9"),s=n.n(l),p=n("yb06"),f=n.n(p),d=n("/MKj"),h=n("dGoc"),g=n.n(h),b=n("244d");function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O=Object(d.connect)((function(e){var t=e.getIn(["revisions","editorState"]).getCurrentContent();return{content:t,totalPages:t.getBlocks().size}}))((i=r=function(e){function t(){return m(this,t),_(this,w(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){var e=this.props,t=e.block,n=e.children,o=e.content,r=e.totalPages,i=o.getBlockIndex(t.getKey())+1;return c.a.createElement("div",{className:g.a.blockContainer},c.a.createElement("div",{className:g.a.pageIndicatorText},a.default.t("app.freelayout_editor.page_n_of_m",{current:i,total:r})),c.a.createElement(b.default,{block:this.props.block,assets:this.props.assets,width:this.props.width,height:this.props.height,observer:this.props.observer},n))}}])&&v(n.prototype,o),r&&v(n,r),t}(u.PureComponent),r.propTypes={content:s.a.object.isRequired,children:s.a.node.isRequired,block:f.a.record.isRequired,assets:s.a.shape({getURL:s.a.func.isRequired}),totalPages:s.a.number.isRequired,width:s.a.number.isRequired,height:s.a.number.isRequired,observer:s.a.shape({observe:s.a.func.isRequired,unobserve:s.a.func.isRequired}).isRequired},o=i))||o},"9Glu":function(e,t,n){e.exports=n.p+"92d3ee8c901a1d1bb23df92bcc00274b.svg"},"9s3c":function(e,t,n){"use strict";n.r(t);var o=n("q1tI"),r=n.n(o),i=n("17x9"),a=n.n(i),u=n("yb06"),c=n.n(u),l=n("ZgL/"),s=n("dcZU");function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=d(this,h(t).call(this,e)))._refs={},n._handlers={connectorCreate:n._assignHandler("connectorCreate")},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,e),n=t,(o=[{key:"_assignHandler",value:function(e){var t=this;return function(n){n?l.default.addHandler(n,e,t.props.handlerKey):t._refs[e]&&l.default.removeHandler(t._refs[e],e,t.props.handlerKey),t._refs[e]=n}}},{key:"render",value:function(){return r.a.createElement(s.default,{entity:this.props.entity,handlers:this._handlers,scaleX:this.props.scaleX,scaleY:this.props.scaleY})}}])&&f(n.prototype,o),i&&f(n,i),t}(o.PureComponent);b.propTypes={entity:c.a.record.isRequired,handlerKey:a.a.string.isRequired,scaleX:a.a.number.isRequired,scaleY:a.a.number.isRequired},t.default=b},AM0O:function(e,t,n){"use strict";function o(e){if(!e)return!1;if(document.contains)return document.contains(e);for(var t=e;t;){if(t===document)return!0;t=t.parentNode}return!1}n.r(t),n.d(t,"documentContains",(function(){return o}))},B6Rb:function(e,t,n){"use strict";n.r(t),n.d(t,"getOverlayMode",(function(){return r}));var o=n("avnT");function r(e){return e.isConnector()?o.OVERLAY_MODES.CONNECTOR:"TEXT"===e.type?o.OVERLAY_MODES.TEXT:e.isLine()?o.OVERLAY_MODES.LINE:e.isHeightlessChart()?o.OVERLAY_MODES.CONTAINERLESS:o.OVERLAY_MODES.RECTANGLE}},B7SS:function(e,t,n){e.exports=n.p+"b80bce725d09cb73abe9355cc2417d9b.svg"},"BWw/":function(e,t,n){"use strict";n.r(t);var o=n("q1tI"),r=n.n(o),i=n("/MKj"),a=n("WExX"),u=n("9TEz"),c=n("FXuW"),l=n("pYhh"),s=n("F7Ir");t.default=function(){var e=Object(i.useSelector)((function(e){return e.get("onboarding")})),t=e.activeStep,n=e.targetBounds,o=e.calloutPosition,p=Object(i.useDispatch)();return t&&n&&o?r.a.createElement(r.a.Fragment,null,r.a.createElement(c.default,{description:s.OnboardingStepDescriptions[t](),targetBounds:n,position:o,onClose:function(){p({type:Object(a.getType)(u.removeOnboardingStep),payload:t})}}),r.a.createElement(l.Spotlight,{targetBounds:n})):null}},"Bq+y":function(e,t,n){"use strict";n.r(t);var o=n("q1tI"),r=n.n(o),i=n("vOnD"),a=n("USB3"),u=n("AM0O"),c=(n("pjmo"),{grid:"url(".concat(n("GnhQ"),")"),default:"url(".concat(n("XPW7"),")"),mobile:"url(".concat(n("4lNQ"),")")}),l={grid:"url(".concat(n("hfFo"),")"),default:"url(".concat(n("x6X5"),")"),mobile:"url(".concat(n("iDiz"),")")},s=i.default.div.withConfig({displayName:"PoppableButton__LayoutButton",componentId:"sc-1tdg3or-0"})(["width:100%;height:100%;background-image:",";background-size:",";background-position:",";background-repeat:no-repeat;font-size:9px;&:hover{background-color:#7d7d7d;}"," ",""],(function(e){return c[e.icon]}),(function(e){var t;return null!==(t=e.iconSize)&&void 0!==t?t:"19px 19px"}),(function(e){var t;return null!==(t=e.iconPosition)&&void 0!==t?t:"center 10px"}),(function(e){return e.active&&"\n        background-color: #7d7d7d;\n    "}),(function(e){return e.theme.id===a.default.id&&Object(i.css)(["background-image:",";font-family:",";&:hover{background-image:",";background-color:",";}",""],(function(e){return l[e.icon]}),a.default.fonts.ralewayBold,(function(e){return l[e.icon]}),a.default.neutral100,e.active&&Object(i.css)(["background-image:",";background-color:",";color:",";&:hover{background-image:",";background-color:",";}"],(function(e){return c[e.icon]}),a.default.blue400,a.default.white,(function(e){return c[e.icon]}),a.default.blue400))})),p=i.default.div.withConfig({displayName:"PoppableButton__LayoutButtonContainer",componentId:"sc-1tdg3or-1"})(["position:relative;width:48px;height:48px;cursor:pointer;background-color:#656565;z-index:2;position:relative;",""],(function(e){return e.theme.id===a.default.id&&"\n        width: 50px;\n        height: 50px;\n        color: ".concat(a.default.neutral600,";\n        background-color: unset;\n    ")})),f=i.default.div.withConfig({displayName:"PoppableButton__ButtonTitle",componentId:"sc-1tdg3or-2"})(["font-size:9px;padding-top:35px;"]),d=i.default.div.withConfig({displayName:"PoppableButton__Popup",componentId:"sc-1tdg3or-3"})(["position:absolute;left:100%;bottom:0;margin-left:5px;line-height:initial;"]);t.default=function(e){var t=e.title,n=e.tooltipText,i=e.open,a=e.toggle,c=e.icon,l=e.children,h=e.iconSize,g=e.iconPosition,b=Object(o.useRef)(null);Object(o.useEffect)((function(){function e(e){Object(u.documentContains)(e.target)&&b.current&&!b.current.contains(e.target)&&a(!1)}return i&&document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[i,a]);return r.a.createElement(p,null,i&&r.a.createElement(d,{ref:b},l),r.a.createElement(s,{onClick:function(){a()},active:i,"data-tooltip":n,"data-tooltip-position":"right",icon:c,iconSize:h,iconPosition:g},r.a.createElement(f,null,t)))}},Caa3:function(e,t,n){"use strict";n.r(t),t.default=function(e){return function(){return e}}},D4ZG:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._7F4Du4QULhT9hrP6W8dfc {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    background: #fff;\n    z-index: 1;\n}\n\n._2lgtazEtFwc2F5pJlUs8Ug {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    border: 1px dotted #3195cb;\n    transform-origin: 50% 50%;\n}\n\n._2lgtazEtFwc2F5pJlUs8Ug._2VEEObg5qY2LuwQH_xSb3N {\n    border-color: #1E55EB;\n}\n\n.Bk87vnu9ySW7PPGJCgWpT {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    opacity: .5;\n    pointer-events: auto;\n    cursor: grab;\n}\n\n._25FdaVd1hdY_MFUV2jIl6B {\n    pointer-events: auto;\n    cursor: grab;\n}\n\n._2JjwwFGXeVCMGaLVAPxCHd {\n    cursor: grabbing;\n}\n\n._1WCYG90HItV-GDrCwVHX_A {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n}\n\n._1mqEolyZPAOFLcc6Tv54Dx {\n    position: absolute;\n    pointer-events: none;\n}\n\n._6iLiQc328B94GBUVfdXHG {\n    cursor: ne-resize;\n}\n\n._3m-_bd9o4TRwVW4fIN-dIW {\n    cursor: se-resize;\n}\n\n.XDlnA8oHDEkx4ALDFDvGD {\n    cursor: sw-resize;\n}\n\n._1pYxf9xwsuCAArivN9kUlQ {\n    cursor: nw-resize;\n}\n",""]),t.locals={container:"_7F4Du4QULhT9hrP6W8dfc",mask:"_2lgtazEtFwc2F5pJlUs8Ug",maskPrezigram:"_2VEEObg5qY2LuwQH_xSb3N",background:"Bk87vnu9ySW7PPGJCgWpT",draggableBackground:"_25FdaVd1hdY_MFUV2jIl6B",draggingBackground:"_2JjwwFGXeVCMGaLVAPxCHd",preview:"_1WCYG90HItV-GDrCwVHX_A",selector:"_1mqEolyZPAOFLcc6Tv54Dx",ne:"_6iLiQc328B94GBUVfdXHG",se:"_3m-_bd9o4TRwVW4fIN-dIW",sw:"XDlnA8oHDEkx4ALDFDvGD",nw:"_1pYxf9xwsuCAArivN9kUlQ"}},DuYy:function(e,t,n){e.exports=n.p+"443f4544c10b6046c05e519bafc93d48.svg"},EKTl:function(e,t,n){e.exports=n.p+"440ad7459cef7c6f10696dff6d135bf9.svg"},F48k:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var o=n("Zcty"),r=n("hl5+");function i(e){o.default.dispatch({type:r.SET_LAYOUT,layout:e})}},F7Ir:function(e,t,n){"use strict";n.r(t),n.d(t,"OnboardingStepDescriptions",(function(){return u}));var o,r=n("XzT5"),i=n("3TRz");function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=(a(o={},i.OnboardingStep.AddItem,(function(){return r.default.t("app.onboarding.steps.add_item")})),a(o,i.OnboardingStep.ColorPaletteAndPageSize,(function(){return r.default.t("app.onboarding.steps.color_palette_and_page_size")})),a(o,i.OnboardingStep.PresentInFullScreen,(function(){return r.default.t("app.onboarding.steps.present_in_full_screen")})),a(o,i.OnboardingStep.ShareProject,(function(){return r.default.t("app.onboarding.steps.share_project")})),a(o,i.OnboardingStep.EditChartData,(function(){return r.default.t("app.onboarding.steps.edit_chart_data")})),a(o,i.OnboardingStep.SearchAssets,(function(){return r.default.t("app.onboarding.steps.search_assets")})),a(o,i.OnboardingStep.AddAnimation,(function(){return r.default.t("app.onboarding.steps.add_animation")})),a(o,i.OnboardingStep.EditImage,(function(){return r.default.t("app.onboarding.steps.edit_image")})),a(o,i.OnboardingStep.Checked,(function(){return""})),o)},FXuW:function(e,t,n){"use strict";n.r(t),n.d(t,"InfoCalloutZIndex",(function(){return l}));var o=n("q1tI"),r=n.n(o),i=n("vOnD"),a=n("pYhh"),u=n("USB3");function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],o=!0,r=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(o=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{o||null==u.return||u.return()}finally{if(r)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var l=a.SpotlightZIndex+1,s={left:function(){return Object(i.keyframes)(["0%{opacity:0;transform:translate3d(-10%,0,0);}100%{opacity:1;transform:translate3d(0,0,0);}"])},right:function(){return Object(i.keyframes)(["0%{opacity:0;transform:translate3d(10%,0,0);}100%{opacity:1;transform:translate3d(0,0,0);}"])},top:function(){return Object(i.keyframes)(["0%{opacity:0;transform:translate3d(0,-10%,0);}100%{opacity:1;transform:translate3d(0,0,0);}"])},bottom:function(){return Object(i.keyframes)(["0%{opacity:0;transform:translate3d(0,10%,0);}100%{opacity:1;transform:translate3d(0,0,0);}"])}},p=i.default.div.attrs((function(e){var t,n;return{style:{left:null!==(t=e.left)&&void 0!==t?t:-1e4,top:null!==(n=e.top)&&void 0!==n?n:-1e4}}})).withConfig({displayName:"InfoCallout__Callout",componentId:"sc-13eic8h-0"})(["position:fixed;width:260px;padding:12px 32px 12px 16px;background-color:",";border:1px solid ",";border-radius:4px;color:white;font-family:",";font-size:14px;line-height:20px;letter-spacing:0.25px;text-align:left;z-index:",";box-shadow:0 0 0 rgba(0,0,0,0.08),0 8px 16px rgba(5,18,37,0.24),0 16px 48px rgba(5,18,37,0.32);",' &:after,&:before{content:" ";height:0;width:0;position:absolute;pointer-events:none;border:solid transparent;}&:before{border-width:8px;'," "," "," ","}&:after{border-width:7px;"," "," "," ","}"],u.default.violet600,u.default.violet400,u.default.fonts.ralewaySemiBold,l,(function(e){return Object(i.css)(["animation:"," 0.5s;"],e.animation)}),(function(e){var t;return"left"===e.position&&Object(i.css)(["top:calc(50% - ","px);left:100%;border-left-color:",";margin-top:-8px;"],null!==(t=e.topOffset)&&void 0!==t?t:0,u.default.violet400)}),(function(e){var t;return"right"===e.position&&Object(i.css)(["top:calc(50% - ","px);right:100%;border-right-color:",";margin-top:-8px;"],null!==(t=e.topOffset)&&void 0!==t?t:0,u.default.violet400)}),(function(e){var t;return"top"===e.position&&Object(i.css)(["left:calc(50% - ","px);top:100%;border-top-color:",";margin-left:-8px;"],null!==(t=e.leftOffset)&&void 0!==t?t:0,u.default.violet400)}),(function(e){var t;return"bottom"===e.position&&Object(i.css)(["left:calc(50% - ","px);bottom:100%;border-bottom-color:",";margin-left:-8px;"],null!==(t=e.leftOffset)&&void 0!==t?t:0,u.default.violet400)}),(function(e){var t;return"left"===e.position&&Object(i.css)(["top:calc(50% - ","px);left:100%;border-left-color:",";margin-top:-7px;"],null!==(t=e.topOffset)&&void 0!==t?t:0,u.default.violet600)}),(function(e){var t;return"right"===e.position&&Object(i.css)(["top:calc(50% - ","px);right:100%;border-right-color:",";margin-top:-7px;"],null!==(t=e.topOffset)&&void 0!==t?t:0,u.default.violet600)}),(function(e){var t;return"top"===e.position&&Object(i.css)(["left:calc(50% - ","px);top:100%;border-top-color:",";margin-left:-7px;"],null!==(t=e.leftOffset)&&void 0!==t?t:0,u.default.violet600)}),(function(e){var t;return"bottom"===e.position&&Object(i.css)(["left:calc(50% - ","px);bottom:100%;border-bottom-color:",";margin-left:-7px;"],null!==(t=e.leftOffset)&&void 0!==t?t:0,u.default.violet600)})),f=i.default.button.withConfig({displayName:"InfoCallout__CloseButton",componentId:"sc-13eic8h-1"})(["width:16px;height:16px;position:absolute;top:8px;right:8px;border-radius:50%;background:rgba(0,0,0,0.4) url(",") center no-repeat;&:hover{background-color:rgba(0,0,0,0.6);}"],n("tcqe"));t.default=function(e){var t=Object(o.useRef)(null),n=c(Object(o.useState)(-1e4),2),i=n[0],a=n[1],u=c(Object(o.useState)(-1e4),2),l=u[0],d=u[1],h=c(Object(o.useState)(0),2),g=h[0],b=h[1],y=c(Object(o.useState)(0),2),m=y[0],v=y[1],_=c(Object(o.useState)(),2),w=_[0],E=_[1];return Object(o.useEffect)((function(){if(t.current){var n=t.current.getBoundingClientRect(),o=e.position,r=e.targetBounds,i=r.left,u=r.top;switch(o){case"left":u+=r.height/2-n.height/2,i-=n.width+15;break;case"right":u+=r.height/2-n.height/2,i+=r.width+15;break;case"top":u-=n.height+15,i+=r.width/2-n.width/2;break;case"bottom":u+=r.height+15,i+=r.width/2-n.width/2}var c=i<10?10-i:i+n.width>window.innerWidth-10?window.innerWidth-10-i-n.width:0;i+=c;var l=u<10?10-u:u+n.height>window.innerHeight-10?window.innerHeight-10-u-n.height:0;u+=l,a(i),d(u),b(c),v(l),E(s[o])}}),[e,t]),r.a.createElement(p,{ref:t,position:e.position,left:i,top:l,leftOffset:g,topOffset:m,animation:w},e.description,r.a.createElement(f,{onClick:e.onClose}))}},GRZN:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return S}));var o,r,i,a=n("XzT5"),u=n("q1tI"),c=n.n(u),l=n("17x9"),s=n.n(l),p=n("/MKj"),f=n("wd/R"),d=n.n(f),h=n("TSYQ"),g=n.n(h),b=n("rMMX"),y=n("ZGOS"),m=n.n(y);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function E(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var S=Object(p.connect)((function(e){var t=e.getIn(["revisions","selectedIndex"]),n=e.getIn(["revisions","revisions"]),o={selectedIndex:t};if(t&&n.size){var r=n.filter((function(e){return!e.get("hidden")})).get(t);r&&(o.name=r.get("userName"),o.avatar=r.get("userAvatar"),o.date=d.a.unix(r.get("createdAt")).format("YYYY-MM-DD, H:mm"))}return o}))((i=r=function(e){function t(){return _(this,t),E(this,O(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){var e;return e=this.props.selectedIndex?c.a.createElement("div",{className:m.a.version},c.a.createElement("div",{className:m.a.date},this.props.date),c.a.createElement(b.default,{avatarClass:m.a.avatar,avatarImage:this.props.avatar,fullName:this.props.name}),c.a.createElement("div",{className:m.a.name},this.props.name)):c.a.createElement("div",{className:m.a.version},a.default.t("app.revisions.current_version")),c.a.createElement("div",{className:m.a.title},c.a.createElement("div",{className:g()("icon-history",m.a.icon)}),c.a.createElement("div",{className:m.a.label},a.default.t("app.revisions.version_history_label")),e)}}])&&w(n.prototype,o),r&&w(n,r),t}(u.PureComponent),r.propTypes={selectedIndex:s.a.number.isRequired,date:s.a.string,avatar:s.a.string,name:s.a.string},o=i))||o},GTRv:function(e,t,n){e.exports=n.p+"0c45ba9ec1c45169d6726a6afe084a9f.svg"},GnhQ:function(e,t,n){e.exports=n.p+"47c5b128347e448182388404d5fc7e20.svg"},H9x7:function(e,t,n){var o=n("hBIi");"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(o,r);o.locals&&(e.exports=o.locals)},HB54:function(e,t,n){var o=n("h0S4");"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(o,r);o.locals&&(e.exports=o.locals)},HOYV:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return O}));var o=n("q1tI"),r=n.n(o),i=n("17x9"),a=n.n(i),u=n("XzT5"),c=n("vOnD"),l=n("fRwP"),s=n("aFOO"),p=n("n9R5"),f=n("USB3");function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function y(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=c.default.div.withConfig({displayName:"FactsAndFiguresRichTextSettingsreact__Container",componentId:"sc-1y8atzr-0"})(["background-color:#3b3b3b;display:flex;flex-direction:column;height:100%;",""],(function(e){return e.theme.id===f.default.id&&"\n        background-color: ".concat(f.default.white,";\n    ")})),w=c.default.div.withConfig({displayName:"FactsAndFiguresRichTextSettingsreact__ContentsWrapper",componentId:"sc-1y8atzr-1"})(["flex-grow:1;position:relative;"]),E=c.default.div.withConfig({displayName:"FactsAndFiguresRichTextSettingsreact__Contents",componentId:"sc-1y8atzr-2"})(["position:absolute;top:0;left:0;right:0;bottom:30px;"]),O=function(e){function t(){return g(this,t),y(this,m(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){return r.a.createElement(_,null,r.a.createElement(l.default,{title:u.default.t("app.chart_settings.element_text")}),r.a.createElement(w,null,r.a.createElement(E,null,r.a.createElement(s.default,{height:"100%"},r.a.createElement(p.default,h({},this.props,{disableAccessibility:!0}))))))}}])&&b(n.prototype,o),i&&b(n,i),t}(o.PureComponent);O.propTypes={entity:a.a.any,design:a.a.any,template:a.a.string}},Hejo:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return X}));var o,r,i,a=n("LvDl"),u=n.n(a),c=n("q1tI"),l=n.n(c),s=n("17x9"),p=n.n(s),f=n("yb06"),d=n.n(f),h=n("IYwU"),g=n("/MKj"),b=n("TSYQ"),y=n.n(b),m=n("EKef"),v=n("Sye6"),_=n("34VB"),w=n("ySsV"),E=n("rQKZ"),O=n("hl5+"),x=n("aXXi"),S=n("pWtM"),C=(n("zHWi"),n("gn/5")),k=n("OG9s"),j=n("MxqP"),P=n("/TeS"),R=n("xVW7"),I=n("6kTI"),T=n("0ENQ"),D=n("+Ldj"),N=n.n(D);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function q(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Y(e,t,n){return t&&U(e.prototype,t),n&&U(e,n),e}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var X=Object(h.DropTarget)("ELEMENT_MENU_ITEM",{drop:function(e,t){return t.getClientOffset()}},(function(e){return{connectDropTarget:e.dropTarget()}}))(o=Object(g.connect)((function(e){var t=e.get("conversations"),n=e.get("zoomPosition"),o=n.staticPagePositionX,r=n.staticPagePositionY,i=n.pagePositionX,a=n.pagePositionY,u=e.get("flexEditorGrid"),c=u.whitespacePercent,l=u.columnCount,s=u.rowSpacing,p=e.get("localProjectSettings"),f=p.showGuides,d=p.snapObjects,h=p.elementsOutsideBlockVisible;return{footerSettings:e.get("footerSettings"),guideSettings:{showGuides:f,snapObjects:d,whitespacePercent:c,columnCount:l,rowSpacing:s},commenting:t.commenting,commentingIsAvailable:t.commentingEnabled||t.triggerUpgrade,commentingTriggerUpgrade:t.triggerUpgrade,comments:t.comments,thumbsView:e.getIn(["editorZoom","thumbsView"]),staticPagePositionX:o,staticPagePositionY:r,pagePositionX:i,pagePositionY:a,elementsOutsideBlockVisible:h}}),(function(e){return{notifySelectionChange:function(t,n){e({type:x.FLEX_EDITOR_SELECTION_CHANGED,payload:{projectId:t,selection:n}})},updateMousePosition:function(t,n){e({type:x.MOUSE_MOVE,payload:{x:t,y:n}})},onAddComment:function(t,n,o){e(Object(C.default)(t,n,o))},onMoveComment:function(t,n){e(Object(k.default)(t,n))},onCommentPositionChanged:function(t){e(Object(j.saveCommentPosition)(t))},onToggleComment:function(t){e({type:P.CONVERSATIONS_TOGGLE_MARKER,payload:{key:t.key}})},onCloseConversations:function(){e({type:P.CONVERSATIONS_CLOSE_SIDEBAR})},onScale:function(t){e({type:O.EDITOR_SCALE,payload:{scale:t}})},onToggleCallout:function(t){e({type:T.CALLOUTS_TOGGLE_CALLOUT,payload:{entity:t}})},saveEditorPosition:function(){e({type:O.EDITOR_STATIC_POSITION})},updateEditorPosition:function(t,n){e({type:O.EDITOR_POSITION,payload:{pagePosition:{x:t,y:n}}})}}}),null,{areStatesEqual:function(e,t){return e.get("conversations")===t.get("conversations")&&e.get("footerSettings")===t.get("footerSettings")&&e.get("flexEditorGrid")===t.get("flexEditorGrid")&&e.get("localProjectSettings")===t.get("localProjectSettings")&&e.get("editorZoom")===t.get("editorZoom")&&e.get("zoomPosition")===t.get("zoomPosition")}})(o=Object(E.default)({withProps:!0})((i=r=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,r=A(t).call(this,e),(n=!r||"object"!==L(r)&&"function"!=typeof r?B(o):r)._updateMousePositionWithChecks=n._updateMousePositionWithChecks.bind(B(n)),n.throttledUpdateMousePosition=u.a.throttle((function(e,t){n.props.updateMousePosition(e,t)}),100),n._addComment=n._addComment.bind(B(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(t,e),Y(t,null,[{key:"getStores",value:function(){return[m.default,v.default,w.default,R.default]}},{key:"calculateState",value:function(e,t){var n=v.default.currentSelection,o=!(R.default.resizing||R.default.dragging||R.default.navigating)&&(t.commenting||!n.isEmpty());return{projectId:w.default.infographicId,isZoomLayout:w.default.isZoomLayout,editorState:m.default.editorState,initialBoundingBox:v.default.initialBoundingBox,multiSelectionActive:v.default.multiSelectionActive,groupsInEditMode:v.default.groupsInEditMode,currentSelection:n,mousePositionUpdatesEnabled:o,navigating:R.default.navigating}}}]),Y(t,[{key:"render",value:function(){var e,t=this.props,n=t.connectDropTarget,o=q(t,["connectDropTarget"]);e=S.default;var r=y()(N.a.droppableInfographicEditor,this.state.isZoomLayout&&N.a.zoomContainer);return n(l.a.createElement("div",{className:r},l.a.createElement(_.default,M({isZoomLayout:this.state.isZoomLayout,blockOverlayComponent:e,currentSelection:this.state.currentSelection,editorState:this.state.editorState,initialBoundingBox:this.state.initialBoundingBox,multiSelectionActive:this.state.multiSelectionActive,footerSettings:this.props.footerSettings,guideSettings:this.props.guideSettings,groupsInEditMode:this.state.groupsInEditMode},o,{updateMousePosition:this._updateMousePositionWithChecks,navigating:this.state.navigating,thumbsView:this.props.thumbsView,onAddComment:this._addComment,pageUpgradeComponent:I.default,projectId:w.default.infographicId}))))}},{key:"componentDidUpdate",value:function(e,t){t.currentSelection!==this.state.currentSelection&&this.props.notifySelectionChange(this.state.projectId,[].concat(z(this.state.currentSelection.getEntities()),z(this.state.currentSelection.getBlocks())))}},{key:"componentDidMount",value:function(){var e=this,t=function(e){var t=document.body.clientWidth;t-=410;var n=e.getPageSize().width;if(n<=t)return 1;return t/n}(this.state.editorState);t<1&&requestAnimationFrame((function(){return e.props.onScale(t)}))}},{key:"_updateMousePositionWithChecks",value:function(e,t){var n=this;this.state.mousePositionUpdatesEnabled&&(this.props.commenting?requestAnimationFrame((function(){return n.props.updateMousePosition(e,t)})):this.throttledUpdateMousePosition(e,t))}},{key:"_addComment",value:function(e,t,n){this.props.commentingTriggerUpgrade?(window.app.router.saveLocation(),window.app.router.navigate("//upgrade/commenting",{promote:{from:"commenting"}})):(n.isZoomLayout=this.state.isZoomLayout,this.props.onAddComment(e,t,n))}}]),t}(l.a.Component),r.propTypes={connectDropTarget:p.a.func.isRequired,footerSettings:p.a.shape({backgroundColor:p.a.string,backgroundOpacity:p.a.number.isRequired,bold:p.a.bool,footerLayout:p.a.string,footnoteType:p.a.string,footnoteText:p.a.string,footnoteStyle:p.a.shape({bold:p.a.bool,italic:p.a.bool,fontSize:p.a.number,color:p.a.string}),italic:p.a.bool,logoType:p.a.string,logoImage:p.a.string,logoName:p.a.string,footerLink:p.a.string}),guideSettings:p.a.shape({showGuides:p.a.bool.isRequired,snapObjects:p.a.bool.isRequired,whitespacePercent:p.a.number.isRequired,columnCount:p.a.number.isRequired,rowSpacing:p.a.number.isRequired}),notifySelectionChange:p.a.func.isRequired,updateMousePosition:p.a.func.isRequired,onAddComment:p.a.func.isRequired,onMoveComment:p.a.func.isRequired,onCommentPositionChanged:p.a.func.isRequired,onToggleComment:p.a.func.isRequired,onCloseConversations:p.a.func.isRequired,commenting:p.a.bool.isRequired,commentingIsAvailable:p.a.bool.isRequired,commentingTriggerUpgrade:p.a.bool.isRequired,comments:d.a.list,scroll:p.a.object,thumbsView:p.a.bool,onScale:p.a.func.isRequired,onToggleCallout:p.a.func.isRequired,elementsOutsideBlockVisible:p.a.bool},o=i))||o)||o)||o},KJEt:function(e,t,n){var o=n("tE8V");"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(o,r);o.locals&&(e.exports=o.locals)},KoyB:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var o=n("pWQL"),r=n("01y2"),i=n("lUqP"),a=n("EKef");function u(e){switch(e.getTypeMod()){case o.MAP:return{component:r.default,props:{chartId:e.id}};case o.FACTS_AND_FIGURES_V2:return{component:i.default,props:{chartId:e.id,entity:a.default.editorState.getEntity(e.id)}}}}},L7g7:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._3RlZyoFq8cVDAlWG1Sw_kg {\n    position: absolute;\n    top: -30px;\n    right: -30px;\n    bottom: -30px;\n    left: -30px;\n}\n\n._3gXkVFyF4sqO8qbVoF94w3 {\n    position: absolute;\n    top: 30px;\n    right: 30px;\n    bottom: 30px;\n    left: 30px;\n    cursor: move;\n}\n\n._1BZIFp5hXUEWExNBdUJ9X0 {\n    pointer-events: auto;\n    position: absolute;\n    height: 11px;\n    width: 11px;\n    padding: 3px;\n}\n\n._1UP3fhANfTxN0p3PTRxaUv {\n    pointer-events: auto;\n    position: absolute;\n}\n\n.JobBQiwGqcOI6IQgJAZxP {\n    position: absolute;\n    margin-left: auto;\n    margin-right: auto;\n    left: 0px;\n    bottom: 0px;\n    cursor: pointer;\n    pointer-events: auto;\n}\n\n._2HwFDLuGWzO6CqrKkvkufK {\n    top: 22px;\n    right: 22px;\n}\n\n._2bY6bQQr7zN5JZy7Dptb1E {\n    bottom: 22px;\n    right: 22px;\n}\n\n._1URne1OECr2LNWwkVDV_RI {\n    bottom: 22px;\n    left: 22px;\n}\n\n._17Sum2bPk_4yUpBBPSUqq9 {\n    top: 22px;\n    left: 22px;\n}\n\n._13eq5M1ngWKc96cPdiPj3a {\n    top: 22px;\n    left: calc(50% - 8px);\n}\n\n.eyWKfy-g7yzv2hk2A4h24,\n._1-28k5q9Bj-G-tx0-8_WuF {\n    top: calc(50% - 8px);\n    left: 22px;\n}\n\n._22ez5hpRDc1gA9_j3-NvKO {\n    bottom: 22px;\n    left: calc(50% - 8px);\n}\n\n._13oA2Cf__9Bc1PhlwGQSME,\n._22tWNUCFbDdKHwX5bBN2r6 {\n    right: 22px;\n    top: calc(50% - 8px);\n}\n\n.sjgFRLhVr_2Zy8vYtfcCA {\n    top: calc(50% - 7px);\n    left: 23px;\n}\n\n._1tVw9zDNweqixeFpQYHrf4 {\n    top: calc(50% - 7px);\n    right: 23px;\n}\n\n.RtSgSBxPJBfeI5YGT_Uan {\n    top: -19px;\n    right: -1px;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n    position: absolute;\n    color: white;\n    white-space: nowrap;\n    padding: 3px;\n    font-size: 12px;\n}\n",""]),t.locals={selector:"_3RlZyoFq8cVDAlWG1Sw_kg",border:"_3gXkVFyF4sqO8qbVoF94w3",resizeHandle:"_1BZIFp5hXUEWExNBdUJ9X0",lineResizeHandle:"_1UP3fhANfTxN0p3PTRxaUv",rotationIcon:"JobBQiwGqcOI6IQgJAZxP",ne:"_2HwFDLuGWzO6CqrKkvkufK",se:"_2bY6bQQr7zN5JZy7Dptb1E",sw:"_1URne1OECr2LNWwkVDV_RI",nw:"_17Sum2bPk_4yUpBBPSUqq9",n:"_13eq5M1ngWKc96cPdiPj3a",w:"eyWKfy-g7yzv2hk2A4h24",right:"_1-28k5q9Bj-G-tx0-8_WuF",s:"_22ez5hpRDc1gA9_j3-NvKO",e:"_13oA2Cf__9Bc1PhlwGQSME",left:"_22tWNUCFbDdKHwX5bBN2r6",begin:"sjgFRLhVr_2Zy8vYtfcCA",end:"_1tVw9zDNweqixeFpQYHrf4",username:"RtSgSBxPJBfeI5YGT_Uan"}},L91u:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return D}));var o,r,i,a=n("q1tI"),u=n.n(a),c=n("17x9"),l=n.n(c),s=n("TSYQ"),p=n.n(s),f=n("/MKj"),d=n("t/UT"),h=n("rQKZ"),g=n("ySsV"),b=n("34VB"),y=n("9EZc"),m=n("4aXp"),v=n("db09"),_=n("wnN6"),w=n("JXSR"),E=n("dGoc"),O=n.n(E),x=n("GlmT");function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function R(e,t,n){return t&&P(e.prototype,t),n&&P(e,n),e}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var T=function(e,t,n,o){return n.renderItemContentsFn||(n.renderItemContentsFn=m.default),n.readOnly=!0,n.design=t,Object(m.default)(e,t,n,o)},D=Object(f.connect)((function(e){return{editorState:e.getIn(["revisions","editorState"]),zoom:e.getIn(["editorZoom","zoom"])}}),(function(e){return{requestLiveDataRefresh:function(){e({type:x.LOAD_LIVE_DATA_ONCE})}}}))(o=Object(h.default)()((i=r=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=k(this,j(t).call(this,e))).state={containerViewportWidth:void 0},n.contents=u.a.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(t,e),R(t,null,[{key:"getStores",value:function(){return[g.default]}},{key:"calculateState",value:function(){return{isZoomLayout:g.default.isZoomLayout}}}]),R(t,[{key:"componentDidMount",value:function(){if(!this.scroller&&this.contents.current&&(this.scroller=new d.default(this.contents.current)),this.state.isZoomLayout){var e=this.contents.current.offsetWidth-110;this.setState({containerViewportWidth:e})}this.props.requestLiveDataRefresh()}},{key:"componentWillUnmount",value:function(){this.scroller&&this.scroller.destroy()}},{key:"render",value:function(){var e=this.props,t=e.editorState,n=e.zoom,o=e.userHasAccess;return this.state.isZoomLayout?u.a.createElement("div",{className:p()(O.a.contents,C({},O.a.contentsPaywall,!o)),ref:this.contents},u.a.createElement(N,{editorState:t,viewportWidth:this.state.containerViewportWidth,zoom:n},u.a.createElement(b.default,{editorState:t,renderItemContentsFn:T,blockWrapperComponent:y.default,scaleX:n,scaleY:n,readOnly:!0,scroll:this.scroller,blockOverlayComponent:v.default}))):u.a.createElement("div",{className:p()(O.a.contents,C({},O.a.contentsPaywall,!o)),ref:this.contents},u.a.createElement(b.default,{editorState:t,renderItemContentsFn:T,blockWrapperComponent:y.default,scaleX:n,scaleY:n,readOnly:!0,scroll:this.scroller,blockOverlayComponent:v.default}))}}]),t}(a.Component),r.propTypes={userHasAccess:l.a.bool.isRequired,editorState:l.a.object,zoom:l.a.number,requestLiveDataRefresh:l.a.func.isRequired},o=i))||o)||o,N=function(e){var t=e.viewportWidth,n=e.editorState,o=e.zoom,r=(n=Object(_.adjustEditorForZoom)(n)).getCurrentContent().getBlocks().first().key,i=(n=Object(w.default)(n,r,"hideFooter",!0)).getPageSize().width;return o=Object(_.calculateZoom)(i,t),u.a.Children.map(e.children,(function(e){return u.a.cloneElement(e,{editorState:n,scaleX:o,scaleY:o})}))}},Lgib:function(e,t,n){var o=n("R8DA");"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(o,r);o.locals&&(e.exports=o.locals)},M3jb:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return M}));var o,r,i,a=n("q1tI"),u=n.n(a),c=n("vOnD"),l=n("XzT5"),s=n("/MKj"),p=n("17x9"),f=n.n(p),d=n("wwPv"),h=n("fRwP"),g=n("AQvS"),b=n("sXZY"),y=n("9+8+"),m=n("cN4A"),v=n("oN28"),_=n("aFOO"),w=n("kxzZ"),E=n("h7h9"),O=n("vFyM"),x=n("dyKX");function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function j(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var I=c.default.img.withConfig({displayName:"IconSettingsreact__Thumbnail",componentId:"xhdqab-0"})(["width:60px;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;"]),T=c.default.div.withConfig({displayName:"IconSettingsreact__GraphicContainer",componentId:"xhdqab-1"})(["display:flex;flex-direction:column;height:100%;"]),D=c.default.div.withConfig({displayName:"IconSettingsreact__ContentsWrapper",componentId:"xhdqab-2"})(["flex-grow:1;position:relative;"]),N=c.default.div.withConfig({displayName:"IconSettingsreact__Contents",componentId:"xhdqab-3"})(["position:absolute;top:0;left:0;right:0;bottom:30px;"]),L=c.default.div.withConfig({displayName:"IconSettingsreact__Block",componentId:"xhdqab-4"})(["display:block;position:relative;margin:10px;"]),z=c.default.div.withConfig({displayName:"IconSettingsreact__Label",componentId:"xhdqab-5"})(["font-size:11px;line-height:26px;"]),M=Object(s.connect)((function(e){var t=e.get("factsAndFigures");return{path:t.path,transform:t.transform,opacity:t.opacity,tooltip:t.tooltip,link:t.link,color:t.color,chart:t.chart,sheetIndex:t.sheetIndex,rowNumber:t.rowNumber,chartId:O.default.chartId}}),(function(e){return{setProperty:function(t,n){e({type:x.FACTS_AND_FIGURES_SET_ICON_PROPERTY,payload:{name:t,value:n}})},setIcon:function(t){e({type:x.FACTS_AND_FIGURES_SET_ICON,payload:{icon:t}})}}}))((i=r=function(e){function t(){var e,n;C(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=j(this,(e=P(t)).call.apply(e,[this].concat(r)))).onChangeOpacity=function(e){var t=n.props,o=t.sheetIndex,r=t.chartId,i=t.rowNumber,a=t.setProperty,u=E.default.getEntity(r).chart,c=u.get("data");c[o][i][2].opacity=e/100,u.set("data",c),a("opacity",e/100),Object(w.updateChart)(u)},n.onChangeLink=function(e){var t=n.props,o=t.sheetIndex,r=t.chartId,i=t.rowNumber,a=t.setProperty,u=E.default.getEntity(r).chart,c=u.get("data");c[o][i][2].link=e,u.set("data",c),a("link",e),Object(w.updateChart)(u)},n.onChangeTooltip=function(e){var t=e.target.value,o=n.props,r=o.sheetIndex,i=o.chartId,a=o.rowNumber,u=o.setProperty,c=E.default.getEntity(i).chart,l=c.get("data");l[r][a][2].tooltip=t,c.set("data",l),u("tooltip",t),Object(w.updateChart)(c)},n.onChangeIcon=function(e){var t=n.props,o=t.sheetIndex,r=t.chartId,i=t.rowNumber,a=t.setIcon,u=E.default.getEntity(r).chart,c=u.get("data");c[o][i][2].name=e.value,u.set("data",c),a(e.value),Object(w.updateChart)(u)},n.onChangeColor=function(e){var t=n.props,o=t.sheetIndex,r=t.chartId,i=t.rowNumber,a=t.setProperty,u=E.default.getEntity(r).chart,c=u.get("data");c[o][i][2].color=e.displayValue,u.set("data",c),a("color",e.displayValue),Object(w.updateChart)(u)},n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){var e=this.props,t=e.path,n=e.transform,o=e.opacity,r=e.tooltip,i=e.link,a=e.color,c=u.a.createElement(I,{src:'data:image/svg+xml;utf8,\n                    <svg\n                        width="'.concat(32,'"\n                        height="').concat(32,'"\n                        version="1.1"\n                        xmlns="http://www.w3.org/2000/svg"\n                        viewBox="0 0 ').concat(32," ").concat(32,'"\n                    >\n                        <path d="').concat(t,'" fill="rgb(0,0,0)" transform="').concat(n,'"/>\n                    </svg>\n                '),alt:l.default.t("inspector.responsive.graphics.graphic_preview")});return u.a.createElement(T,null,u.a.createElement(h.default,{title:l.default.t("app.chart_settings.change_icon")}),u.a.createElement(D,null,u.a.createElement(N,null,u.a.createElement(_.default,{height:"100%"},u.a.createElement(d.default,{activeGraphicThumbnail:c,graphicType:"svg-icon",onChange:this.onChangeIcon}),u.a.createElement(g.default,null),u.a.createElement(L,null,u.a.createElement(z,null,l.default.t("inspector.free.entity.opacity")),u.a.createElement(b.default,{min:0,max:100,value:100*o,onChange:this.onChangeOpacity,formatDecimals:0})),u.a.createElement(g.default,null),u.a.createElement(L,null,u.a.createElement(v.default,{activeColor:a,onChange:this.onChangeColor,name:l.default.t("inspector.free.color_fill")})),u.a.createElement(g.default,null),u.a.createElement(L,null,u.a.createElement(y.default,{customInputCss:"\n                                        height: 30px;\n                                        font-size: 13px;\n                                    ",customLabelCss:"line-height: 26px;",name:name,label:l.default.t("inspector.responsive.graphics.tooltip"),value:r,onChange:this.onChangeTooltip,onBlur:this.onChangeTooltip})),u.a.createElement(m.default,{link:i,onChange:this.onChangeLink})))))}}])&&k(n.prototype,o),r&&k(n,r),t}(a.PureComponent),r.propTypes={path:f.a.string,transform:f.a.string,opacity:f.a.number,tooltip:f.a.string,link:f.a.string,color:f.a.string,chart:f.a.object,sheetIndex:f.a.number,rowNumber:f.a.number,setIcon:f.a.func.isRequired,setProperty:f.a.func.isRequired,chartId:f.a.any},o=i))||o},M5lW:function(e,t,n){e.exports=n.p+"ca522a1d9bbb4feae4910ac8893b0d8c.svg"},MIJD:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return j}));var o,r,i,a=n("q1tI"),u=n.n(a),c=n("17x9"),l=n.n(c),s=n("yb06"),p=n.n(s),f=n("rQKZ"),d=n("sPuu"),h=n("vmwM"),g=n("hl5+"),b=n("/QJz"),y=n("W0Zp"),m=n("xVW7"),v=n("X7Jj"),_=n("30eB"),w=n.n(_);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function S(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var j=Object(f.default)({withProps:!0})((i=r=function(e){function t(){var e,n;O(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=S(this,(e=C(t)).call.apply(e,[this].concat(r)))).state={hovered:!1},n._hover=function(){!n.state.hovered&&n.setState({hovered:!0})},n._unhover=function(){n.state.hovered&&n.setState({hovered:!1})},n._handleMouseDown=function(e){n.props.onMouseDown&&n.props.onMouseDown(n.props.entity,e)},n._handleMouseUp=function(e){n.props.onMouseUp&&n.props.onMouseUp(n.props.entity,e)},n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,e),n=t,r=[{key:"getStores",value:function(){return[h.default,m.default]}},{key:"calculateState",value:function(e,t){return{clipping:h.default.activeEntityKey===t.entity.getKey()?h.default.activeType:null,resizing:m.default.resizing,dragging:m.default.dragging}}}],(o=[{key:"render",value:function(){var e,t=this.props,n=t.design,o=t.assets,r=t.entity,i=t.scaleX,a=t.scaleY,c=t.selected,l=this.state,s=l.clipping,p=l.resizing,f=l.dragging,h=Object(d.default)(r,n,{scaleX:i,scaleY:a,rotate:0,resizeOnInit:!0},{readOnly:!1,inEditMode:!0,assets:o}),m=r.getProperty("crop"),_=r.getProperty("mask"),E=s?r:r.bounds(),O={left:E.left*i,top:E.top*a,width:E.width*i,height:E.height*a,zIndex:s?2:1};if(s===g.IMAGE_CROP?e=u.a.createElement(b.default,{entity:r,scaleX:i,scaleY:a}):s===g.IMAGE_MASK&&(e=u.a.createElement(y.default,{entity:r,scaleX:i,scaleY:a})),s&&m){var x=m.get("left")+(100-m.get("left")-m.get("right"))/2,S=m.get("top")+(100-m.get("top")-m.get("bottom"))/2;O.transformOrigin="".concat(x,"% ").concat(S,"%")}else if(s&&_){var C=100*_.get("center").get("left"),k=100*_.get("center").get("top");O.transformOrigin="".concat(C,"% ").concat(k,"%")}return u.a.createElement("div",{className:w.a.calloutEditItem,style:O},u.a.createElement("div",{onMouseMove:this._hover,onMouseLeave:this._unhover,onMouseDown:this._handleMouseDown,onMouseUp:this._handleMouseUp},!e&&h),!s&&(c||this.state.hovered)&&u.a.createElement(v.default,{entity:r,width:O.width,height:O.height,selected:c,dragging:f,resizing:p,hovered:this.state.hovered}),e)}}])&&x(n.prototype,o),r&&x(n,r),t}(a.Component),r.propTypes={entity:p.a.record.isRequired,design:p.a.map.isRequired,assets:l.a.shape({getURL:l.a.func.isRequired}),scaleX:l.a.number.isRequired,scaleY:l.a.number.isRequired,selected:l.a.bool,onMouseDown:l.a.func.isRequired,onMouseUp:l.a.func.isRequired},o=i))||o},MYRr:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var o=n("q1tI"),r=n.n(o),i=n("17x9"),a=n.n(i),u=n("TSYQ"),c=n.n(u),l=n("Lgib"),s=n.n(l);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function h(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m={n:c()(s.a.sideHandle,s.a.n,y({},s.a.prezigram,!1)),ne:c()(s.a.cornerHandle,s.a.ne,y({},s.a.prezigram,!1)),e:c()(s.a.sideHandle,s.a.e,y({},s.a.prezigram,!1)),se:c()(s.a.cornerHandle,s.a.se,y({},s.a.prezigram,!1)),s:c()(s.a.sideHandle,s.a.s,y({},s.a.prezigram,!1)),sw:c()(s.a.cornerHandle,s.a.sw,y({},s.a.prezigram,!1)),w:c()(s.a.sideHandle,s.a.w,y({},s.a.prezigram,!1)),nw:c()(s.a.cornerHandle,s.a.nw,y({},s.a.prezigram,!1))},v=function(e){function t(){var e,n;f(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=h(this,(e=g(t)).call.apply(e,[this].concat(r)))).state={selectedOrigin:void 0},n._refHandler=function(e){if(e){var t=e.getAttribute("data-origin");n._assignHandler(e,t)}},n._assignHandler=function(e,t){(Object.keys(m).indexOf(t)%2?n.props.handlers.resize:n.props.handlers.resizeSide)(e,t)},n._selectOrigin=function(e){var t=e.target.getAttribute("data-origin");n.setState({selectedOrigin:t})},n._resetSelectedOrigin=function(){n.setState({selectedOrigin:void 0})},n}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,e),n=t,(i=[{key:"componentWillUnmount",value:function(){var e=this;Object.keys(m).forEach((function(t){return e._assignHandler(void 0,t)}))}},{key:"componentDidUpdate",value:function(e){e.resizing&&!this.props.resizing&&this.state.selectedOrigin&&this._resetSelectedOrigin()}},{key:"render",value:function(){var e=this,t=Object.keys(m).filter((function(t){return(e.props.withHorizontalResize||-1===["w","e"].indexOf(t))&&(e.props.withVerticalResize||-1===["n","s"].indexOf(t))}));return r.a.createElement(o.Fragment,null,t.map((function(t){return r.a.createElement("div",{key:t,"data-origin":t,className:c()(m[t],y({},s.a.selected,t===e.state.selectedOrigin)),ref:e._refHandler,onMouseDown:e._selectOrigin,onMouseUp:e._resetSelectedOrigin})})))}}])&&d(n.prototype,i),a&&d(n,a),t}(o.PureComponent);v.propTypes={handlers:a.a.shape({resize:a.a.func.isRequired,resizeSide:a.a.func.isRequired}).isRequired,withHorizontalResize:a.a.bool,withVerticalResize:a.a.bool,resizing:a.a.bool},v.defaultProps={withHorizontalResize:!0,withVerticalResize:!0}},MeCa:function(e,t,n){"use strict";n.r(t);var o=n("qyGc");n.d(t,"default",(function(){return o.default}))},Muuz:function(e,t,n){"use strict";n.r(t),n.d(t,"EditButton",(function(){return a}));var o=n("q1tI"),r=n.n(o),i=n("vOnD").default.div.withConfig({displayName:"EditButton__EditButtonContainer",componentId:"sc-1fqh4c2-0"})(["display:flex;opacity:0.8;transition:ease-out opacity 0.25s;cursor:pointer;&:hover{opacity:0.6;}"]),a=function(e){return r.a.createElement(i,{onClick:function(t){t.preventDefault(),e.onClick()}},r.a.createElement("img",{src:n("r1UO")}))};t.default=a},Mzex:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Me}));var o,r,i,a=n("q1tI"),u=n.n(a),c=n("/MKj"),l=n("TSYQ"),s=n.n(l),p=n("LvDl"),f=n.n(p),d=n("vOnD"),h=n("17x9"),g=n.n(h),b=n("M39V"),y=n.n(b),m=n("Pp7T"),v=n.n(m),_=n("WjrG"),w=n("XKI8"),E=n("rQKZ"),O=n("lc1c"),x=n("EKef"),S=n("ySsV"),C=n("XSDi"),k=n("e0gr"),j=n("l2A/"),P=n("e322"),R=n("kwfw"),I=n("U3Rh"),T=n("Dc/X"),D=n("c4R5"),N=n("hKtE"),L=n("luIk"),z=n("47mp"),M=n("Hejo"),q=n("sPuu"),A=n("KZTM"),B=n("RZ7o"),U=n("Z+h/"),Y=n("vly6"),K=n("T9bt"),X=n("Q4CN"),H=n("wZCM"),Z=n("/80h"),V=(n("uwfs"),n("iHrC")),F=n("USB3"),G=n("/cUP"),W=n("pbbw"),Q=n("hl5+"),J=n("xZ3h"),$=n("zQPj"),ee=n("+mTV"),te=n("4ncT"),ne=n("Lobp"),oe=n.n(ne),re=n("DszW"),ie=n("fdVG"),ae=n("Ar8A"),ue=n("pJn0"),ce=n("DvT9"),le=n("xVW7"),se=n("G5AB"),pe=n("Sye6"),fe=n("QlFE"),de=n("YNSi"),he=n("TJ0u"),ge=n("BnKp"),be=(n("VYD4"),n("amct")),ye=n("GlmT"),me=n("ZjvY"),ve=n("yMTd"),_e=n("1NYy");n("fDNJ"),n("BWw/");function we(e){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],o=!0,r=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(o=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{o||null==u.return||u.return()}finally{if(r)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Oe(e){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Se(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ce(e,t,n){return t&&Se(e.prototype,t),n&&Se(e,n),e}function ke(e,t){return(ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object(a.lazy)((function(){return Promise.resolve().then(n.bind(null,"Fr46"))}));var Re=["wheel","gesturechange","gesturestart"],Ie=y.a.getParser(window.navigator.userAgent).satisfies(Pe({},y.a.BROWSER_MAP.ie,"<=11")),Te=d.default.div.withConfig({displayName:"Appreact__Contents",componentId:"sc-1sbr5fx-0"})(["position:fixed;left:50px;right:232px;top:80px;padding-top:20px;bottom:0px;text-rendering:optimizeLegibility !important;"," "," ",""],Ie&&"\n        position: relative;\n        left: -50px;\n        right: unset;\n    ",(function(e){return e.theme.id===F.default.id?"\n        background: ".concat(F.default.neutral60,";\n        top: 60px;\n    "):""}),(function(e){return e.isZoomLayout&&"\n        overflow: hidden;\n        padding: 0;\n    "})),De=d.default.div.withConfig({displayName:"Appreact__PanelContainer",componentId:"sc-1sbr5fx-1"})(["",""],(function(e){return e.isZoomLayout&&"\n        position: relative;\n        width: 100%;\n        height: 100%;\n    "}));function Ne(e,t,n){n.addEventListener(e,t,!ie.optionsSupported||{capture:!0,passive:!1})}function Le(e,t,n){n.removeEventListener(e,t,!ie.optionsSupported||{capture:!0,passive:!1})}var ze=function e(t,n,o,r){return o.renderItemContentsFn||(o.renderItemContentsFn=e),"CHART"===t.getType()?Object(q.default)(t,n,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){Pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},o,{viewMode:"edit"}),r):Object(q.default)(t,n,o,r)},Me=Object(be.withDialogs)()(o=Object(c.connect)((function(e){var t=e.get("editorZoom"),n=e.get("zoomPosition"),o=n.staticPagePositionX,r=n.staticPagePositionY;return{zoom:t.zoom,staticPagePositionX:o,staticPagePositionY:r}}),(function(e){return{onScale:function(t){e({type:Q.EDITOR_SCALE,payload:{scale:t}})},onUploadMedia:function(t){e({type:ge.PREZIGRAM_UPLOAD_MEDIA,payload:t})},onZoomPosition:function(t,n,o){e({type:Q.EDITOR_ZOOM_POSITION,payload:{scale:t,pagePosition:n,staticPosition:o}})},requestLiveDataRefresh:function(){e({type:ye.LOAD_LIVE_DATA_ONCE})}}}),null,{areStatesEqual:function(e,t){return e.get("editorZoom")===t.get("editorZoom")&&e.get("zoomPosition")===t.get("zoomPosition")},areStatePropsEqual:function(e,t){return e.zoom===t.zoom&&e.staticPagePositionX===t.staticPagePositionX&&e.staticPagePositionY===t.staticPagePositionY}})(o=Object(E.default)({withProps:!0})((i=r=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,r=Oe(t).call(this,e),(n=!r||"object"!==we(r)&&"function"!=typeof r?xe(o):r)._onMouseMove=function(e){n.state.isZoomLayout&&n._editorElement&&n._throttledUpdateMousePosition(e.clientX-n._editorElement.offsetLeft,e.clientY-n._editorElement.offsetTop)},n._throttledUpdateMousePosition=f.a.throttle((function(e,t){n.setState({mousePositionX:e,mousePositionY:t})}),100),n._handleGesture=function(e){var t=n.props,o=t.zoom,r=t.staticPagePositionX,i=t.staticPagePositionY,a=t.onZoomPosition,u=t.onScale,c=n.state.isZoomLayout;Object(me.default)({event:e,zoom:o,isZoomLayout:c,staticPagePositionX:r,staticPagePositionY:i,onZoomPosition:a,onScale:u,contentBounds:n._editorElementBounds})},n._refEditor=function(e){e?(Object(ve.setElementForEditor)(e),n._editorElement=e,n._editorElementBounds=e.getBoundingClientRect()):(Object(ve.removeElementForEditor)(),n._editorElement=null,n._editorElementBounds=null)},n._handlePaste=function(e){var t=n.state,o=t.mousePositionX,r=t.mousePositionY;Object(ae.default)(e.clipboardData.getData("application/json")||e.clipboardData.getData("text/plain"),e,{onUploadMedia:n.props.onUploadMedia,addItem:n._handleItemChoice,positionX:o,positionY:r})},n._duplicateEntities=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=o.dragging,i=void 0!==r&&r;Object(C.default)(t,n,{offsetEntities:!i,forceSelection:i?"no-update":void 0})},n._handleItemChoice=n._handleItemChoice.bind(xe(n)),n._handleMouseUp=n._handleMouseUp.bind(xe(n)),n.state={scrollInitialized:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ke(e,t)}(t,e),Ce(t,null,[{key:"getStores",value:function(){return[O.default,k.ActiveTextEditorStore,P.default,x.default,le.default,z.default,pe.default,he.default,S.default]}},{key:"calculateState",value:function(){var e=k.ActiveTextEditorStore.editing&&!k.ActiveTextEditorStore.transforming,t=le.default.resizing||le.default.dragging||le.default.navigating,n=pe.default.currentSelection.getEntities().size>1,o=z.default.currentPanel,r="";return o&&(r=o.get("component").key||""),{actionLoading:O.default.loading,themeId:x.default.themeId,textEditingActive:e,panelName:r,preventTextSelection:!!P.default.rectangle||t||n,activeBlockKey:Object(V.getActiveBlockKey)(),isZoomLayout:S.default.isZoomLayout}}}]),Ce(t,[{key:"componentDidMount",value:function(){var e,t,n=this;this._offscreenContainer=document.createElement("div"),this._offscreenContainer.className=oe.a.offscreen,document.body.appendChild(this._offscreenContainer),this.props.requestLiveDataRefresh(),this.state.isZoomLayout||(this._editorElement.addEventListener("scroll",J.onScroll),this._scroll=Object(J.initFreelayoutScroll)(this._editorElement)),Re.forEach((function(e){return Ne(e,n._handleGesture,n._editorElement)})),Ne("paste",this._handlePaste,document);var o=new te.default({escapeFn:f.a.escape,parentElem:document.body}).setStyle(null===(e=S.default.model.get("theme"))||void 0===e?void 0:null===(t=e.charts)||void 0===t?void 0:t.tooltip);Object(w.setTooltip)(o),document.addEventListener("click",$.navigateToPageLinkHandler,!1),this.setState({scrollInitialized:!0})}},{key:"componentWillUnmount",value:function(){var e=this;document.removeEventListener("click",$.navigateToPageLinkHandler,!1),this._offscreenContainer&&this._offscreenContainer.parentNode.removeChild(this._offscreenContainer),this.state.isZoomLayout||this._editorElement.removeEventListener("scroll",this._onScroll),Re.forEach((function(t){return Le(t,e._handleGesture,e._editorElement)})),Le("paste",this._handlePaste,document)}},{key:"render",value:function(){var e=this.state,t=e.textEditingActive,n=e.preventTextSelection,o=e.scrollInitialized,r=e.mousePositionX,i=e.mousePositionY,a=e.activeBlockKey,c=s()(oe.a.editor,this.state.actionLoading&&oe.a.loading,n&&oe.a.__selecting,t&&oe.a.editingText),l=this.state.panelName?"panel_"+this.state.panelName:"";return u.a.createElement(N.default,null,u.a.createElement("div",{"data-lookup":"editor",className:c,onMouseUp:this._handleMouseUp,onMouseMove:this._onMouseMove},u.a.createElement(D.default,null),u.a.createElement(X.default,{mousePositionX:r,mousePositionY:i}),u.a.createElement(Te,{isZoomLayout:this.state.isZoomLayout,ref:this._refEditor},u.a.createElement(De,{isZoomLayout:this.state.isZoomLayout,className:l},o&&u.a.createElement(_.default.Provider,{value:{activeBlockKey:a}},u.a.createElement(M.default,{allowDragAndDrop:!t,onChange:W.default,onSelectionChange:ce.updateSelectionState,onSelectionBoundBoxChange:ce.updateBoundingBox,onDuplicateEntities:this._duplicateEntities,entityOverlayComponent:U.default,connectorEntityOverlays:Y.default,multiSelectionOverlayComponent:R.default,entityBoundingBoxComponent:K.default,blockWrapperComponent:A.default,commentComponent:fe.CommentMarker,commentingTooltipComponent:fe.CommentingTooltip,calloutsComponent:de.default,renderItemContentsFn:ze,scaleX:this.props.zoom,scaleY:this.props.zoom,scroll:this._scroll})))),u.a.createElement(L.default,{colorPickerClass:Z.default}),this.props.toolbar,u.a.createElement(I.default,{onSelect:this._handleItemChoice,displayShapes:!0,flex:!0},u.a.createElement(B.default,null)),u.a.createElement(H.default,{freeLayout:!0}),u.a.createElement(ue.default,null),u.a.createElement(fe.ConversationsSidebar,null),!1,!1))}},{key:"_handleMouseUp",value:function(){P.default.rectangle&&(Object(se.default)(),Object(j.selectionMouseUp)())}},{key:"_handleItemChoice",value:function(e){var t=this.state.activeBlockKey,n=x.default.editorState;if(e instanceof FileList){v()(!1,"Prezigram based upload cannot be used in Infogram");var o=!0,r=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(o=(a=u.next()).done);o=!0){var c=a.value,l=Object(re.getItemOptions)(n,{zoom:this.props.zoom,activeBlockKey:t});l.onUploadMedia=this.props.onUploadMedia;var s={subType:"image",graphicType:Object(_e.enhanceGraphicType)("upload",c.type),file:c};Object(G.addImage)(s,l)}}catch(e){r=!0,i=e}finally{try{o||null==u.return||u.return()}finally{if(r)throw i}}}else{var p=e.dropResult,f=e.type,d=e.subtype,h=Object(re.getItemOptions)(n,{clientOffset:p,zoom:this.props.zoom,activeBlockKey:t});if(h.drop=!!p,h.onUploadMedia=this.props.onUploadMedia,this.state.isZoomLayout){var g=this.props,b=g.staticPagePositionX,y=g.staticPagePositionY,m=this._editorElement.getBoundingClientRect();h.isZoomLayout=this.state.isZoomLayout,h.offset=p?{x:p.x-m.left-b,y:p.y-m.top-y}:{x:m.width/2-b,y:m.height/2-y}}switch(f){case"CHART":if("upgrade"===d)return void window.app.router.navigate("//upgrade/charts",{promote:{from:"grouped_combo"}});var _=Ee(d.chartType||d.split("_").map((function(e){return parseInt(e,10)})),2),w=_[0],E=_[1];Object(G.addChart)({chartId:w,modifier:E,options:h});break;case"MAP":if(d.upgrade)return void window.app.router.navigate("//upgrade/region_maps",{promote:{from:"region_maps"}});h.isCustomMap=!!d.custom,Object(G.addMap)({id:d.id,title:d.title,options:h,freeLayout:!0});break;case"COMPOSITE":var O=Object(ee.default)(d.elementType);h.offscreenContainer=this._offscreenContainer,Object(G.addCompositeItem)(O,h);break;case"TEXT":h.offscreenContainer=this._offscreenContainer,Object(G.addText)(d.elementType,h);break;case"SHAPE":Object(G.addShape)(d,h);break;case"IMAGE":case"ATLAS_IMAGE":case"ICON":var S=Object(T.default)(e);Object(G.addImage)(S,h);break;case"MEDIA":var C=d.mediaType,k=d.data;Object(G.addMedia)(C,k,h);break;case"INTEGRATION":h.offscreenContainer=this._offscreenContainer,Object(G.addIntegration)(d,h);break;case"ELEMENT":var j=e.subtype,P=j.entities,R=j.assets,I=j.title,D=j.elementType;Object(G.addElement)(P,R,I,D,h);break;default:console.log("chosen item",e)}}}}]),t}(u.a.Component),r.propTypes={toolbar:g.a.node.isRequired,zoom:g.a.number.isRequired,staticPagePositionX:g.a.number,staticPagePositionY:g.a.number,onScale:g.a.func.isRequired,requestLiveDataRefresh:g.a.func.isRequired,onUploadMedia:g.a.func.isRequired,openDialog:g.a.func,onZoomPosition:g.a.func.isRequired},o=i))||o)||o)||o},MzrW:function(e,t,n){e.exports=n.p+"c88831e5b58b6aab7b433f723775af40.svg"},N3rF:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return D}));var o,r,i,a=n("XzT5"),u=n("q1tI"),c=n.n(u),l=n("17x9"),s=n.n(l),p=n("/MKj"),f=n("1+J2"),d=n("sAei"),h=n("wi6Z"),g=n("dDeV"),b=n("fwYx"),y=n("w6T9"),m=n("i5wb"),v=n("GRZN"),_=n("L91u"),w=n("Zcty"),E=n("bZl7"),O=n("R1L0"),x=n("ZBhn"),S=n("hl5+"),C=n("dGoc"),k=n.n(C);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var D=Object(p.connect)((function(e){var t=e.getIn(["revisions","extraData"]);return{selectedIndex:e.getIn(["revisions","selectedIndex"]),editorState:e.getIn(["revisions","editorState"]),loading:e.getIn(["revisions","loading"]),extraData:t?t.toJS():{},userHasAccess:E.default.canAccessRevisions}}),(function(e){return{hideRevisions:function(){e({type:O.REVISIONS_HIDE})},logPaywallHit:function(){e({type:O.REVISIONS_PAYWALL_HIT})}}}))((i=r=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,r=R(t).call(this,e),(n=!r||"object"!==j(r)&&"function"!=typeof r?I(o):r).triggerUpgrade=function(){Object(f.logStartUpgradeWebJs)({upgrade_trigger:d.upgrade_trigger.REVISIONS}),window.app.router.navigate("settings/plans",{trigger:!0}),n.props.hideRevisions()},n.restoreRevision=n.restoreRevision.bind(I(n)),n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(t,e),n=t,(o=[{key:"restoreRevision",value:function(){w.default.dispatch({type:S.APPLY_REVISION,editorState:this.props.editorState}),w.default.dispatch({type:x.RECEIVE_EXTRA_DATA,payload:this.props.extraData}),this.props.hideRevisions()}},{key:"componentDidMount",value:function(){this.props.userHasAccess||this.props.logPaywallHit()}},{key:"render",value:function(){var e,t,n=this.props,o=n.hideRevisions,r=n.editorState,i=n.selectedIndex,u=n.userHasAccess,l=n.loading;return i&&r&&(e=c.a.createElement(y.default,{useButtonTag:!0,className:k.a.toolbarRestoreButton,onClick:this.restoreRevision},a.default.t("app.revisions.restore_version"))),u||(t=c.a.createElement("div",null,c.a.createElement("div",{className:k.a.paywallBackground}),c.a.createElement("div",{className:k.a.paywallContent},c.a.createElement("img",{className:k.a.paywallImage,src:"/i/revisions/paywall_icon.png"}),c.a.createElement("h3",{className:k.a.paywallTitle},a.default.t("popup.upgrade_promo.revisions_title")),c.a.createElement("p",{className:k.a.paywallText,dangerouslySetInnerHTML:{__html:a.default.t("popup.upgrade_promo.revisions_text")}}),c.a.createElement(y.default,{blue:!0,className:k.a.paywallButton,onClick:this.triggerUpgrade},a.default.t("popup.upgrade_promo.revisions_upgrade"))))),c.a.createElement("div",{className:k.a.root},c.a.createElement(g.default,{fixed:!0},c.a.createElement(g.ToolbarGroup,null,c.a.createElement(b.default,{onClick:o}),c.a.createElement(v.default,null)),c.a.createElement(g.ToolbarGroup,null,e)),c.a.createElement(h.default,{showChat:!1,side:"right"},c.a.createElement("p",{className:k.a.panelTitle},a.default.t("app.revisions.version_history")),c.a.createElement(m.default,null)),l||c.a.createElement(_.default,{userHasAccess:u}),t)}}])&&P(n.prototype,o),r&&P(n,r),t}(u.PureComponent),r.propTypes={hideRevisions:s.a.func.isRequired,logPaywallHit:s.a.func.isRequired,selectedIndex:s.a.number.isRequired,editorState:s.a.object,extraData:s.a.object,userHasAccess:s.a.bool.isRequired,loading:s.a.bool.isRequired},o=i))||o},NI0h:function(e,t,n){"use strict";n.r(t);var o=n("N3rF");n.d(t,"default",(function(){return o.default}))},OG9s:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var o=n("/TeS"),r=n("EKef"),i=n("alRy");function a(e,t){var n=t.mouseX,a=t.mouseY,u=t.scaleX,c=t.scaleY,l=t.isZoomLayout,s=e.objectId&&r.default.editorState.getEntity(e.objectId),p=Object(i.default)(e.blockId,s,{mouseX:n,mouseY:a,scaleX:u,scaleY:c,isZoomLayout:l});return{type:o.CONVERSATIONS_CHANGE_COMMENT,payload:{key:e.key,put:{positionX:p.x,positionY:p.y}}}}},"OJ/W":function(e,t,n){"use strict";n.r(t),n.d(t,"Hue",(function(){return v}));var o=n("q1tI"),r=n.n(o),i=n("17x9"),a=n.n(i),u=n("vOnD");function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=u.default.div.withConfig({displayName:"Huereact__HueHolder",componentId:"sc-13hjdae-0"})(["position:absolute;top:0px;left:0px;right:0px;bottom:0px;"]),g=u.default.div.withConfig({displayName:"Huereact__HueContainer",componentId:"sc-13hjdae-1"})(["position:relative;height:100%;background:#ff0000;background:url(",");background:-moz-linear-gradient(top,#ff0000 0%,#ff00ff 15%,#0000ff 33%,#00ffff 49%,#00ff00 67%,#ffff00 84%,#ff0000 100%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0%,#ff0000),color-stop(15%,#ff00ff),color-stop(33%,#0000ff),color-stop(49%,#00ffff),color-stop(67%,#00ff00),color-stop(84%,#ffff00),color-stop(100%,#ff0000));background:-webkit-linear-gradient(top,#ff0000 0%,#ff00ff 15%,#0000ff 33%,#00ffff 49%,#00ff00 67%,#ffff00 84%,#ff0000 100%);background:-o-linear-gradient(top,#ff0000 0%,#ff00ff 15%,#0000ff 33%,#00ffff 49%,#00ff00 67%,#ffff00 84%,#ff0000 100%);background:-ms-linear-gradient(top,#ff0000 0%,#ff00ff 15%,#0000ff 33%,#00ffff 49%,#00ff00 67%,#ffff00 84%,#ff0000 100%);background:linear-gradient(to bottom,#ff0000 0%,#ff00ff 15%,#0000ff 33%,#00ffff 49%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"],n("Rz4B")),b=u.default.div.attrs((function(e){var t=e.hue;return{style:{top:"".concat(m(t),"%")}}})).withConfig({displayName:"Huereact__Pointer",componentId:"sc-13hjdae-2"})(["position:absolute;left:0px;"]),y=function(e,t,n){var o,r=n.clientHeight,i=("number"==typeof e.pageY?e.pageY:e.touches[0].pageY)-(n.getBoundingClientRect().top+window.pageYOffset);if(i<0)o=359;else if(i>r)o=0;else{var a=-100*i/r+100;o=Math.round(360*a/100)}return t.h!==o?{h:o,s:t.s,v:t.v}:null};function m(e){return-100*e/360+100}var v=function(e){function t(){var e,n;l(this,t);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(n=p(this,(e=f(t)).call.apply(e,[this].concat(i))))._container=r.a.createRef(),n._handleChange=function(e){var t=n.props.hsv;e.preventDefault();var o=y(e,t,n._container.current);o&&n.props.onChange(o)},n._handleMouseDown=function(e){n._handleChange(e),window.addEventListener("mousemove",n._handleChange),window.addEventListener("mouseup",n._handleMouseUp)},n._handleMouseUp=function(){n._unbindEventListeners()},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),n=t,(o=[{key:"componentWillUnmount",value:function(){this._unbindEventListeners()}},{key:"render",value:function(){var e=this.props.hsv.h;return r.a.createElement(h,null,r.a.createElement(g,{ref:this._container,onMouseDown:this._handleMouseDown,onTouchMove:this._handleChange,onTouchStart:this._handleChange},r.a.createElement(b,{hue:e},this.props.children)))}},{key:"_unbindEventListeners",value:function(){window.removeEventListener("mousemove",this._handleChange),window.removeEventListener("mouseup",this._handleMouseUp)}}])&&s(n.prototype,o),i&&s(n,i),t}(o.PureComponent);v.propTypes={hsv:a.a.object.isRequired,onChange:a.a.func.isRequired,children:a.a.node.isRequired},t.default=v},OVpQ:function(e,t,n){"use strict";n.r(t);var o=n("q1tI"),r=n.n(o),i=n("17x9"),a=n.n(i),u=n("yb06"),c=n.n(u),l=n("vOnD"),s=n("avnT"),p=n("USB3"),f=n("76fW"),d=n.n(f);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function y(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=l.default.div.withConfig({displayName:"Cropboxreact__CropBox",componentId:"zpexvs-0"})(["position:absolute;box-sizing:border-box;border:2px dotted #ff00ff;pointer-events:auto;",""],(function(e){return e.theme.id===p.default.id&&"\n        border-color: ".concat(p.default.purple400,";\n    ")})),w=l.default.div.withConfig({displayName:"Cropboxreact__SideHandle",componentId:"zpexvs-1"})(["display:block;position:absolute;background:#ff00ff;border:1px solid #fff;pointer-events:auto;",""],(function(e){return e.theme.id===p.default.id&&"\n        background: ".concat(p.default.purple400,";\n    ")})),E=l.default.div.withConfig({displayName:"Cropboxreact__CornerHandle",componentId:"zpexvs-2"})(["display:block;position:absolute;width:4px;height:4px;cursor:pointer;pointer-events:auto;box-sizing:border-box;background:#ff00ff;border-left:1px solid #fff;border-top:1px solid #fff;&::before,&::after{content:'';display:block;position:absolute;background:#ff00ff;box-sizing:border-box;border:1px solid #fff;}&:before{height:6px;width:4px;left:-1px;bottom:-6px;border-top:none;}&:after{width:6px;height:4px;right:-6px;top:-1px;border-left:0;}",""],(function(e){return e.theme.id===p.default.id&&"\n        background: ".concat(p.default.purple400,";\n\n        &::before,\n        &::after {\n            background: ").concat(p.default.purple400,";\n        }\n    ")})),O=function(e){function t(){return g(this,t),y(this,m(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){var e=this.props,t=e.crop,n=e.onDrag,o=e.onHandleMove,i={top:"".concat(t.get("top"),"%"),right:"".concat(t.get("right"),"%"),bottom:"".concat(t.get("bottom"),"%"),left:"".concat(t.get("left"),"%")};return r.a.createElement(_,{style:i,onMouseDown:n},r.a.createElement(w,{onMouseDown:o,"data-origin":s.RESIZE_ORIGIN.N,className:d.a.topHandle}),r.a.createElement(w,{onMouseDown:o,"data-origin":s.RESIZE_ORIGIN.E,className:d.a.rightHandle}),r.a.createElement(w,{onMouseDown:o,"data-origin":s.RESIZE_ORIGIN.S,className:d.a.bottomHandle}),r.a.createElement(w,{onMouseDown:o,"data-origin":s.RESIZE_ORIGIN.W,className:d.a.leftHandle}),r.a.createElement(E,{onMouseDown:o,"data-origin":s.RESIZE_ORIGIN.NW,className:d.a.topLeftHandle}),r.a.createElement(E,{onMouseDown:o,"data-origin":s.RESIZE_ORIGIN.NE,className:d.a.topRightHandle}),r.a.createElement(E,{onMouseDown:o,"data-origin":s.RESIZE_ORIGIN.SE,className:d.a.bottomRightHandle}),r.a.createElement(E,{onMouseDown:o,"data-origin":s.RESIZE_ORIGIN.SW,className:d.a.bottomLeftHandle}))}}])&&b(n.prototype,o),i&&b(n,i),t}(o.PureComponent);O.propTypes={crop:c.a.contains({top:a.a.number,right:a.a.number,bottom:a.a.number,left:a.a.number}).isRequired,onHandleMove:a.a.func,onDrag:a.a.func},t.default=O},OsVm:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return x}));var o=n("q1tI"),r=n.n(o),i=n("17x9"),a=n.n(i),u=n("vOnD"),c=n("SC+/"),l=n("SUR1"),s=n("OJ/W"),p=n("TKOg");function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function h(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=u.default.div.withConfig({displayName:"ColorPicker__Container",componentId:"sc-1qhauen-0"})(["display:block;"]),m=u.default.div.withConfig({displayName:"ColorPicker__ColorSliders",componentId:"sc-1qhauen-1"})(["display:flex;height:150px;"]),v=u.default.div.withConfig({displayName:"ColorPicker__HueSize",componentId:"sc-1qhauen-2"})(["position:relative;width:15px;height:150px;margin-right:12px;margin-left:28px;"]),_=u.default.div.withConfig({displayName:"ColorPicker__HueSlider",componentId:"sc-1qhauen-3"})(["box-sizing:border-box;width:39px;height:0;border-width:6px 10px;border-style:solid;border-color:transparent "," transparent ",";margin-left:-12px;margin-top:-6px;"],"#191C28","#191C28"),w=u.default.div.withConfig({displayName:"ColorPicker__SaturationSize",componentId:"sc-1qhauen-4"})(["width:195px;height:150px;position:relative;"]),E=u.default.div.withConfig({displayName:"ColorPicker__SaturationCircle",componentId:"sc-1qhauen-5"})(["box-sizing:border-box;box-shadow:0 0 0 1px #ffffff,inset 0 0 0 1px #ffffff;border-radius:50%;cursor:pointer;transform:translate(-11px,-11px);width:22px;height:22px;border:2px solid #000;"]);function O(e){var t=Object(c.rgb)(e).hex(),n=Object(l.hsv)(t);return{h:n.h,s:n.s,v:n.v}}var x=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=h(this,g(t).call(this,e)))._onHsvChange=function(e){var t=Object(l.hsv)(e.h,e.s,e.v);n.props.onChange&&n.props.onChange(t.hex())},n._onHueChange=function(e){var t=O(n.props.color);if(isNaN(t.h))n.setState({hsv:{h:e.h}});else{var o=Object(l.hsv)(e.h,e.s,e.v);n.props.onChange(o.hex())}};var o=O(n.props.color);return n.state={hsv:{h:isNaN(o.h)?0:o.h,s:o.s,v:o.v},color:n.props.color},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,e),n=t,i=[{key:"getDerivedStateFromProps",value:function(e,t){if(e.color!==t.color){var n=O(e.color);return{color:e.color,hsv:{h:isNaN(n.h)?t.hsv.h:n.h,s:n.s,v:n.v}}}return null}}],(o=[{key:"render",value:function(){return r.a.createElement(y,null,r.a.createElement(m,null,r.a.createElement(w,null,r.a.createElement(p.default,{hsv:this.state.hsv,onChange:this._onHsvChange},r.a.createElement(E,null))),r.a.createElement(v,null,r.a.createElement(s.default,{hsv:this.state.hsv,onChange:this._onHueChange},r.a.createElement(_,null)))))}}])&&d(n.prototype,o),i&&d(n,i),t}(o.PureComponent);x.propTypes={x:a.a.number,y:a.a.number,color:a.a.string.isRequired,onChange:a.a.func.isRequired,onClose:a.a.func}},PCE5:function(e,t,n){e.exports=n.p+"436853423c7cde587a2864582d28ec78.svg"},PINJ:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var o=n("Zcty"),r=n("hl5+"),i=n("ySsV");function a(e){o.default.dispatch({type:r.REMOVE_LAYOUT,layout:e,projectId:i.default.infographicId})}},PXfb:function(e,t,n){e.exports=n.p+"b183c7180b09843ecb4b1778e90565a0.svg"},Pwhp:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return D}));var o,r,i,a=n("XzT5"),u=n("17x9"),c=n.n(u),l=n("q1tI"),s=n.n(l),p=n("/MKj"),f=n("rQKZ"),d=n("NPi6"),h=n("Zcty"),g=n("bZl7"),b=n("Hb73"),y=n("oMAv"),m=n("ySsV"),v=n("t4t9"),_=n("EKef"),w=n("yIs3"),E=n("aXXi"),O=n("fS4f"),x=n("3NuN"),S=n("1+J2"),C=n("hl5+");function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function I(e,t,n){return t&&R(e.prototype,t),n&&R(e,n),e}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var D=Object(p.connect)((function(e){var t=e.get("undo");return{canUndo:!t.get("undoStack").isEmpty(),canRedo:!t.get("redoStack").isEmpty()}}),{},null,{areStatesEqual:function(e,t){return e.getIn(["undo","undoStack"]).isEmpty()===t.getIn(["undo","undoStack"]).isEmpty()&&e.getIn(["undo","redoStack"]).isEmpty()===t.getIn(["undo","redoStack"]).isEmpty()}})(o=Object(f.default)()((i=r=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,(n=!(r=j(t).call(this,e))||"object"!==k(r)&&"function"!=typeof r?P(o):r)._handleRename=function(){h.default.dispatch({type:E.TITLE_EDITOR_START_EDITING})},n._handleShareButtonClick=n._handleShareButtonClick.bind(P(n)),n._handleTeamButtonClick=n._handleTeamButtonClick.bind(P(n)),n._handleDuplicateClick=n._handleDuplicateClick.bind(P(n)),n._handleInfographicDelete=n._handleInfographicDelete.bind(P(n)),n._handleAnalyticsClick=n._handleAnalyticsClick.bind(P(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(t,e),I(t,null,[{key:"getStores",value:function(){return[_.default,m.default,v.default]}},{key:"calculateState",value:function(){return{infographicModel:m.default.model,status:m.default.status,saving:v.default.isSaving,projectTags:m.default.projectTags}}}]),I(t,[{key:"hasAccessToAnalytics",value:function(){return g.default.getCurrentProfile().isWhiteLabel}},{key:"_handleDuplicateClick",value:function(){w.default.duplicateInfographic(this.state.infographicModel.attributes.block_id)}},{key:"_handleInfographicDelete",value:function(){var e=this.state.infographicModel.get("block_id");d.default.confirmDelete({get button(){return a.default.t("delete")},get description(){return a.default.t("app.library.delete_dialog.trash_description",{count:1})},get title(){return a.default.t("app.library.delete_dialog.trash_title",{count:1})}}).then((function(){w.default.trashInfographics([e]),window.app.router.navigate("#/library")}))}},{key:"_handleShareButtonClick",value:function(e){e&&e.preventDefault(),Object(S.logOpenShareDialogWebJs)(),h.default.dispatch({type:C.SHARE_VIEW_DEVICE_CHANGE,device:_.default.currentLayout}),Object(y.showAppShareDialog)({model:this.state.infographicModel})}},{key:"_handleTeamButtonClick",value:function(e){e&&e.preventDefault(),Object(S.logOpenShareDialogWebJs)(),h.default.dispatch({type:C.SHARE_VIEW_DEVICE_CHANGE,device:_.default.currentLayout}),Object(y.showAppShareDialog)({model:this.state.infographicModel,selectedTab:"team"})}},{key:"_handleAnalyticsClick",value:function(){this.hasAccessToAnalytics()?window.app.router.navigate("#/analytics/project/".concat(this.state.infographicModel.get("block_id"))):window.app.router.navigate("#/analytics")}},{key:"render",value:function(){var e=this.state,t=e.infographicModel,n=e.saving,o=e.status,r=e.projectTags,i=this.props,a=i.canUndo,u=i.canRedo;return s.a.createElement(b.default,{infographicId:t.get("block_id"),projectTags:r,status:o,canUndo:a,canRedo:u,isFreeLayout:!0,saving:n,onShareClick:this._handleShareButtonClick,onTeamClick:this._handleTeamButtonClick,onDuplicateClick:this._handleDuplicateClick,onRename:this._handleRename,onDeleteClick:this._handleInfographicDelete,onAnalyticsClick:this._handleAnalyticsClick,onUndo:x.undo,onRedo:x.redo,onPreviewClick:O.enterFullscreen})}}]),t}(s.a.Component),r.propTypes={canUndo:c.a.bool.isRequired,canRedo:c.a.bool.isRequired},o=i))||o)||o},Q4CN:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return se}));var o,r,i,a=n("XzT5"),u=n("q1tI"),c=n.n(u),l=n("17x9"),s=n.n(l),p=n("/MKj"),f=n("Pp7T"),d=n.n(f),h=n("M39V"),g=n.n(h),b=(n("k0mc"),n("TJ0u")),y=n("EKef"),m=n("ySsV"),v=n("xZ3h"),_=n("aXXi"),w=n("e0gr"),E=n("hl5+"),O=n("XSDi"),x=n("epKC"),S=n("Ar8A"),C=n("vCdm"),k=n("bPAd"),j=n("BL37"),P=n("1ZlU"),R=n("Xmk4"),I=n("kbEN"),T=n("sScL"),D=n("4VoC"),N=n("fhZ6"),L=n("MCma"),z=n("s3Vt"),M=n("Sye6"),q=n("DvT9"),A=n("duLV"),B=n("xVW7"),U=n("kMmm"),Y=n("G5AB"),K=n("J3MI"),X=n("3NuN"),H=n("KamX"),Z=n("/TeS"),V=n("7EpH"),F=n("yMTd"),G=n("WdyC"),W=n("vmwM"),Q=n("jjTP"),J=n("1+J2");function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||ne(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function te(e){return function(e){if(Array.isArray(e))return e}(e)||ne(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ne(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function oe(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function re(e){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ae(e,t){return(ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ue=g.a.getParser(window.navigator.userAgent),ce=ue.isOS(g.a.OS_MAP.MacOS),le=ue.isBrowser(g.a.BROWSER_MAP.ie),se=Object(p.connect)((function(e){var t=e.get("conversations"),n=e.get("factsAndFigures");return{commenting:t.commenting,hasOpenComment:!!t.openCommentKey,conversationsOpen:t.conversationsOpen,editingObject:n.editing}}),(function(e){return{toggleSnapping:function(){e({type:_.FLEX_EDITOR_GRID_TOGGLE_SNAP_OBJECTS})},toggleGuides:function(){e({type:_.FLEX_EDITOR_GRID_TOGGLE_GUIDES})},closeCommentMarker:function(){e({type:Z.CONVERSATIONS_TOGGLE_MARKER})},closeCommenting:function(){e({type:Z.CONVERSATIONS_TOGGLE_COMMENTING})},closeConversations:function(){e({type:Z.CONVERSATIONS_CLOSE_SIDEBAR})},onZoom:function(t){e({type:E.EDITOR_ZOOM,payload:{direction:t}})},saveImitation:function(){e({type:_.FLEX_EDITOR_CONTENT_SAVING}),setTimeout((function(){e({type:_.FLEX_EDITOR_CONTENT_SAVE_REQUESTED})}),1e3)},saveEditorPosition:function(){e({type:"EDITOR_STATIC_POSITION"})},toggleLayout:Q.default,toggleElementsOutsideBlockVisible:function(t){e({type:E.TOGGLE_ELEMENTS_OUTSIDE_BLOCK_VISIBLE,payload:t})}}}),null,{areStatesEqual:function(e,t){return e.get("conversations")===t.get("conversations")&&e.get("factsAndFigures")===t.get("factsAndFigures")}})((i=r=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,(n=!(r=re(t).call(this,e))||"object"!==$(r)&&"function"!=typeof r?ie(o):r).handleKeys=n.handleKeys.bind(ie(n)),n.wrapper=c.a.createRef(),n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ae(e,t)}(t,e),n=t,(o=[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeys,!1),document.addEventListener("keyup",this.handleKeys,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeys,!1),document.removeEventListener("keyup",this.handleKeys,!1)}},{key:"handleKeys",value:function(e){var t=e.target,n=e.type;(t===document.body||t instanceof HTMLButtonElement)&&(!le||"true"!==t.contentEditable&&"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName)&&("keyup"===n?this.handleKeyUp(e):"keydown"===n?this.handleKeyDown(e):d()(!1,"Unknown event type"))}},{key:"handleKeyDown",value:function(e){if(!w.ActiveTextEditorStore.editing&&"input"!==e.target.tagName.toLowerCase()){var t=ce?e.metaKey:e.ctrlKey,n=e.metaKey||e.ctrlKey||e.altKey,o=M.default.currentSelection,r=y.default.editorState,i=r.getEntities(o.getEntities()),u=i.every((function(e){return e.getLocked()})),c=i.some((function(e){return e.getCalloutKey()}));switch(e.keyCode){case N.default.BACKSPACE:case N.default.DELETE:if(n||this.props.editingObject)return;if(i.isEmpty()){if(!o.hasNoBlocks()&&r.getCurrentContent().getBlocks().size>1){var l=o.getBlocks().first(),s=r.getCurrentContent().getBlockIndex(l)+1,p=r.getCurrentContent().getBlocks().size;Object(z.showConfirmDialog)({title:a.default.t("app.freelayout_editor.delete_page_dialog_title",{page_number:s}),description:a.default.t("app.freelayout_editor.delete_page_dialog_description"),button:a.default.t("delete")}).then((function(){Object(T.default)([l]),s===p&&Object(v.scrollToPage)(s-2)}))}}else{var f=r.getEntities(o.getEntities()),d=te(Object(K.flattenEntities)(r,f).keys()).slice(0);Object(k.default)(d),f.every((function(e){return e.getCalloutKey()}))&&Object(q.updateSelectionState)(o.clear().addEntities(f.first().getCalloutKey()))}break;case N.default.DOWN_ARROW:if(t&&!e.altKey)Object(v.scrollToPage)(b.default.activePageIndex+1);else{if(n)return;if(u||c)return;Object(A.default)(o.getEntities(),"top",e.shiftKey?10:1)}break;case N.default.UP_ARROW:if(t&&!e.altKey&&b.default.activePageIndex>0)Object(v.scrollToPage)(b.default.activePageIndex-1);else{if(n)return;if(u||c)return;Object(A.default)(o.getEntities(),"top",e.shiftKey?-10:-1)}break;case N.default.LEFT_ARROW:if(i.isEmpty()||n||u||c)return;Object(A.default)(o.getEntities(),"left",e.shiftKey?-10:-1);break;case N.default.RIGHT_ARROW:if(i.isEmpty()||n||u||c)return;Object(A.default)(o.getEntities(),"left",e.shiftKey?10:1);break;case N.default.KEY_Z:if(t&&!e.altKey){e.shiftKey?Object(X.redo)():Object(X.undo)();break}return;case N.default.KEY_Y:if(t&&!e.altKey){Object(X.redo)();break}return;case N.default.KEY_C:if(t&&e.shiftKey){Object(L.copyElementStyle)();break}if(t&&!e.altKey){Object(C.default)();break}if(n)return;Object(D.changeActiveHeader)("chart");break;case N.default.KEY_V:if(t&&e.shiftKey){Object(L.pasteElementStyle)();break}if(t&&!e.altKey&&window.clipboardData){var h=this.props,g=h.mousePositionX,_=h.mousePositionY;Object(S.default)(window.clipboardData.getData("Text"),e,{mousePositionX:g,mousePositionY:_})}return;case N.default.KEY_D:if(t){if(!i.isEmpty()){var E=i.first().getBlockKey();Object(O.default)(i,E,{offsetEntities:!0});break}if(1===o.getBlocks().size){var Y=o.getBlocks().first(),Z=r.getCurrentContent().getBlockIndex(Y);Object(H.default)(Y,Z+1,{scroll:!0});break}}return;case N.default.KEY_O:this.props.toggleElementsOutsideBlockVisible(m.default.infographicId),Object(J.logShowOverflowWebJs)({});break;case N.default.KEY_R:if(!i.size||n)return;if(B.default.pointerDown||i.first().locked||c)break;var Q={type:"rotate",key:i.map((function(e){return e.getKey()})).join("-")},$=Object(K.flattenEntities)(r,i)||B.default.initialEntityPositions;Q.blockRect=i.size?Object(F.getRelativeBlockRect)($.first()):null,Object(U.default)(Q,$,{x:-1,y:-1});break;case N.default.KEY_I:if(n)return;Object(D.changeActiveHeader)("image");break;case N.default.KEY_X:if(!t||i.isEmpty())break;Object(C.default)();var ne=te(Object(K.flattenEntities)(r,i).keys()).slice(0);Object(k.default)(ne);break;case N.default.KEY_G:if(i.isEmpty()&&n)return;if(t&&e.shiftKey)x.ungroupEntities.apply(void 0,ee(o.getEntities().values()));else if(t&&i.size>1)Object(x.groupEntities)(o.getEntities());else{if(n)return;this.props.toggleSnapping()}break;case N.default.KEY_L:if(y.default.multiLayout&&t){this.props.toggleLayout();break}if(n)return;this.props.toggleGuides();break;case N.default.KEY_T:if(n)return;Object(D.changeActiveHeader)("text");break;case N.default.KEY_S:if(t&&e.altKey,n)return;Object(D.changeActiveHeader)("shape");break;case N.default.KEY_M:if(n)return;Object(D.changeActiveHeader)("map");break;case N.default.KEY_A:if(t){var oe,re=b.default.activePageIndex,ie=r.getCurrentContent().getBlocks().get(re),ae=[];ie.getEntities().forEach((function(e){e.locked||e.getGroupKey()||e.getCalloutKey()||ae.push(e.getKey())}));var ue=(oe=o.clear()).addEntities.apply(oe,ae);Object(q.updateSelectionState)(ue)}break;case N.default.OPEN_BRACKET:if(i.isEmpty())return;t&&e.altKey?j.default.apply(void 0,ee(o.getEntities())):t&&R.default.apply(void 0,ee(o.getEntities()));break;case N.default.CLOSE_BRACKET:if(i.isEmpty())return;t&&e.altKey?P.default.apply(void 0,ee(o.getEntities())):t&&I.default.apply(void 0,ee(o.getEntities()));break;case N.default.SPACE:if(n)return;!B.default.navigating&&Object(V.default)();break;case N.default.ESCAPE:if(n)return;this.props.commenting?(this.props.closeCommentMarker(),this.props.closeCommenting()):this.props.hasOpenComment?this.props.closeCommentMarker():this.props.conversationsOpen?this.props.closeConversations():W.default.activeType&&Object(G.stopClipping)();break;case N.default.ENTER:if(n)return;W.default.activeType&&Object(G.stopClipping)();break;case N.default.DASH:t&&this.props.onZoom(-1);break;case N.default.EQUALS:t&&this.props.onZoom(1);break;default:return}e.stopPropagation(),e.preventDefault()}}},{key:"handleKeyUp",value:function(e){switch(e.keyCode){case N.default.KEY_R:Object(Y.default)();break;case N.default.SPACE:this.props.saveEditorPosition(),Object(Y.default)()}}},{key:"render",value:function(){return null}}])&&oe(n.prototype,o),r&&oe(n,r),t}(u.PureComponent),r.propTypes={toggleSnapping:s.a.func.isRequired,toggleGuides:s.a.func.isRequired,commenting:s.a.bool.isRequired,hasOpenComment:s.a.bool.isRequired,conversationsOpen:s.a.bool.isRequired,closeCommentMarker:s.a.func.isRequired,closeCommenting:s.a.func.isRequired,closeConversations:s.a.func.isRequired,onZoom:s.a.func.isRequired,saveEditorPosition:s.a.func.isRequired,toggleLayout:s.a.func.isRequired,mousePositionX:s.a.number,mousePositionY:s.a.number,editingObject:s.a.bool.isRequired,toggleElementsOutsideBlockVisible:s.a.func.isRequired,saveImitation:s.a.func.isRequired},o=i))||o},QApq:function(e,t,n){"use strict";n.r(t);var o=n("tl4+");n.d(t,"default",(function(){return o.default}))},R8DA:function(e,t,n){var o=n("sEG9");(t=e.exports=n("I1BE")(!1)).push([e.i,"._2e1ukwJgSrgQjsvZr_Ql1N {\n    width: 4px;\n    height: 16px;\n    display: block;\n    position: absolute;\n    background: url("+o(n("yGHk"))+") no-repeat center center;\n    pointer-events: auto;\n}\n\n._2e1ukwJgSrgQjsvZr_Ql1N._34wgMP54-Nba6fJgRtInqi {\n    background-image: url("+o(n("MzrW"))+");\n}\n\n._3kmx70mf1fL3QxU5aAQU4z,\n._2v-E7zp455rPYELpRHxUSi {\n    left: 50%;\n    transform: rotate(90deg) translateX(-50%);\n}\n._3kmx70mf1fL3QxU5aAQU4z:hover,\n._2v-E7zp455rPYELpRHxUSi:hover,\n._3kmx70mf1fL3QxU5aAQU4z._1n8_-lJOYsF-6Qd31xZUfq,\n._2v-E7zp455rPYELpRHxUSi._1n8_-lJOYsF-6Qd31xZUfq {\n    transform: rotate(90deg) translateX(-50%) scale(1.5);\n}\n\n._2qJ7IPZhc4hK6aQnTceZbx,\n._1NHwB4sjlyV39sO7_vUczR {\n    top: 50%;\n    transform: translateY(-50%);\n}\n._2qJ7IPZhc4hK6aQnTceZbx:hover,\n._1NHwB4sjlyV39sO7_vUczR:hover,\n._2qJ7IPZhc4hK6aQnTceZbx._1n8_-lJOYsF-6Qd31xZUfq,\n._1NHwB4sjlyV39sO7_vUczR._1n8_-lJOYsF-6Qd31xZUfq {\n    transform: translateY(-50%) scale(1.5);\n}\n\n._3kmx70mf1fL3QxU5aAQU4z {\n    top: -6px;\n    cursor: ns-resize;\n}\n._2v-E7zp455rPYELpRHxUSi {\n    bottom: -10px;\n    cursor: ns-resize;\n}\n._2qJ7IPZhc4hK6aQnTceZbx {\n    left: -2px;\n    cursor: ew-resize;\n}\n._1NHwB4sjlyV39sO7_vUczR {\n    right: -2px;\n    cursor: ew-resize;\n}\n\n._1-7YjYFlnWk7REKu-C4DAe {\n    width: 10px;\n    height: 10px;\n    display: block;\n    position: absolute;\n    cursor: pointer;\n    pointer-events: auto;\n    background: url("+o(n("EKTl"))+") no-repeat center center;\n}\n\n._1-7YjYFlnWk7REKu-C4DAe._34wgMP54-Nba6fJgRtInqi {\n    background-image: url("+o(n("dtaK"))+");\n}\n\n.Ual2JhPJAsByzbiNr1Npv {\n    top: -2px;\n    left: -2px;\n    transform: rotate(90deg);\n    cursor: nwse-resize;\n}\n.Ual2JhPJAsByzbiNr1Npv:hover, .Ual2JhPJAsByzbiNr1Npv._1n8_-lJOYsF-6Qd31xZUfq {\n    transform: rotate(90deg) scale(1.5) translate(1px, -1px);\n}\n\n._3y7UVk0T-fRvN5kQ5BPasn {\n    top: -2px;\n    right: -2px;\n    transform: rotate(180deg);\n    cursor: nesw-resize;\n}\n._3y7UVk0T-fRvN5kQ5BPasn:hover, ._3y7UVk0T-fRvN5kQ5BPasn._1n8_-lJOYsF-6Qd31xZUfq {\n    transform: rotate(180deg) scale(1.5) translate(1px, -1px);\n}\n\n._2Cdd86nBkd-22Mo-CpgMNx {\n    bottom: -2px;\n    right: -2px;\n    transform: rotate(270deg);\n    cursor: nwse-resize;\n}\n._2Cdd86nBkd-22Mo-CpgMNx:hover, ._2Cdd86nBkd-22Mo-CpgMNx._1n8_-lJOYsF-6Qd31xZUfq {\n    transform: rotate(270deg) scale(1.5) translate(1px, -1px);\n}\n\n._2Dv7RZw0GkQknELEROlc5x {\n    bottom: -2px;\n    left: -2px;\n    cursor: nesw-resize;\n}\n._2Dv7RZw0GkQknELEROlc5x:hover, ._2Dv7RZw0GkQknELEROlc5x._1n8_-lJOYsF-6Qd31xZUfq {\n    transform: scale(1.5) translate(1px, -1px);\n}\n\n._2e1ukwJgSrgQjsvZr_Ql1N,\n._1-7YjYFlnWk7REKu-C4DAe {\n    transition: transform 100ms ease-out;\n}\n",""]),t.locals={sideHandle:"_2e1ukwJgSrgQjsvZr_Ql1N",prezigram:"_34wgMP54-Nba6fJgRtInqi",n:"_3kmx70mf1fL3QxU5aAQU4z",s:"_2v-E7zp455rPYELpRHxUSi",selected:"_1n8_-lJOYsF-6Qd31xZUfq",w:"_2qJ7IPZhc4hK6aQnTceZbx",e:"_1NHwB4sjlyV39sO7_vUczR",cornerHandle:"_1-7YjYFlnWk7REKu-C4DAe",nw:"Ual2JhPJAsByzbiNr1Npv",ne:"_3y7UVk0T-fRvN5kQ5BPasn",se:"_2Cdd86nBkd-22Mo-CpgMNx",sw:"_2Dv7RZw0GkQknELEROlc5x"}},R9oZ:function(e,t,n){"use strict";n.r(t),n.d(t,"hue",(function(){return i}));var o=n("Caa3");function r(e,t){return function(n){return e+n*t}}function i(e,t){var n=t-e;return n?r(e,n>180||n<-180?n-360*Math.round(n/360):n):Object(o.default)(isNaN(e)?t:e)}t.default=function(e,t){var n=t-e;return n?r(e,n):Object(o.default)(isNaN(e)?t:e)}},RZ7o:function(e,t,n){"use strict";n.r(t);var o=n("haA1");n.d(t,"default",(function(){return o.default}))},Rz4B:function(e,t,n){e.exports=n.p+"5b508e0fe2c8c7ff0276d78261d91866.svg"},SUR1:function(e,t,n){"use strict";n.r(t);var o=n("7pL7");n.d(t,"hsv",(function(){return o.default}));var r=n("lORu");n.d(t,"interpolateHsv",(function(){return r.default})),n.d(t,"interpolateHsvLong",(function(){return r.hsvLong}))},T9bt:function(e,t,n){"use strict";n.r(t);var o=n("4Zd/");n.d(t,"default",(function(){return o.default}))},TAoN:function(e,t,n){e.exports=n.p+"18e91817ce3d693866f097e616ef72c1.svg"},TKOg:function(e,t,n){"use strict";n.r(t),n.d(t,"Saturation",(function(){return w}));var o=n("q1tI"),r=n.n(o),i=n("17x9"),a=n.n(i),u=n("vOnD"),c=n("LvDl"),l=n.n(c);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e,t,n){var o=n.getBoundingClientRect(),r=o.width,i=o.height,a="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,u="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,c=a-(n.getBoundingClientRect().left+window.pageXOffset),l=u-(n.getBoundingClientRect().top+window.pageYOffset);c<0?c=0:c>r&&(c=r),l<0?l=0:l>i&&(l=i);var s=Math.round(c/r*100)/100,p=Math.round(100*(1-l/i))/100;return{h:t.h,s:s,v:p}},y=u.default.div.attrs((function(e){var t=e.hsv;return{style:{background:"hsl(".concat(t.h,", 100%, 50%)")}}})).withConfig({displayName:"Saturationreact__SaturationRoot",componentId:"r5hnj5-0"})(["position:absolute;top:0px;left:0px;right:0px;bottom:0px;"]),m=u.default.div.withConfig({displayName:"Saturationreact__SaturationWhite",componentId:"r5hnj5-1"})(["position:absolute;top:0px;left:0px;right:0px;bottom:0px;background:-webkit-linear-gradient(to right,#fff,rgba(255,255,255,0));background:linear-gradient(to right,#fff,rgba(255,255,255,0));"]),v=u.default.div.withConfig({displayName:"Saturationreact__SaturationBlack",componentId:"r5hnj5-2"})(["position:absolute;top:0px;left:0px;right:0px;bottom:0px;background:-webkit-linear-gradient(to top,#000,rgba(0,0,0,0));background:linear-gradient(to top,#000,rgba(0,0,0,0));"]),_=u.default.div.attrs((function(e){var t=e.hsv;return{style:{top:"".concat(-100*t.v+100,"%"),left:"".concat(100*t.s,"%")}}})).withConfig({displayName:"Saturationreact__Pointer",componentId:"r5hnj5-3"})(["position:absolute;cursor:default;"]),w=function(e){function t(){var e,n;p(this,t);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(n=d(this,(e=h(t)).call.apply(e,[this].concat(i))))._container=r.a.createRef(),n._throttle=l.a.throttle((function(e,t,n){e(t,n)}),50),n.handleChange=function(e){e.preventDefault(),n._throttle(n.props.onChange,b(e,n.props.hsv,n._container.current),e)},n.handleMouseDown=function(e){n.handleChange(e),window.addEventListener("mousemove",n.handleChange),window.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,e),n=t,(o=[{key:"componentWillUnmount",value:function(){this._throttle.cancel(),this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this.props.hsv;return r.a.createElement(y,{ref:this._container,hsv:e,onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},r.a.createElement(m,null,r.a.createElement(v,null),r.a.createElement(_,{hsv:e},this.props.children)))}}])&&f(n.prototype,o),i&&f(n,i),t}(o.PureComponent);w.propTypes={hsv:a.a.object.isRequired,onChange:a.a.func.isRequired,children:a.a.node.isRequired},t.default=w},Tadz:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return j}));var o,r,i,a=n("q1tI"),u=n.n(a),c=n("/MKj"),l=n("17x9"),s=n.n(l),p=n("eqw4"),f=n("ySsV"),d=n("Mzex"),h=n("832M"),g=n("Pwhp"),b=n("NI0h"),y=n("rQKZ"),m=n("aXXi"),v=n("v8xS"),_=n("60SJ");function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function x(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e,t,n,o,r,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(o,r)}var j=Object(c.connect)((function(e){return{shouldShowRevisions:e.getIn(["revisions","shouldShowRevisions"])}}),(function(e){return{openProject:(t=regeneratorRuntime.mark((function t(n,o,r,i){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(v.loadTemplate)(o);case 2:e({type:m.FLEX_EDITOR_OPEN_PROJECT,payload:{projectId:n,options:r,useBackboneModel:!0,isZoomLayout:i}});case 3:case"end":return t.stop()}}),t)})),n=function(){var e=this,n=arguments;return new Promise((function(o,r){var i=t.apply(e,n);function a(e){k(i,o,r,a,u,"next",e)}function u(e){k(i,o,r,a,u,"throw",e)}a(void 0)}))},function(e,t,o,r){return n.apply(this,arguments)}),closeProject:function(t){e({type:m.FLEX_EDITOR_CLOSE_PROJECT,payload:{projectId:t}})}};var t,n}))(o=Object(y.default)()((i=r=function(e){function t(){return E(this,t),x(this,S(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,e),n=t,r=[{key:"getStores",value:function(){return[p.default,f.default,_.default]}},{key:"calculateState",value:function(){return{shouldPresent:p.default.isFullscreen,showChartsOnScroll:_.default.getState().get("showChartsOnScroll"),projectId:f.default.infographicId,flexTemplateId:f.default.flexTemplateId,isZoomLayout:f.default.isZoomLayout}}}],(o=[{key:"componentDidMount",value:function(){this.props.openProject(this.state.projectId,this.state.flexTemplateId,this.props.options,this.state.isZoomLayout)}},{key:"componentWillUnmount",value:function(){this.props.closeProject(this.state.projectId)}},{key:"render",value:function(){return this.state.shouldPresent?u.a.createElement(h.default,{showChartsOnScroll:this.state.showChartsOnScroll}):this.props.shouldShowRevisions?u.a.createElement(b.default,null):u.a.createElement(d.default,{toolbar:u.a.createElement(g.default,null)})}}])&&O(n.prototype,o),r&&O(n,r),t}(a.Component),r.propTypes={shouldShowRevisions:s.a.bool.isRequired,openProject:s.a.func.isRequired,closeProject:s.a.func.isRequired,options:s.a.object},o=i))||o)||o},Uvuq:function(e,t,n){e.exports=n.p+"2734b7a0dbef19e0903b8bc4da097f60.svg"},V12p:function(e,t,n){e.exports=n.p+"f0405ee0d3719021cbb6b1cd04fd3968.svg"},W0Zp:function(e,t,n){"use strict";n.r(t);var o=n("q1tI"),r=n.n(o),i=n("17x9"),a=n.n(i),u=n("yb06"),c=n.n(u),l=n("Jgc/"),s=n("TSYQ"),p=n.n(s),f=n("vOnD"),d=n("vmwM"),h=n("avnT"),g=n("WdyC"),b=n("XjPQ"),y=n("fJPJ"),m=n.n(y),v=n("qLhN"),_=n.n(v),w=n("Mp8E"),E=n("zkXd"),O=n("EKef"),x=n("USB3"),S=n("PXfb"),C=n.n(S);n("/fDD");function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function N(e,t,n){return t&&D(e.prototype,t),n&&D(e,n),e}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var z=f.default.div.withConfig({displayName:"MaskSelectorreact__DragHandle",componentId:"y6l0ku-0"})(["position:absolute;top:0;left:0;right:0;bottom:0;border:1px dotted #3195cb;margin:30px;pointer-events:auto;",""],(function(e){return e.theme.id===x.default.id&&"\n        border-color: ".concat(x.default.blue500,";\n    ")})),M=f.default.div.withConfig({displayName:"MaskSelectorreact__ResizeHandle",componentId:"y6l0ku-1"})(["pointer-events:auto;position:absolute;height:11px;width:11px;margin:3px;background:#3195cb;outline:solid 1px #fff;cursor:pointer;",""],(function(e){return e.theme.id===x.default.id&&"\n        background: ".concat(x.default.blue500,";\n    ")})),q=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,r=I(t).call(this,e),(n=!r||"object"!==k(r)&&"function"!=typeof r?T(o):r)._onResizeStart=n._onResizeStart.bind(T(n)),n._onRotateStart=n._onRotateStart.bind(T(n)),n._onHandleMove=n._onHandleMove.bind(T(n)),n._onHandleStop=n._onHandleStop.bind(T(n)),n._onDragStart=n._onDragStart.bind(T(n)),n._onDrag=n._onDrag.bind(T(n)),n._onDragStop=n._onDragStop.bind(T(n)),n.onBackgroundDragStart=Object(E.createBackgroundDragHandler)({moveClip:g.moveImageMask,onStart:function(){return n.setState({draggingBackground:!0})},onEnd:function(){return n.setState({draggingBackground:!1})}}).bind(T(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(t,e),N(t,null,[{key:"getStores",value:function(){return[d.default,O.default]}},{key:"calculateState",value:function(e,t){var n,o=t.entity,r=t.scaleX,i=t.scaleY,a=d.default.currentImageClip,u=a.get("boundingBox"),c={left:u.get("left")*o.getWidth()*r,top:u.get("top")*o.getHeight()*i,width:u.get("width")*o.getWidth()*r,height:u.get("height")*o.getHeight()*i};return{mask:a,maskDimensions:c,selectorDimensions:{left:c.left-30,top:c.top-30,width:c.width+60,height:c.height+60},entityDimensions:{width:o.getWidth()*r,height:o.getHeight()*i},transformOriginOffset:d.default.transformOriginOffset,rotationAvailable:!o.getCalloutKey(),backgroundDragEnabled:!o.getCalloutKey(),imageURL:(n=O.default.editorState.getAssetURL(o.getProperty("assetId")),n.replace(/_q\.(jpg|jpeg|png|svg|gif)$/,".$1"))}}}]),N(t,[{key:"componentWillUnmount",value:function(){document.removeEventListener("mousemove",this._onHandleMove),document.removeEventListener("mouseup",this._onHandleStop),document.removeEventListener("mousemove",this._onDrag),document.removeEventListener("mouseup",this._onDragStop)}},{key:"_onResizeStart",value:function(e){e.stopPropagation(),e.preventDefault();var t=e.target.dataset.origin,n=this.props,o=n.scaleX,r=n.scaleY;Object(g.startClipResize)({startPoint:Object(b.Point)(e.clientX,e.clientY),resizeOrigin:t,scaleX:o,scaleY:r}),document.addEventListener("mousemove",this._onHandleMove),document.addEventListener("mouseup",this._onHandleStop)}},{key:"_onRotateStart",value:function(e){e.stopPropagation(),e.preventDefault();var t=this.props,n=t.scaleX,o=t.scaleY;Object(g.startClipRotate)({startPoint:Object(b.Point)(e.clientX,e.clientY),scaleX:n,scaleY:o}),document.addEventListener("mousemove",this._onHandleMove),document.addEventListener("mouseup",this._onHandleStop)}},{key:"_onHandleMove",value:function(e){e.stopPropagation(),Object(g.transformImageMask)(Object(b.Point)(e.clientX,e.clientY))}},{key:"_onHandleStop",value:function(){document.removeEventListener("mousemove",this._onHandleMove),document.removeEventListener("mouseup",this._onHandleStop)}},{key:"_onDragStart",value:function(e){e.stopPropagation(),e.preventDefault();var t=this.props,n=t.scaleX,o=t.scaleY;Object(g.startClipMove)({startPoint:Object(b.Point)(e.clientX,e.clientY),scaleX:n,scaleY:o}),document.addEventListener("mousemove",this._onDrag),document.addEventListener("mouseup",this._onDragStop)}},{key:"_onDrag",value:function(e){e.stopPropagation(),Object(g.moveImageMask)(Object(b.Point)(e.clientX,e.clientY))}},{key:"_onDragStop",value:function(){document.removeEventListener("mousemove",this._onDrag),document.removeEventListener("mouseup",this._onDragStop)}},{key:"render",value:function(){var e,t=this.props.entity,n=this.state,o=n.mask,i=n.maskDimensions,a=n.selectorDimensions,u=n.entityDimensions,c=n.rotationAvailable,l=n.backgroundDragEnabled,s=n.imageURL,f=P({transform:"rotate(".concat(o.get("rotate"),"deg)")},i),d=P({transform:"rotate(".concat(o.get("rotate"),"deg)")},a),g={className:p()(m.a.mask,R({},m.a.maskPrezigram,!1)),style:f};return r.a.createElement("div",{className:m.a.container},r.a.createElement("img",{className:p()(m.a.background,(e={},R(e,m.a.draggableBackground,l),R(e,m.a.draggingBackground,this.state.draggingBackground),e)),src:s,onMouseDown:l?this.onBackgroundDragStart:void 0}),r.a.createElement(w.default,{id:t.getKey(),clip:o,type:"mask",src:s,width:u.width,height:u.height,maskProps:g,filters:t.getFilters(),editing:!0}),r.a.createElement("div",{className:m.a.selector,style:d},r.a.createElement(z,{onMouseDown:this._onDragStart}),c&&r.a.createElement("img",{src:C.a,onMouseDown:this._onRotateStart,className:_.a.rotationIcon}),r.a.createElement(M,{onMouseDown:this._onResizeStart,"data-origin":h.RESIZE_ORIGIN.NW,className:p()(m.a.nw,_.a.nw)}),r.a.createElement(M,{onMouseDown:this._onResizeStart,"data-origin":h.RESIZE_ORIGIN.NE,className:p()(m.a.ne,_.a.ne)}),r.a.createElement(M,{onMouseDown:this._onResizeStart,"data-origin":h.RESIZE_ORIGIN.SE,className:p()(m.a.se,_.a.se)}),r.a.createElement(M,{onMouseDown:this._onResizeStart,"data-origin":h.RESIZE_ORIGIN.SW,className:p()(m.a.sw,_.a.sw)})))}}]),t}(r.a.Component);q.propTypes={entity:c.a.record.isRequired,scaleX:a.a.number.isRequired,scaleY:a.a.number.isRequired},t.default=l.Container.create(q,{withProps:!0})},W1yj:function(e,t,n){e.exports=n.p+"4fb72f505d30d63dc89e91ddeb9e10d2.svg"},WJLs:function(e,t,n){e.exports=n.p+"d5cca40ace644d35ebc860cb51c24a05.svg"},WatP:function(e,t,n){e.exports=n.p+"434dec2ebffdf5828651a17dd55ed3dd.svg"},X7Jj:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return E}));var o=n("q1tI"),r=n.n(o),i=n("17x9"),a=n.n(i),u=n("yb06"),c=n.n(u),l=n("vOnD"),s=n("z3Ib"),p=n("B6Rb"),f=n("ZgL/"),d=n("USB3"),h=n("30eB"),g=n.n(h);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function m(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=l.default.div.withConfig({displayName:"CalloutEditItemOverlayreact__OverlayBorder",componentId:"sc-16nsa4m-0"})(["position:absolute;top:30px;right:30px;bottom:30px;left:30px;cursor:move;",""],(function(e){return e.solid&&"\n        border: 1px solid ".concat(e.theme.id===d.default.id?d.default.blue500:"#3195cb",";\n    ")})),E=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=m(this,v(t).call(this,e)))._refs={},n._handlers={resize:n._assignHandler("resize"),resizeSide:n._assignHandler("resizeSide"),resizeWidth:n._assignHandler("resizeWidth"),scaleText:n._assignHandler("scaleText"),select:n._assignHandler("select_entity")},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,e),n=t,(o=[{key:"_assignHandler",value:function(e){var t=this;return function(n){n?f.default.addHandler(n,e,t.props.entity.getKey()):t._refs[e]&&f.default.removeHandler(t._refs[e],e,t.props.entity.getKey()),t._refs[e]=n}}},{key:"render",value:function(){var e=this.props,t=e.entity,n=e.width,o=e.height,i=e.selected,a=e.resizing,u=e.dragging,c=e.hovered,l=a||u,f=Object(p.getOverlayMode)(t);return r.a.createElement("div",{className:g.a.overlay},r.a.createElement(w,{solid:i||!l&&c,ref:this._handlers.select}),i&&!u&&r.a.createElement(s.default,{width:n,height:o,handlers:this._handlers,rotation:0,resizing:a,mode:f}))}}])&&y(n.prototype,o),i&&y(n,i),t}(o.PureComponent);E.propTypes={entity:c.a.record.isRequired,width:a.a.number.isRequired,height:a.a.number.isRequired,selected:a.a.bool.isRequired,resizing:a.a.bool.isRequired,dragging:a.a.bool.isRequired,hovered:a.a.bool.isRequired}},XGeZ:function(e,t,n){e.exports=n.p+"9140957c7c751684a0d27d0da5364eff.svg"},XPW7:function(e,t,n){e.exports=n.p+"3080190c0361b3120dd87f61368261df.svg"},YNSi:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return R}));var o,r,i,a=n("q1tI"),u=n.n(a),c=n("17x9"),l=n.n(c),s=n("yb06"),p=n.n(s),f=n("/MKj"),d=n("1GB4"),h=n("vmwM"),g=n("rQKZ"),b=n("5ERT"),y=n("AWSl"),m=n("f4JI"),v=n("0ENQ"),_=n("U+ZW"),w=n("gnXf"),E=n("5I7P");function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function k(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var R=Object(f.connect)((function(e,t){var n,o,r,i,a,u=t.block,c=t.pageSize,l=t.scaleX,s=t.scaleY,p=e.get("calloutEdit"),f=p.entityKey&&u.getKey()===p.blockKey?u.getEntity(p.entityKey):void 0;if(f&&f.getCallout()){if(r=f.getCallout(),n=p.get("calloutOpen")){o=u.getEntitiesByKeys(r.get("entities"),{orderByKeys:!0}),i=Object(y.default)(r,c,{scaleX:l,scaleY:s});var d="overlay"===r.get("type");a=Object(m.default)(r.get("position"),r.get("width"),r.get("height"),{entityBounds:f.bounds(),isOverlay:d,pageSize:c,scaleX:l,scaleY:s,calloutScale:i})}}else f=void 0;return{entity:f,callout:r,calloutOpen:n,calloutEntities:o,calloutScale:i,calloutBounds:a}}),(function(e){return{onToggleCallout:function(t){e({type:v.CALLOUTS_TOGGLE_CALLOUT,payload:{entity:t}})}}}),null,{areStatesEqual:function(e,t){return e.get("calloutEdit")===t.get("calloutEdit")},areStatePropsEqual:function(e,t){return e.entity===t.entity&&e.callout===t.callout&&e.calloutOpen===t.calloutOpen&&e.calloutEntities===t.calloutEntities&&e.calloutScale===t.calloutScale&&e.calloutBounds===t.calloutBounds}})(o=Object(g.default)({withProps:!0})((i=r=function(e){function t(){var e,n;S(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=k(this,(e=j(t)).call.apply(e,[this].concat(r)))).state={hoveredTimerId:void 0,hoveredEntity:void 0},n._showPreview=function(e){var t=n.state.hoveredTimerId;t&&(clearTimeout(t),t=void 0),n.setState({hoveredEntity:e,hoveredTimerId:t})},n._clearHidePreviewTimer=function(){n.state.hoveredTimerId&&(clearTimeout(n.state.hoveredTimerId),n.setState({hoveredTimerId:void 0}))},n._hidePreviewOnTimeout=function(){var e=setTimeout((function(){n.setState({hoveredEntity:void 0,hoveredTimerId:void 0})}),_.CALLOUT_HIDE_DELAY);n.setState({hoveredTimerId:e})},n._hidePreview=function(){n.state.hoveredTimerId&&clearTimeout(n.state.hoveredTimerId),n.setState({hoveredTimerId:void 0,hoveredEntity:void 0})},n._closeCallout=function(){n.props.entity&&n.props.calloutOpen&&n.props.onToggleCallout(n.props.entity)},n._selectEntity=function(e){n.props.onSelectionChange(d.default.singleItem(e.getKey()))},n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,e),n=t,r=[{key:"getStores",value:function(){return[h.default]}},{key:"calculateState",value:function(e,t){return{entityIsBeingClipped:h.default.activeType&&t.entity&&t.entity.key===h.default.activeEntityKey}}}],(o=[{key:"componentDidUpdate",value:function(e){if(this.props.entity!==e.entity||this.props.hoveredEntity!==e.hoveredEntity){var t=this.props.hoveredEntity,n=this.props.entity&&this.props.entity.getKey();t&&t!==e.hoveredEntity&&t.getCallout()&&t.getKey()!==n?this._showPreview(t):this.state.hoveredEntity&&this.state.hoveredEntity.getKey()===n?this._hidePreview():e.hoveredEntity&&this.state.hoveredEntity===e.hoveredEntity&&this._hidePreviewOnTimeout()}}},{key:"componentDidMount",value:function(){Object(b.default)(this.props.block,this.props.assets)}},{key:"componentWillUnmount",value:function(){this.state.hoveredTimerId&&clearTimeout(this.state.hoveredTimerId)}},{key:"render",value:function(){var e=this.props,t=e.entity,n=e.callout,o=e.calloutOpen,r=e.calloutEntities,i=e.calloutBounds,a=e.calloutScale,c=e.scaleX,l=e.scaleY,s=this.state,p=s.hoveredEntity,f=s.entityIsBeingClipped;return u.a.createElement(u.a.Fragment,null,n&&o&&!f&&u.a.createElement(w.default,x({key:t.getKey(),entity:t,design:this.props.design,assets:this.props.assets,callout:n,calloutEntities:r,bounds:i,selectedEntities:this.props.selectedEntities,onEntityMouseDown:this.props.onEntityMouseDown,onEntityMouseUp:this.props.onEntityMouseUp,onClose:this._closeCallout},a)),n&&!o&&!f&&u.a.createElement(E.default,{entity:t,entityBounds:t.bounds(),callout:n,scaleX:c,scaleY:l,onToggleCallout:this.props.onToggleCallout}),p&&u.a.createElement(E.default,{entity:p,entityBounds:p.bounds(),callout:p.getCallout(),scaleX:c,scaleY:l,onToggleCallout:this._selectEntity,onMouseLeave:this._hidePreviewOnTimeout,onMouseEnter:this._clearHidePreviewTimer}))}}])&&C(n.prototype,o),r&&C(n,r),t}(a.Component),r.propTypes={design:p.a.map.isRequired,assets:l.a.shape({getURL:l.a.func.isRequired}),block:p.a.record.isRequired,selectedEntities:p.a.set,hoveredEntity:p.a.record,scaleX:l.a.number.isRequired,scaleY:l.a.number.isRequired,pageSize:l.a.shape({width:l.a.number.isRequired,height:l.a.number.isRequired}).isRequired,onEntityMouseDown:l.a.func.isRequired,onEntityMouseUp:l.a.func.isRequired,entity:p.a.record,callout:p.a.map,calloutOpen:l.a.bool,calloutEntities:p.a.list,calloutScale:l.a.shape({scaleX:l.a.number.isRequired,scaleY:l.a.number.isRequired}),calloutBounds:l.a.shape({top:l.a.string.isRequired,left:l.a.string.isRequired,width:l.a.number.isRequired,height:l.a.number.isRequired}),onToggleCallout:l.a.func.isRequired,onSelectionChange:l.a.func.isRequired},o=i))||o)||o},YP07:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return S}));var o,r,i,a=n("q1tI"),u=n.n(a),c=n("17x9"),l=n.n(c),s=n("yb06"),p=n.n(s),f=n("rQKZ"),d=n("vmwM"),h=n("ZgL/"),g=n("xVW7"),b=n("MYRr"),y=n("30eB"),m=n.n(y);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function O(e,t,n){return t&&E(e.prototype,t),n&&E(e,n),e}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var S=Object(f.default)()((i=r=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=_(this,w(t).call(this,e)))._refs={},n._handlers={resize:n._assignHandler("callout"),resizeSide:n._assignHandler("callout"),select:n._assignHandler("select_entity")},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,e),O(t,null,[{key:"getStores",value:function(){return[d.default,g.default]}},{key:"calculateState",value:function(){return{clipping:!!d.default.activeType,dragging:g.default.dragging,resizing:g.default.resizing}}}]),O(t,[{key:"_assignHandler",value:function(e){var t=this;return function(n,o){var r=o?"".concat(e,"_").concat(o):e;n?h.default.addHandler(n,r,t.props.entityKey):t._refs[r]&&h.default.removeHandler(t._refs[r],r,t.props.entityKey),t._refs[r]=n}}},{key:"render",value:function(){var e=this.props,t=e.entities,n=e.callout,o=this.state,r=o.dragging,i=o.resizing,a=o.clipping,c=t.size>1||"TEXT"!==t.first().getType()||!n.get("fixedPaddings"),l="resize-".concat(this.props.entityKey,"-").concat(n.get("fixedPaddings"));return u.a.createElement("div",{className:m.a.calloutOverlay},u.a.createElement("div",{className:m.a.calloutOverlaySelect,ref:this._handlers.select}),!r&&!a&&u.a.createElement(b.default,{key:l,handlers:this._handlers,resizing:i,withVerticalResize:c}))}}]),t}(a.Component),r.propTypes={entityKey:l.a.string.isRequired,callout:p.a.map.isRequired,entities:p.a.list.isRequired,width:l.a.number.isRequired,height:l.a.number.isRequired,hovered:l.a.bool.isRequired,selected:l.a.bool.isRequired},o=i))||o},"Z+h/":function(e,t,n){"use strict";n.r(t);var o=n("17x9"),r=n.n(o),i=n("q1tI"),a=n.n(i),u=n("yb06"),c=n.n(u),l=n("vOnD"),s=n("TSYQ"),p=n.n(s),f=n("Jgc/"),d=n("vmwM"),h=n("Tha3"),g=n("hl5+"),b=n("xVW7"),y=n("/QJz"),m=n("W0Zp"),v=n("z3Ib"),_=n("4fFA"),w=n("avnT"),E=n("B6Rb"),O=n("hDjw"),x=n("USB3"),S=n("qLhN"),C=n.n(S),k=n("PXfb"),j=n.n(k);n("/fDD");function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function T(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var L=l.default.div.withConfig({displayName:"EntityOverlay__LineHover",componentId:"sudca9-0"})(["height:1px;position:absolute;left:31px;right:31px;top:calc(50% - 0.5px);background:",";",""],(function(e){return e.theme.id===x.default.id?x.default.blue500:"#3195cb"}),(function(e){return e.locked&&"\n        background: ".concat(e.theme.id===x.default.id?x.default.neutral60:"#949496",";\n    ")})),z=l.default.div.withConfig({displayName:"EntityOverlay__Border",componentId:"sudca9-1"})(["position:absolute;top:30px;right:30px;bottom:30px;left:30px;cursor:move;"," "," ",""],(function(e){return e.solid&&"\n        border: 1px solid ".concat(e.theme.id===x.default.id?x.default.blue500:"#3195cb",";\n    ")}),(function(e){return e.locked&&"\n        border: 1px solid ".concat(e.theme.id===x.default.id?x.default.neutral60:"#949496",";\n    ")}),(function(e){return e.none&&"\n        border: none;\n    "})),M=function(e){function t(){return R(this,t),T(this,D(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(t,e),n=t,r=[{key:"getStores",value:function(){return[d.default,b.default]}},{key:"calculateState",value:function(e,t){var n=b.default.activeHandle;return{isRotating:n&&"rotate"===n.get("type")&&n.get("key")===t.entity.getKey(),isResizing:b.default.resizing,isDragging:b.default.dragging,clipping:d.default.activeEntityKey===t.entity.getKey()?d.default.activeType:null,mode:Object(E.getOverlayMode)(t.entity)}}}],(o=[{key:"render",value:function(){var e=this.props,t=e.handlers,n=e.hovered,o=e.selected,r=e.multiSelectionActive,u=e.entity,c=e.scaleX,l=e.scaleY,s=e.editing,f=this.state,d=f.isRotating,b=f.isResizing,E=f.isDragging,x=f.clipping,S=f.mode,k=d||b||E,P=S===w.OVERLAY_MODES.CONNECTOR,R=u.getTransform().getRotate(),I=u.getProperty("crop"),T=u.getProperty("mask"),D=u.locked,N=x?u:Object(h.calculateClippedRectangle)(u),M={transform:"rotate(".concat(R||0,"deg)"),top:N.top*this.props.scaleY,left:N.left*this.props.scaleX,width:N.width*this.props.scaleX,height:N.height*this.props.scaleY,position:"absolute",pointerEvents:"none",zIndex:2,opacity:E&&!x?.5:1};if(P&&(M.top=0,M.left=0,M.width="100%",M.height="100%"),x&&I){var q=I.get("left")+(100-I.get("left")-I.get("right"))/2,A=I.get("top")+(100-I.get("top")-I.get("bottom"))/2;M.transformOrigin="".concat(q,"% ").concat(A,"%")}else if(x&&T){var B=100*T.get("center").get("left"),U=100*T.get("center").get("top");M.transformOrigin="".concat(B,"% ").concat(U,"%")}var Y={},K=0;T&&!x?(K=T.get("rotate"),Y.transform="rotate(".concat(K,"deg)")):x&&(Y.display="none");var X,H=R+K;x===g.IMAGE_CROP?X=a.a.createElement(y.default,{entity:u,scaleX:this.props.scaleX,scaleY:this.props.scaleY}):x===g.IMAGE_MASK&&(X=a.a.createElement(m.default,{entity:u,scaleX:this.props.scaleX,scaleY:this.props.scaleY}));var Z=S===w.OVERLAY_MODES.RECTANGLE||S===w.OVERLAY_MODES.TEXT||S===w.OVERLAY_MODES.CONTAINERLESS,V=P&&r;return a.a.createElement("div",{style:M},X,a.a.createElement("div",{className:p()(!P&&C.a.selector),style:Y},a.a.createElement(z,{solid:Z&&!D&&(o||!k&&n),locked:Z&&D&&(o||!k&&n),none:S===w.OVERLAY_MODES.CONTAINERLESS&&s,ref:t.select}),S===w.OVERLAY_MODES.LINE&&(n&&!o&&!k||o&&D)&&a.a.createElement(L,{locked:D}),V&&!s&&a.a.createElement(O.default,{entity:u,scaleX:c,scaleY:l,block:this.props.block,pageSize:this.props.pageSize,readOnly:!1,overlay:!0}),o&&!D&&!r&&!this.props.commenting&&a.a.createElement(i.Fragment,null,(d||!b&!s)&&Z&&a.a.createElement("img",{ref:t.rotate,className:C.a.rotationIcon,src:j.a}),!d&&!E&&a.a.createElement(i.Fragment,null,!P&&a.a.createElement(v.default,{isGroup:u.isGroup(),width:M.width,height:M.height,handlers:t,rotation:H,resizing:b,mode:S}),P&&a.a.createElement(_.default,{handlers:t,rotation:H,entity:u,scaleX:this.props.scaleX,scaleY:this.props.scaleY,block:this.props.block,pageSize:this.props.pageSize})))))}}])&&I(n.prototype,o),r&&I(n,r),t}(i.Component);M.propTypes={entity:c.a.record.isRequired,scaleX:r.a.number.isRequired,scaleY:r.a.number.isRequired,hovered:r.a.bool.isRequired,selected:r.a.bool.isRequired,handlers:r.a.object.isRequired,multiSelectionActive:r.a.bool,isClipping:r.a.bool,commenting:r.a.bool,block:r.a.any.isRequired,pageSize:r.a.shape({width:r.a.number.isRequired,height:r.a.number.isRequired}),editing:r.a.bool},t.default=f.Container.create(M,{withProps:!0})},ZGOS:function(e,t,n){var o=n("rRPG");"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(o,r);o.locals&&(e.exports=o.locals)},ZTyM:function(e,t,n){var o=n("wa9k");"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(o,r);o.locals&&(e.exports=o.locals)},a42G:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return P}));var o,r,i,a=n("17x9"),u=n.n(a),c=n("vOnD"),l=n("q1tI"),s=n.n(l),p=n("yb06"),f=n.n(p),d=n("/MKj"),h=n("Sye6"),g=n("TJ0u"),b=n("rQKZ"),y=n("xVW7"),m=n("XjPQ"),v=n("USB3");function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function x(e,t,n){return t&&O(e.prototype,t),n&&O(e,n),e}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var C=["create-n","create-e","create-s","create-w"];var k=c.default.div.withConfig({displayName:"CreateConnectorHandlesreact__ConnectorCreateHandleWrapper",componentId:"sc-83iiil-0"})(["pointer-events:auto;position:absolute;height:13px;width:13px;padding:2px;transform-origin:top left;box-sizing:content-box;cursor:crosshair;"]),j=c.default.div.withConfig({displayName:"CreateConnectorHandlesreact__ConnectorCreateHandle",componentId:"sc-83iiil-1"})(["pointer-events:none;height:11px;width:11px;border-radius:100%;background-color:#3195cb;border:1px solid #fff;transition:transform 50ms ease-in-out;backface-visibility:hidden;",""],(function(e){return e.theme.id===v.default.id&&"\n        background-color: ".concat(v.default.blue500,";\n    ")})),P=Object(d.connect)((function(e){return{mousePosition:e.get("mousePosition"),zoom:e.getIn(["editorZoom","zoom"])}}))(o=Object(b.default)({withProps:!0})((i=r=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,(n=!(r=w(t).call(this,e))||"object"!==_(r)&&"function"!=typeof r?E(o):r)._setRef=n._setRef.bind(E(n)),n._storePositions=n._storePositions.bind(E(n)),n._findActiveResize=n._findActiveResize.bind(E(n)),n._handleMouseDown=n._handleMouseDown.bind(E(n)),n._handleMouseUp=n._handleMouseUp.bind(E(n)),n._refs={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,e),x(t,null,[{key:"getStores",value:function(){return[g.default,h.default,y.default]}},{key:"calculateState",value:function(e,t){var n=g.default.scrolling,o=t&&t.resizing,r=e&&e.positions,i=h.default.currentSelection,a=y.default.dragging,u=y.default.pointerMovedX,c=y.default.pointerMovedY,l=e&&e.selected;return e&&e.resizing&&!o&&(l=null),{positions:r,selected:l,scrolling:n,resizing:o,selection:i,dragX:u,dragY:c,dragging:a}}}]),x(t,[{key:"componentDidMount",value:function(){this._storePositions()}},{key:"componentDidUpdate",value:function(e,t){var n,o;(t.scrolling&&!this.state.scrolling||e.zoom!==this.props.zoom||t.resizing&&!this.state.resizing||t.selection!==this.state.selection||t.dragging!==this.state.dragging||e.rotation!==this.props.rotation||(n=e.entityRect,o=this.props.entityRect,n.width!==o.width||n.height!==o.height||n.left!==o.left||n.top!==o.top))&&this._storePositions()}},{key:"render",value:function(){var e=this,t=this.props,n=t.entityRect,o=t.zoom,r=this.props.rotation,i=this.state,a=i.selected,u=i.dragX,c=i.dragY,l=this._findActiveResize(),p=function(e,t){var n=function(e){var t=e.left,n=e.top,o=e.width,r=e.height;return{"create-n":{x:t+o/2,y:n},"create-e":{x:t+o,y:n+r/2},"create-s":{x:t+o/2,y:n+r},"create-w":{x:t,y:n+r/2}}}(e),o=Object(m.centerOf)(e),r=Object(m.rad)(Object(m.positiveDeg)(t));for(var i in n){var a=n[i],u=Object(m.Point)(0,0),c=1;switch(i){case"create-e":u.x=9;break;case"create-w":u.x-=26,c=-1;break;case"create-n":u.y-=26;break;case"create-s":u.y=9,c=-1}a.x+=u.x,a.y+=u.y;var l=Object(m.rotatePoint)(a,r,o),s=Object(m.Point)(l.x-o.x,l.y-o.y),p=Math.atan2(-s.x,s.y),f=Object(m.movePoint)(l,p,8*c);a.x=Math.round(f.x),a.y=Math.round(f.y)}return n}(n,r);return a&&null!==u&&(p[a].x=u*o+30-8,p[a].y=c*o+30-8,r=0),s.a.createElement("div",null,C.map((function(t){return s.a.createElement(k,{style:{left:p[t].x,top:p[t].y,transform:"rotate(".concat(r,"deg)")},key:t,ref:function(n){return e._setRef(t,n)},onMouseDown:function(){return e._handleMouseDown(t)},onMouseUp:e._handleMouseUp},s.a.createElement(j,{style:{transform:e._getTransform(t,l,a)}}))})))}},{key:"_findActiveResize",value:function(){var e=this.props,t=e.resizing,n=e.mousePosition,o=this.state,r=o.positions,i=o.selected;if(i)return{type:i,scale:1};var a=null;return!r||i||t||Object.keys(r).forEach((function(e){var t=r[e],o=t?Math.floor(Object(m.distance)(n,t)):1/0;(!a||o<a.distance)&&(a={type:e,distance:o})})),a?{type:a.type,scale:this._calculateScale(a.distance)}:void 0}},{key:"_calculateScale",value:function(e){if(e>86)return 0;var t=.75*(99-e)/86+.25;return t=(t=Math.min(1,t)).toFixed(2)}},{key:"_getTransform",value:function(e,t,n){var o=0;return n===e&&(o=1),!n&&t&&t.type===e&&(o=t.scale),"scale(".concat(o,")")}},{key:"_getPosition",value:function(e){var t=e.getBoundingClientRect();return{x:t.width/2+t.left,y:t.height/2+t.top}}},{key:"_storePositions",value:function(){var e=this,t={};Object.keys(this._refs).forEach((function(n){var o=e._refs[n];t[n]=o?e._getPosition(o):null})),this.setState({positions:t})}},{key:"_setRef",value:function(e,t){this.props.handlers.connectorCreate(t),this._refs[e]=t}},{key:"_handleMouseDown",value:function(e){this.setState({selected:e})}},{key:"_handleMouseUp",value:function(){this.setState({selected:null})}}]),t}(l.Component),r.propTypes={entityRect:u.a.object.isRequired,handlers:u.a.object.isRequired,rotation:u.a.number.isRequired,zoom:u.a.number.isRequired,resizing:u.a.bool.isRequired,mode:u.a.string.isRequired,mousePosition:f.a.contains({x:u.a.number.isRequired,y:u.a.number.isRequired})},o=i))||o)||o},alRy:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var o=n("yMTd"),r=n("XjPQ");function i(e,t,n){var i=n.mouseX,a=n.mouseY,u=n.scaleX,c=n.scaleY,l=n.isZoomLayout,s=Object(o.getElementForBlock)(e).getBoundingClientRect(),p=Object(r.Point)(i-s.left,a-s.top);if(t){var f=function(e,t,n){var o=e.bounds();return Object(r.Rectangle)(o.left*t-.05*o.width*t,o.top*n-.05*o.height*n,o.width*t*1.1,o.height*n*1.1)}(t,u,c);(function(e,t){return e.x<t.left||e.x>t.left+t.width||e.y<t.top||e.y>t.top+t.height})(p,f)&&(p=function(e,t){var n=Object(r.Point)(t.left+t.width/2,t.top+t.height/2),o=(n.y-e.y)/(n.x-e.x),i=t.top+t.height,a=t.left+t.width;if(e.x<=n.x){var u=o*(t.left-e.x)+e.y;if(t.top<=u&&u<=i)return Object(r.Point)(t.left,u)}if(e.x>=n.x){var c=o*(a-e.x)+e.y;if(t.top<=c&&c<=i)return Object(r.Point)(a,c)}if(e.y<=n.y){var l=(t.top-e.y)/o+e.x;if(t.left<=l&&l<=a)return Object(r.Point)(l,t.top)}if(e.y>=n.y){var s=(i-e.y)/o+e.x;if(t.left<=s&&s<=a)return Object(r.Point)(s,i)}return e}(p,f));var d=t.getTransform().getRotate();if(0!==d){var h=Object(r.centerOf)(t.rectangle());h=Object(r.Point)(h.x*u,h.y*c),p=Object(r.rotatePoint)(p,-Object(r.rad)(d),h)}return p=Object(r.Point)(p.x/u-t.left,p.y/c-t.top),Object(r.Point)(p.x/t.width,p.y/t.height)}return l?Object(r.Point)(p.x/s.width,p.y/s.height):Object(r.Point)(Math.max(0,Math.min(1,p.x/s.width)),Math.max(0,Math.min(1,p.y/s.height)))}},cfN3:function(e,t,n){"use strict";n.r(t);var o=n("q1tI"),r=n.n(o),i=n("/MKj"),a=n("vOnD"),u=n("XzT5"),c=n("amct"),l=n("gfdX"),s=n("USB3"),p=n("tFc1"),f=n("EKef"),d=n("hrfg"),h=n("3TRz"),g=n("eb5B");var b=Object(o.lazy)((function(){return n.e(10).then(n.bind(null,"UyZ5"))}));t.default=Object(c.withDialogs)()(Object(p.withFluxProps)([f.default],(function(){return{activeBrandkit:f.default.brandkit}}))((function(e){var t,n=e.activeBrandkit,c=Object(i.useSelector)((function(e){return{branding:e.get("branding"),userSettings:e.get("userSettings")}})),p=c.branding,f=c.userSettings,y=!f||f[h.UserSetting.FirstTimeAvailable],m=Object(i.useDispatch)(),v=function(){return m(Object(g.updateUserSettings)((e={},t=h.UserSetting.FirstTimeAvailable,n=!0,t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e)));var e,t,n},_=null==p?void 0:p.loaded,w=null==p?void 0:null===(t=p.brandkits)||void 0===t?void 0:t[0];return Object(o.useEffect)((function(){_||m(Object(d.loadBrandkits)())}),[_,m]),y||!w||n?(!y&&n&&v(),null):r.a.createElement(a.ThemeProvider,{theme:s.default},r.a.createElement(b,{title:u.default.t("app.brandkit.popup.first_time_brandkit_title"),brandkit:w,onContinue:function(){Object(l.openBrandkitSelector)(),v()},close:v}))})))},dGoc:function(e,t,n){var o=n("r5Ws");"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(o,r);o.locals&&(e.exports=o.locals)},dcZU:function(e,t,n){"use strict";n.r(t);var o=n("17x9"),r=n.n(o),i=n("q1tI"),a=n.n(i),u=n("yb06"),c=n.n(u),l=n("TSYQ"),s=n.n(l),p=n("Jgc/"),f=n("xVW7"),d=n("vmwM"),h=n("a42G"),g=n("avnT"),b=n("B6Rb"),y=n("qLhN"),m=n.n(y),v=n("Tha3");function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function O(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var C=function(e){function t(){return w(this,t),O(this,x(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,e),n=t,r=[{key:"getStores",value:function(){return[f.default,d.default]}},{key:"calculateState",value:function(e,t){var n=t.entity,o=Object(b.getOverlayMode)(n),r=!(d.default.activeEntityKey!==n.getKey()||!d.default.activeType);return{isResizing:f.default.resizing,isDragging:f.default.dragging,mode:o,createHandlesVisible:!n.locked&&o===g.OVERLAY_MODES.RECTANGLE&&!r}}}],(o=[{key:"render",value:function(){var e=this.state,t=e.isResizing,n=e.isDragging,o=e.mode;if(!e.createHandlesVisible)return null;var r,i,u,c=this.props,l=c.handlers,p=c.entity,f=o===g.OVERLAY_MODES.RECTANGLE,d=Object(v.calculateClippedRectangle)(p),b=d.transform.rotate,y={top:0,left:0,width:"100%",height:"100%",position:"absolute",pointerEvents:"none",zIndex:2,opacity:n?.5:1},_={top:d.top*this.props.scaleY+30,left:d.left*this.props.scaleX+30,width:d.width*this.props.scaleX,height:d.height*this.props.scaleY};return p.getCallout()?null:a.a.createElement("div",{style:y},a.a.createElement("div",{className:s()((r={},i=m.a.selector,u=f,i in r?Object.defineProperty(r,i,{value:u,enumerable:!0,configurable:!0,writable:!0}):r[i]=u,r))},a.a.createElement(h.default,{entityRect:_,handlers:l,rotation:b,resizing:t,mode:o})))}}])&&E(n.prototype,o),r&&E(n,r),t}(i.Component);C.propTypes={entity:c.a.record.isRequired,scaleX:r.a.number.isRequired,scaleY:r.a.number.isRequired,handlers:r.a.object.isRequired},t.default=p.Container.create(C,{withProps:!0})},dqxC:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var o=n("Zcty"),r=n("hl5+");function i(e){o.default.dispatch({type:r.ADD_LAYOUT,layout:e})}},dtaK:function(e,t,n){e.exports=n.p+"bba36cbb2865970c732fce62461d92df.svg"},duLV:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var o=n("Zcty"),r=n("hl5+");function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;o.default.dispatch({type:r.MOVE_ENTITIES,entityKeys:e,direction:t,stepSize:n})}},e5fd:function(e,t,n){e.exports=n.p+"738a3281b62ed6a6b8cafa28cc7cb713.svg"},eQHU:function(e,t,n){e.exports=n.p+"4b59ee38617d5d76a2ed3e09d0dc1a26.svg"},fDNJ:function(e,t,n){"use strict";n.r(t),n.d(t,"NotificationsZIndex",(function(){return s})),n.d(t,"Notifications",(function(){return f}));var o=n("q1tI"),r=n.n(o),i=n("vOnD"),a=n("VYD4"),u=n("dDeV"),c=n("u/T2"),l=n("cfN3"),s=u.ToolbarZIndex+1,p=i.default.div.withConfig({displayName:"Notifications__NotificationsContainer",componentId:"sc-13l32yy-0"})(["position:fixed;bottom:10px;right:10px;z-index:",";&:empty{display:none;}"],s),f=function(){return r.a.createElement(p,null,r.a.createElement(c.default,null),a.default.features.brand_kit&&r.a.createElement(l.default,null))}},fJPJ:function(e,t,n){var o=n("D4ZG");"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(o,r);o.locals&&(e.exports=o.locals)},"gn/5":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var o=n("/TeS"),r=n("alRy");function i(e,t,n){var i=n.mouseX,a=n.mouseY,u=n.scaleX,c=n.scaleY,l=n.isZoomLayout,s=Object(r.default)(e,t,{mouseX:i,mouseY:a,scaleX:u,scaleY:c,isZoomLayout:l});return{type:o.CONVERSATIONS_NEW_MARKER,payload:{blockId:e,objectId:t&&t.getKey(),positionX:s.x,positionY:s.y}}}},gnXf:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return R}));var o=n("q1tI"),r=n.n(o),i=n("17x9"),a=n.n(i),u=n("yb06"),c=n.n(u),l=n("TSYQ"),s=n.n(l),p=n("ZgL/"),f=n("yMTd"),d=n("864+"),h=n("MIJD"),g=n("YP07"),b=n("V1wf"),y=n("30eB"),m=n.n(y),v=n("kyW3"),_=n.n(v);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function k(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var R=function(e){function t(){var e,n;S(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=k(this,(e=j(t)).call.apply(e,[this].concat(r)))).state={hovered:!1},n._refCallout=function(e){var t=n.props.entity.getKey();e?(Object(f.setElementForCallout)(t,e),p.default.addHandler(e,"select_entity",t),n._callout=e):(Object(f.removeElementForCallout)(t),p.default.removeHandler(n._callout,"select_entity",t),n._callout=null)},n._handleMouseDown=function(e){n._callout===e.target&&n.props.onEntityMouseDown&&n.props.onEntityMouseDown(n.props.entity,e)},n._handleMouseUp=function(e){n._callout===e.target&&n.props.onEntityMouseUp&&n.props.onEntityMouseUp(n.props.entity,e)},n._handleMouseEnter=function(e){n._callout!==e.target||n.state.hovered?n._callout!==e.target&&n.state.hovered&&n.setState({hovered:!1}):n.setState({hovered:!0})},n._handleMouseLeave=function(e){n._callout===e.target&&n.state.hovered&&n.setState({hovered:!1})},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){var e=this,t=this.props,n=t.entity,o=t.callout,i=t.design,a=t.assets,u=t.calloutEntities,c=t.scaleX,l=t.scaleY,p=t.bounds,f="overlay"===o.get("type"),y=Object(d.default)(o,i);return r.a.createElement("div",{className:s()(m.a.callout,m.a[o.get("alignment")],_.a[o.get("position")]),style:O({},y,{},p),ref:this._refCallout,onMouseDown:this._handleMouseDown,onMouseUp:this._handleMouseUp,onMouseEnter:this._handleMouseEnter,onMouseLeave:this._handleMouseLeave},u&&u.map((function(t){return r.a.createElement(h.default,{key:t.getKey(),entity:t,design:i,assets:a,scaleX:c,scaleY:l,selected:e.props.selectedEntities.includes(t.getKey()),onMouseDown:e.props.onEntityMouseDown,onMouseUp:e.props.onEntityMouseUp})})),r.a.createElement(g.default,{entityKey:n.getKey(),callout:o,entities:u,width:p.width,height:p.height,hovered:this.state.hovered,selected:this.props.selectedEntities.first()===n.getKey()}),f&&r.a.createElement(b.default,{onClose:this.props.onClose}))}}])&&C(n.prototype,o),i&&C(n,i),t}(o.PureComponent);R.propTypes={entity:c.a.record.isRequired,callout:c.a.map.isRequired,calloutEntities:c.a.list,bounds:a.a.shape({top:a.a.string.isRequired,left:a.a.string.isRequired,width:a.a.number.isRequired,height:a.a.number.isRequired}).isRequired,selectedEntities:c.a.set,design:c.a.map.isRequired,assets:a.a.shape({getURL:a.a.func.isRequired}),scaleX:a.a.number.isRequired,scaleY:a.a.number.isRequired,onEntityMouseDown:a.a.func.isRequired,onEntityMouseUp:a.a.func.isRequired,onClose:a.a.func.isRequired}},h0S4:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._14fds1zp4Ma7oI4rEDnhGT {\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    box-sizing: border-box;\n}\n\n._3itQaNaHTNFtipKsYYg7oG {\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    box-sizing: border-box;\n}\n\n._1aOeiiOt3WygNFqvfCmBGX {\n    top: -24px;\n    right: -1px;\n    border-radius: 4px;\n    position: absolute;\n    color: white;\n    padding: 3px;\n    font-size: 12px;\n}\n\n.TcnmMDHaIbwLxPZx9J1Zl {\n    position: absolute;\n    pointer-events: none;\n    z-index: 1;\n}\n",""]),t.locals={container:"_14fds1zp4Ma7oI4rEDnhGT",border:"_3itQaNaHTNFtipKsYYg7oG",username:"_1aOeiiOt3WygNFqvfCmBGX",highlight:"TcnmMDHaIbwLxPZx9J1Zl"}},hBIi:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,'._1cAw051LQZOw2_jdfCzStQ {\n    background-color: #38a86f;\n    height: 40px;\n    border-radius: 6px;\n    color: white;\n    font-size: 15px;\n    text-align: center;\n    line-height: 40px;\n    font-weight: 500;\n    margin-top: 10px;\n    margin-bottom: 20px;\n    cursor: pointer;\n}\n\n._1cAw051LQZOw2_jdfCzStQ:hover {\n    background-color: #64b88d;\n}\n\n._1cAw051LQZOw2_jdfCzStQ:after {\n  content: "";\n  display: block;\n  height: 20px;\n}\n',""]),t.locals={button:"_1cAw051LQZOw2_jdfCzStQ"}},haA1:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return A}));var o,r,i,a=n("XzT5"),u=n("q1tI"),c=n.n(u),l=n("k7+O"),s=n.n(l),p=n("17x9"),f=n.n(p),d=n("Jgc/"),h=n("/MKj"),g=n("vOnD"),b=n("EKef"),y=n("ySsV"),m=n("QApq"),v=n("MeCa"),_=n("tY9K"),w=n("Bq+y"),E=n("Rh2K"),O=n("hl5+"),x=n("USB3");n("wFB8");function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function R(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var D=g.default.div.withConfig({displayName:"SideMenuSettingsreact__Separator",componentId:"sc-1558a5b-0"})(["height:2px;background-color:#2d2d2d;width:100%;margin:0px;",""],(function(e){return e.theme.id===x.default.id?"\n        display: none;\n    ":""})),N=g.default.div.withConfig({displayName:"SideMenuSettingsreact__ZoomValue",componentId:"sc-1558a5b-1"})(["cursor:default;user-select:none;font-size:12px;font-weight:500;padding:18px 0;background:#2b2b2b;z-index:2;position:relative;",""],(function(e){return e.theme.id===x.default.id?"\n        background: ".concat(x.default.neutral400,";\n    "):""})),L=g.default.div.withConfig({displayName:"SideMenuSettingsreact__AdvancedZoomSettings",componentId:"sc-1558a5b-2"})(["z-index:-2;position:absolute;left:-260px;transition:left 0.25s;bottom:0px;background:#2b2b2b;width:180px;padding:9px 6px 11px 0;box-shadow:0px 10px 40px rgba(0,0,0,0.5);"," ",""],(function(e){return e.isZoomLayout&&"\n        width: 180px;\n    "}),(function(e){return e.theme.id===x.default.id?"\n        background: ".concat(x.default.neutral400,";\n        bottom: -2px;\n    "):""})),z=g.default.div.withConfig({displayName:"SideMenuSettingsreact__ZoomSeparator",componentId:"sc-1558a5b-3"})(["display:inline-block;background:#3C3C3C;width:2px;border-radius:1px;display:inline-flex;margin-left:10px;margin-right:10px;vertical-align:middle;height:30px;",""],(function(e){return e.theme.id===x.default.id?"\n        background: #FFFFFF;\n    ":""})),M=g.default.a.withConfig({displayName:"SideMenuSettingsreact__ZoomButton",componentId:"sc-1558a5b-4"})(["cursor:pointer;color:#fff;font-size:14px;padding:7px 5px;display:inline-flex;vertical-align:middle;text-align:center;&:hover{text-decoration:none;color:#646464;background:",";border-radius:4px;}",""],(function(e){return e.theme.id===x.default.id?x.default.neutral300:"#656565;"}),(function(e){return e.disabled&&"\n        opacity: 0.4;\n        pointer-events: none;\n    "})),q=g.default.div.withConfig({displayName:"SideMenuSettingsreact__MiniMapPopup",componentId:"sc-1558a5b-5"})(["position:absolute;left:50px;bottom:50px;line-height:initial;z-index:-1;}"]);var A=Object(h.connect)((function(e){var t=e.get("editorZoom"),n=e.get("miniMap");return{zoom:t.zoom,miniMapVisible:n.visible,featureSwitches:e.get("featureSwitches")}}),(function(e){return{toThumbnailsView:function(){e({type:E.ZOOM_SWITCH_TO_THUMBS_VIEW})},toSingleView:function(t){e({type:E.ZOOM_SWITCH_TO_SINGLE_VIEW,payload:t})},showMiniMap:function(){e({type:O.SHOW_EDITOR_MINI_MAP})},hideMiniMap:function(){e({type:O.HIDE_EDITOR_MINI_MAP})}}}),null,{areStatesEqual:function(e,t){return e.get("editorZoom")===t.get("editorZoom")&&e.get("miniMap")===t.get("miniMap")&&e.get("featureSwitches")===t.get("featureSwitches")},areStatePropsEqual:function(e,t){return e.zoom===t.zoom&&e.miniMapVisible===t.miniMapVisible}})(o=(0,d.Container.create)((i=r=function(e){function t(){var e,n;j(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=R(this,(e=I(t)).call.apply(e,[this].concat(r)))).state={showGridPopup:!1,showLayoutPopup:!1,advancedSettingsPosition:{left:y.default.isZoomLayout&&n.props.miniMapVisible?48:-200}},n._zoomIn=function(){n.props.toSingleView({subAction:"zoom",value:1,isZoomLayout:n.state.isZoomLayout})},n._zoomOut=function(){n.props.toSingleView({subAction:"zoom",value:-1,isZoomLayout:n.state.isZoomLayout})},n._zoomReset=function(){n.props.toSingleView({subAction:"scale",value:1})},n._onZoomHover=function(){n.setState({advancedSettingsPosition:{left:48}})},n._onZoomHoverEnd=function(){n.state.isZoomLayout&&n.props.miniMapVisible||n.setState({advancedSettingsPosition:{left:-260}})},n._fillWidth=function(){n.props.toSingleView({subAction:"fullWidth",isZoomLayout:n.state.isZoomLayout})},n._toggleFullScreen=function(){s.a.enabled&&s.a.toggle(),n._fillWidth()},n._toggleGridPopup=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n.setState({showGridPopup:e,showLayoutPopup:!1})},n._toggleLayoutPopup=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n.setState({showGridPopup:!1,showLayoutPopup:e})},n._toggleMiniMap=function(){n.props.miniMapVisible?n.props.hideMiniMap():n.props.showMiniMap()},n}var o,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(t,e),o=t,i=[{key:"getStores",value:function(){return[b.default,y.default]}},{key:"calculateState",value:function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{thumbsViewDisabled:1===b.default.editorState.getCurrentContent().getBlocks().size,editorState:b.default.editorState,isZoomLayout:y.default.isZoomLayout,layoutIcon:b.default.editingDefaultLayout?"default":"mobile"})}}],(r=[{key:"render",value:function(){return c.a.createElement("div",null,this.state.isZoomLayout&&this.props.miniMapVisible&&c.a.createElement(q,null,c.a.createElement(v.default,{zoom:this.state.zoom,editorState:this.state.editorState})),!this.state.isZoomLayout&&c.a.createElement(c.a.Fragment,null,c.a.createElement(D,null),c.a.createElement(w.default,{title:a.default.t("app.freelayout_editor.layout.buttonTitle"),tooltipText:a.default.t("app.freelayout_editor.layout.buttonTooltip_1"),toggle:this._toggleLayoutPopup,open:this.state.showLayoutPopup,icon:this.state.layoutIcon,iconSize:"24px 24px",iconPosition:"center 9px"},c.a.createElement(_.default,null))),c.a.createElement(D,null),c.a.createElement(w.default,{title:a.default.t("app.freelayout_editor.grid.buttonTitle"),tooltipText:a.default.t("app.freelayout_editor.grid.buttonTooltip"),toggle:this._toggleGridPopup,open:this.state.showGridPopup,icon:"grid"},c.a.createElement(m.default,{isZoomLayout:this.state.isZoomLayout})),c.a.createElement(D,null),c.a.createElement("div",{onMouseEnter:this._onZoomHover,onMouseLeave:this._onZoomHoverEnd},c.a.createElement(N,{onDoubleClick:this._zoomReset,"data-tooltip":a.default.t("app.freelayout_editor.reset_zoom")},"".concat(Math.round(100*this.props.zoom),"%")),c.a.createElement(L,{isZoomLayout:this.state.isZoomLayout,style:this.state.advancedSettingsPosition},c.a.createElement(M,{onClick:this._zoomIn,"data-tooltip":a.default.t("app.freelayout_editor.zoom_in"),"data-tooltip-position":"top"},c.a.createElement("img",{src:n("qM+k")})),c.a.createElement(M,{onClick:this._zoomOut,"data-tooltip":a.default.t("app.freelayout_editor.zoom_out"),"data-tooltip-position":"top"},c.a.createElement("img",{src:n("W1yj")})),c.a.createElement(M,{onClick:this._fillWidth,"data-tooltip":a.default.t("app.freelayout_editor.fit_to_screen"),"data-tooltip-position":"top"},c.a.createElement("img",{src:n("PCE5")})),!this.state.isZoomLayout&&c.a.createElement(M,{disabled:this.state.thumbsViewDisabled,onClick:this.props.toThumbnailsView,"data-tooltip":a.default.t("app.freelayout_editor.thumbnails"),"data-tooltip-position":"top"},c.a.createElement("img",{src:n("kaKj")})),c.a.createElement(z,null),this.state.isZoomLayout&&c.a.createElement(M,{onClick:this._toggleMiniMap,"data-tooltip":a.default.t("app.freelayout_editor.pin_map"),"data-tooltip-position":"top"},c.a.createElement("img",{src:n("w3Az")})),c.a.createElement(M,{onClick:this._toggleFullScreen,"data-tooltip":a.default.t("app.freelayout_editor.full_screen"),"data-tooltip-position":"top"},c.a.createElement("img",{src:n("TAoN")})))))}}])&&P(o.prototype,r),i&&P(o,i),t}(u.Component),r.propTypes={toThumbnailsView:f.a.func.isRequired,toSingleView:f.a.func.isRequired,zoom:f.a.number.isRequired,miniMapVisible:f.a.bool.isRequired,hideMiniMap:f.a.func.isRequired,showMiniMap:f.a.func.isRequired,featureSwitches:f.a.object},o=i))||o)||o},hfFo:function(e,t,n){e.exports=n.p+"d7ab86a1a63bbfbf7ecce448a120e213.svg"},i5wb:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return I}));var o,r,i,a=n("XzT5"),u=n("q1tI"),c=n.n(u),l=n("17x9"),s=n.n(l),p=n("/MKj"),f=n("wd/R"),d=n.n(f),h=n("TSYQ"),g=n.n(h),b=n("Zh7m"),y=n("aFOO"),m=n("rMMX"),v=n("KJEt"),_=n.n(v),w=n("R1L0");function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function S(e,t,n){return t&&x(e.prototype,t),n&&x(e,n),e}function C(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?j(e):t}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var I=Object(p.connect)((function(e){return{loading:e.getIn(["revisions","loading"]),revisions:e.getIn(["revisions","revisions"]).filter((function(e){return!e.get("hidden")})),selectedIndex:e.getIn(["revisions","selectedIndex"])}}),(function(e){return{previewRevision:function(t){e({type:w.REVISION_PREVIEW,revisionIndex:t})}}}))((i=r=function(e){function t(){return O(this,t),C(this,k(t).apply(this,arguments))}return P(t,e),S(t,[{key:"render",value:function(){var e=this.props,t=e.loading,n=e.revisions,o=e.selectedIndex,r=e.previewRevision;return t?c.a.createElement(b.default,{customCss:"margin-top: 50px;"}):c.a.createElement(y.default,{height:"100%"},c.a.createElement("ul",{className:_.a.list},n.map((function(e,t){return c.a.createElement(T,{key:t,idx:t,revision:e,selected:o===t,previewFunc:r})}))))}}]),t}(u.PureComponent),r.propTypes={previewRevision:s.a.func.isRequired,loading:s.a.bool.isRequired,revisions:s.a.any.isRequired,selectedIndex:s.a.number.isRequired},o=i))||o,T=function(e){function t(e){var n;return O(this,t),(n=C(this,k(t).call(this,e))).previewRevision=n.previewRevision.bind(j(n)),n}return P(t,e),S(t,[{key:"previewRevision",value:function(){this.props.previewFunc(this.props.idx)}},{key:"render",value:function(){var e,t,n,o,r=this.props,i=r.idx,u=r.revision,l=r.selected,s=u.get("createdAt"),p=u.get("userName"),f=u.get("userAvatar");return e=0===i?a.default.t("app.revisions.current_version"):d.a.unix(s).format("YYYY-MM-DD, H:mm"),c.a.createElement("li",{className:g()(_.a.item,(t={},n=_.a.selected,o=l,n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t)),onClick:this.previewRevision},c.a.createElement("div",null,c.a.createElement("div",null,e),c.a.createElement("div",{className:_.a.author},c.a.createElement(m.default,{avatarClass:_.a.avatar,avatarImage:f,fullName:p}),c.a.createElement("div",{className:_.a.name},p))))}}]),t}(u.PureComponent);T.propTypes={idx:s.a.number.isRequired,revision:s.a.object.isRequired,selected:s.a.bool.isRequired,previewFunc:s.a.func.isRequired}},iDiz:function(e,t,n){e.exports=n.p+"cdbb3c99d1577e83f4177ae09e111ab6.svg"},iHrC:function(e,t,n){"use strict";n.r(t),n.d(t,"getActiveBlockKey",(function(){return a}));var o=n("Sye6"),r=n("EKef"),i=n("TJ0u");function a(){var e;if(o.default.currentSelection.isEmpty())e=o.default.currentSelection.blocks.first();else{var t=o.default.currentSelection.getEntities().first(),n=t&&r.default.editorState.getEntity(t);e=n&&n.getBlockKey()}return e||i.default.activePageId}},iemV:function(e,t,n){e.exports=n.p+"b7de2ec28001abfe22db157b44884e66.svg"},jjTP:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var o=n("Zcty"),r=n("hl5+");function i(){o.default.dispatch({type:r.TOGGLE_LAYOUT})}},"jx1/":function(e,t,n){e.exports=n.p+"cde1f32faace6aacd75159c153d54e99.svg"},kFHh:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return I}));var o=n("XzT5"),r=n("q1tI"),i=n.n(r),a=n("vOnD"),u=n("17x9"),c=n.n(u),l=n("OsVm"),s=n("LoZg"),p=n.n(s),f=n("USB3"),d=n("70t9");function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function y(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=a.default.div.withConfig({displayName:"Panelreact__PanelRoot",componentId:"v4dgoz-0"})(["color:",";"],f.default.text),w=a.default.div.withConfig({displayName:"Panelreact__PaletteContainer",componentId:"v4dgoz-1"})(["max-height:150px;"]),E=a.default.div.withConfig({displayName:"Panelreact__PreviewContainer",componentId:"v4dgoz-2"})(["display:flex;width:100%;padding-top:20px;"]),O=a.default.div.withConfig({displayName:"Panelreact__PreviewColors",componentId:"v4dgoz-3"})(["flex-direction:row;width:100%;font-size:0;white-space:nowrap;overflow:hidden;line-height:1;"]),x=a.default.span.withConfig({displayName:"Panelreact__PreviewColor",componentId:"v4dgoz-4"})(["width:calc(50% - 1px);height:24px;display:inline-block;"]),S=Object(a.default)(x).attrs((function(e){return{style:{backgroundColor:e.color}}})).withConfig({displayName:"Panelreact__SelectedColor",componentId:"v4dgoz-5"})(["border-radius:5px 0 0 5px;"]),C=Object(a.default)(x).attrs((function(e){return{style:{backgroundColor:e.color}}})).withConfig({displayName:"Panelreact__OriginalColor",componentId:"v4dgoz-6"})(["border-radius:0 5px 5px 0;cursor:pointer;margin-left:2px;"]),k=a.default.div.withConfig({displayName:"Panelreact__InputRoot",componentId:"v4dgoz-7"})(["box-sizing:border-box;border:1px solid #C2C7CD;border-radius:3px;background-color:",";padding-left:0;margin-left:20px;height:24px;flex-direction:row;white-space:nowrap;font-size:0;float:right;"],f.default.background),j=a.default.div.withConfig({displayName:"Panelreact__Hash",componentId:"v4dgoz-8"})(["display:inline-block;width:15px;line-height:22px;font-size:11px;text-align:center;border-radius:5px 0 0 5px;color:#6A6A6A;background:none;"]),P=a.default.div.withConfig({displayName:"Panelreact__InputHolder",componentId:"v4dgoz-9"})(["display:inline-block;width:70px;"]),R=a.default.input.withConfig({displayName:"Panelreact__InputField",componentId:"v4dgoz-10"})(["box-sizing:border-box;height:22px;border:none;font-size:11px;text-align:left;padding:0;margin:0;text-transform:uppercase;border-radius:0 5px 5px 0;"]),I=function(e){function t(){var e,n;g(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(n=y(this,(e=m(t)).call.apply(e,[this].concat(r))))._colorInput=i.a.createRef(),n.state={activeColor:n.props.activeColor,originalColor:n.props.resolvedActiveColor},n._resetToOriginal=function(){n._handlePaletteColorChange(n.state.activeColor)},n._handlePaletteColorChange=function(e){n.props.onChange({source:"custom",value:e,displayValue:e})},n._changeCustomColor=function(){var e=n._colorInput.current,t=e.value;if(T(t)){var o=t.toUpperCase();e.value=o;var r="#"+o;n.props.onChange({source:"custom",value:r,displayValue:r})}},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.resolvedActiveColor,n=e.children,r=e.inputColor;return i.a.createElement(_,null,n,i.a.createElement(d.Section,null,i.a.createElement(d.SectionHeader,null,i.a.createElement(d.SectionTitle,null,o.default.t("app.color_picker.custom_colors"))),i.a.createElement(w,null,i.a.createElement(l.default,{color:t,onChange:this._handlePaletteColorChange})),i.a.createElement(E,null,i.a.createElement(O,null,i.a.createElement(S,{color:t}),i.a.createElement(C,{color:this.state.originalColor,onClick:this._resetToOriginal,role:"button"})),i.a.createElement(k,null,i.a.createElement(j,null,"#"),i.a.createElement(P,null,i.a.createElement(R,{type:"text",maxlength:"6",size:"6",defaultValue:r,onChange:this._changeCustomColor,ref:this._colorInput}))))))}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.activeColor,n=e.design,o=e.entityPath;if(t.startsWith("#"))this._setColorInputValue(t);else{var r=p()(n,o,t),i=r.match,a=r.value;i&&this._setColorInputValue(a)}}},{key:"_setColorInputValue",value:function(e){this._colorInput.current.value=e?e.substring(1).toUpperCase():""}}])&&b(n.prototype,r),a&&b(n,a),t}(r.PureComponent);function T(e){return/^([0-9a-fA-F]{3}){2}$/.test(e)}I.propTypes={activeColor:c.a.string,inputColor:c.a.string,resolvedActiveColor:c.a.string,onChange:c.a.func.isRequired,design:c.a.object,entityPath:c.a.array,children:c.a.node},I.defaultProps={activeColor:"#000000"}},kaKj:function(e,t,n){e.exports=n.p+"757d207839a0cfbac2893754b659541b.svg"},kwfw:function(e,t,n){"use strict";n.r(t);var o=n("17x9"),r=n.n(o),i=n("q1tI"),a=n.n(i),u=n("TSYQ"),c=n.n(u),l=n("Jgc/"),s=n("vOnD"),p=n("Sye6"),f=n("xVW7"),d=n("z3Ib"),h=n("avnT"),g=n("ZgL/"),b=n("USB3"),y=n("qLhN"),m=n.n(y),v=n("PXfb"),_=n.n(v);n("/fDD");function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function O(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var C=s.default.div.withConfig({displayName:"MultiSelectionOverlay__SolidBorder",componentId:"sc-15crxdx-0"})(["border:1px solid #3195cb;position:absolute;top:30px;right:30px;bottom:30px;left:30px;cursor:move;",""],(function(e){return e.theme.id===b.default.id&&"\n        border-color: ".concat(b.default.blue500,";\n    ")})),k=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=O(this,x(t).call(this,e)))._refs={},n._handlers={rotate:n._assignHandler("rotate"),resize:n._assignHandler("resize")},n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,e),n=t,r=[{key:"getStores",value:function(){return[p.default,f.default]}},{key:"calculateState",value:function(e,t){var n=f.default.activeHandle,o=p.default.boundingBox;return o&&["top","left","width","height"].some((function(e){return!isFinite(o[e])}))&&(o=null),{isRotating:n&&"rotate"===n.get("type")&&n.get("key")===t.handlerKey,isResizing:f.default.resizing,isDragging:f.default.dragging,boundingBox:o}}}],(o=[{key:"_assignHandler",value:function(e){var t=this;return function(n){n?g.default.addHandler(n,e,t.props.handlerKey):t._refs[e]&&g.default.removeHandler(t._refs[e],e,t.props.handlerKey),t._refs[e]=n}}},{key:"render",value:function(){var e=this.state,t=e.isRotating,n=e.isResizing,o=e.isDragging,r=e.boundingBox;if(!r)return null;var u={transform:"rotate(".concat(r.rotation||0,"deg)"),top:r.top*this.props.scaleY,left:r.left*this.props.scaleX,width:r.width*this.props.scaleX,height:r.height*this.props.scaleY,position:"absolute",pointerEvents:"none",zIndex:2,opacity:o?.5:1};return a.a.createElement("div",{style:u},a.a.createElement("div",{className:c()(m.a.selector)},a.a.createElement(C,null),!this.props.commenting&&a.a.createElement(i.Fragment,null,(t||!n)&&a.a.createElement("img",{ref:this._handlers.rotate,className:m.a.rotationIcon,src:_.a}),!t&&!o&&a.a.createElement(i.Fragment,null,a.a.createElement(d.default,{width:u.width,height:u.height,handlers:this._handlers,rotation:r.rotation,resizing:n,mode:h.OVERLAY_MODES.RECTANGLE})))))}}])&&E(n.prototype,o),r&&E(n,r),t}(i.Component);k.propTypes={scaleX:r.a.number.isRequired,scaleY:r.a.number.isRequired,handlerKey:r.a.string.isRequired,commenting:r.a.bool},t.default=l.Container.create(k,{withProps:!0})},l8VI:function(e,t,n){e.exports=n.p+"fdc934992380bbc6488a717096c9e90b.svg"},lORu:function(e,t,n){"use strict";n.r(t),n.d(t,"hsvLong",(function(){return a}));var o=n("R9oZ"),r=n("7pL7");function i(e){return function(t,n){var i=e((t=Object(r.default)(t)).h,(n=Object(r.default)(n)).h),a=Object(o.default)(t.s,n.s),u=Object(o.default)(t.v,n.v),c=Object(o.default)(t.opacity,n.opacity);return function(e){return t.h=i(e),t.s=a(e),t.v=u(e),t.opacity=c(e),t+""}}}t.default=i(o.hue);var a=i(o.default)},lUqP:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return J}));var o,r,i,a=n("LvDl"),u=n.n(a),c=n("XzT5"),l=n("q1tI"),s=n.n(l),p=n("17x9"),f=n.n(p),d=n("/MKj"),h=n("vOnD"),g=n("Zcty"),b=n("EKef"),y=n("h7h9"),m=n("USB3"),v=n("kxzZ"),_=n("ubkl"),w=n("M3jb"),E=n("HOYV"),O=n("TQFT"),x=n("QW3c"),S=n("up6U"),C=n("oRV5"),k=n("dyKX"),j=n("eT4A");function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function T(e,t,n){return t&&I(e.prototype,t),n&&I(e,n),e}function D(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var M=Object(S.default)((function(e,t,n,o){return s.a.createElement(x.default,{entity:e,design:t,location:o})})),q=h.default.div.withConfig({displayName:"Editorreact__FactsAndFiguresEditor",componentId:"li62ld-0"})(["pointer-events:auto;height:100%;",""],(function(e){return e.marginTop&&"\n        margin-top: ".concat(e.marginTop,"px;\n    ")})),A=h.default.div.withConfig({displayName:"Editorreact__Text",componentId:"li62ld-1"})(["display:flex;flex-direction:column;margin-right:-1px;",""],(function(e){return e.iconWidth&&"\n        width: calc(100% - ".concat(e.iconWidth+20,"px);\n    ")})),B=h.default.div.withConfig({displayName:"Editorreact__Fact",componentId:"li62ld-2"})(["margin:0 5px 5px 5px;"," ",""],(function(e){return e.active&&"\n        border: 1px solid #3796c9;\n        margin: -1px 4px 4px 4px;\n    "}),(function(e){return e.active&&e.theme.id===m.default.id&&"\n        border: 1px solid ".concat(m.default.blue500,";\n    ")})),U=h.default.h2.withConfig({displayName:"Editorreact__Figure",componentId:"li62ld-3"})(["margin:5px 5px 0 5px;"," ",""],(function(e){return e.active&&"\n        margin: 4px 4px -1px 4px;\n        border: 1px solid #3796c9;\n    "}),(function(e){return e.active&&e.theme.id===m.default.id&&"\n        border: 1px solid ".concat(m.default.blue500,";\n    ")})),Y=h.default.div.withConfig({displayName:"Editorreact__Entries",componentId:"li62ld-4"})(["border:1px solid ",";",""],m.default.blue500,(function(e){return e.somethingIsFocused&&"\n        border-color: ".concat(m.default.neutral300,";\n\n        ").concat(K," {\n            border-color: ").concat(m.default.neutral300,";\n        }\n    ")})),K=h.default.div.withConfig({displayName:"Editorreact__Entry",componentId:"li62ld-5"})(["border-bottom:1px dotted #777;position:relative;overflow:initial;color:#2d2d2d;pointer-events:auto;display:flex;margin-left:-1px;margin-top:-1px;&:last-child{border-bottom:none;}"," &:first-child{","{height:100%;top:0;}}&:last-child{","{height:100%;}}"],(function(e){return e.theme.id===m.default.id&&"\n        border-bottom: 1px dotted ".concat(m.default.blue500,";\n    ")}),F,F),X=h.default.div.withConfig({displayName:"Editorreact__Counter",componentId:"li62ld-6"})(["position:absolute;top:50%;margin-top:-6px;line-height:12px;width:100%;cursor:pointer;"]),H=h.default.div.withConfig({displayName:"Editorreact__Up",componentId:"li62ld-7"})(["position:absolute;top:5px;background-image:url(",");width:100%;background-position:center center;background-size:12px 6px;background-repeat:no-repeat;height:6px;cursor:pointer;",""],n("8bmW"),(function(e){return e.theme.id===m.default.id&&"\n        background-image: url(".concat(n("WJLs"),");\n        background-size: 8px 4px;\n        top: 0;\n        height: 30px;\n\n        &:hover {\n            background-image: url(").concat(n("7NQ5"),");\n        }\n    ")})),Z=h.default.div.withConfig({displayName:"Editorreact__Down",componentId:"li62ld-8"})(["position:absolute;bottom:5px;background-image:url(",");background-position:center center;background-size:12px 6px;background-repeat:no-repeat;width:100%;height:6px;cursor:pointer;",""],n("zHDs"),(function(e){return e.theme.id===m.default.id&&"\n        background-image: url(".concat(n("DuYy"),");\n        background-size: 8px 4px;\n        bottom: 0px;\n        height: 30px;\n\n        &:hover {\n            background-image: url(").concat(n("eQHU"),");\n        }\n    ")})),V=h.default.div.withConfig({displayName:"Editorreact__Icon",componentId:"li62ld-9"})(["pointer-events:auto;cursor:pointer;margin:12px 9px 12px 16px;width:","px;height:","px;&:hover{border:1px solid #3796c9;margin:11px 8px 11px 15px;}"," ",""],(function(e){return e.size}),(function(e){return e.size}),(function(e){return e.active&&"\n        border: 1px solid #3796c9;\n        margin: 11px 8px 11px 15px;\n    "}),(function(e){return e.theme.id===m.default.id&&"\n        &:hover {\n            border: 1px solid ".concat(m.default.blue500,";\n        }\n\n        ").concat(e.active&&"\n            border: 1px solid ".concat(m.default.blue500,";\n        "),"\n    ")})),F=h.default.div.withConfig({displayName:"Editorreact__Reorder",componentId:"li62ld-10"})(["position:absolute;top:1px;left:-32px;width:30px;height:calc(100% - 1px);font-size:12px;text-align:center;background:#2d2d2d;vertical-align:middle;color:#fff;display:block;",""],(function(e){return e.theme.id===m.default.id&&"\n        background: ".concat(m.default.neutral400,";\n    ")})),G=h.default.div.withConfig({displayName:"Editorreact__Delete",componentId:"li62ld-11"})(["cursor:pointer;position:absolute;right:-10px;width:20px;height:20px;top:50%;margin-top:-10px;background-color:#2d2d2d;background-image:url(",");background-size:12px 12px;background-position:center center;background-repeat:no-repeat;border-radius:3px;z-index:2;pointer-events:auto;",""],n("Uvuq"),(function(e){return e.theme.id===m.default.id&&"\n        background-image: url(".concat(n("jx1/"),");\n        background-color: ").concat(m.default.white,";\n        box-shadow: ").concat(m.default.shadow.menus,";\n\n        &:hover {\n            background-image: url(").concat(n("Uvuq"),");\n            background-color: ").concat(m.default.red500,";\n        }\n    ")})),W=h.default.div.withConfig({displayName:"Editorreact__Edit",componentId:"li62ld-12"})(["float:right;margin-top:10px;margin-right:10px;background-color:#2d2d2d;border-radius:4px;width:30px;height:30px;cursor:pointer;display:inline-block;box-shadow:0 10px 40px rgba(0,0,0,0.5);background-image:url(",");background-size:13px;background-position:center center;background-repeat:no-repeat;pointer-events:auto;&:hover{background-color:#3195cb;}",""],n("WatP"),(function(e){return e.theme.id===m.default.id&&"\n        box-shadow: ".concat(m.default.shadow.menus,";\n        background-color: ").concat(m.default.white,";\n        background-image: url(").concat(n("e5fd"),");\n\n        &:hover {\n            background-color: ").concat(m.default.blue500,";\n            background-image: url(").concat(n("WatP"),");\n        }\n    ")})),Q=h.default.div.withConfig({displayName:"Editorreact__AddEntry",componentId:"li62ld-13"})(["position:absolute;margin-top:1px;left:-28px;background-color:#2d2d2d;background-image:url(",");background-size:10px 10px;background-position:center center;background-repeat:no-repeat;width:20px;height:20px;display:block;border-bottom-left-radius:3px;border-bottom-right-radius:3px;cursor:pointer;pointer-events:auto;&:hover{background-color:#3195cb;}",""],n("o2uo"),(function(e){return e.theme.id===m.default.id&&"\n        background-color: ".concat(m.default.neutral400,";\n\n        &:hover {\n            background-color: ").concat(m.default.neutral500,";\n        }\n    ")})),J=Object(d.connect)((function(e,t){var n=y.default.getEntity(t.chartId),o=n.instance,r=n.container.getBoundingClientRect().width-92,i=e.get("factsAndFigures"),a=i.editing,u=i.sheetIndex,c=i.rowNumber,l=i.colNumber,s=i.iconSize,p=i.data,f=i.readOnly,d=i.showIcons,h=i.editorData,g=e.get("editorZoom"),m=o.root.node().getBoundingClientRect().top-o.container.node().getBoundingClientRect().top;return{editing:a,sheetIndex:u,rowNumber:c,colNumber:l,iconSize:s,data:p,readOnly:f,maxWidth:r,entity:t.entity,design:b.default.editorState.getDesign(),zoom:g.zoom,showIcons:d,somethingIsFocused:-1!==c||-1!==l,sheetSwitcherHeight:m,editorData:h,chartEntity:n}}),(function(e){return{prepareEditor:function(){e({type:k.FACTS_AND_FIGURES_PREPARE_EDITOR})},editFactsAndFigures:function(t){g.default.dispatch({type:j.DATA_TABLE_OPEN,inPlaceEditing:!0}),e({type:k.FACTS_AND_FIGURES_START_EDITING,payload:{chartId:t}})},selectCell:function(t,n){e({type:k.FACTS_AND_FIGURES_SELECT_CELL,payload:{rowNumber:t,colNumber:n}})},selectIcon:function(t){e({type:k.FACTS_AND_FIGURES_SELECT_ICON,payload:{rowNumber:t}})},updateChartData:function(t){e({type:k.FACTS_AND_FIGURES_UPDATE_CHART_DATA,payload:{data:t}})}}}))((i=r=function(e){function t(e){var n;return R(this,t),(n=D(this,N(t).call(this,e))).deselect=function(){-1!==n.props.rowNumber&&(Object(_.popInspectorPanel)(),n.props.selectCell(-1,-1),Object(O.endEditing)())},n.onAddEntry=function(){n.deselect();var e=n.props,t=e.sheetIndex,o=e.updateChartData,r=n.props.chartEntity.chart,i=r.get("data"),a=u.a.clone(i[t][i[t].length-1]);i[t].push(a),r.set("data",i),Object(v.updateChart)(r),o(i)},n.deleteEntry=function(e){n.deselect(),e.stopPropagation();var t=parseInt(e.target.getAttribute("data-row-number"),10),o=n.props,r=o.sheetIndex,i=o.updateChartData,a=n.props.chartEntity.chart,u=a.get("data");u[r].splice(t,1);var c=a.get("sheets_settings");a.set("data",u),a.set("sheets_settings",c),Object(v.updateChart)(a),i(u)},n.moveUp=function(e){n.deselect(),e.stopPropagation();var t=parseInt(e.target.getAttribute("data-row-number"),10),o=n.props,r=o.sheetIndex,i=o.updateChartData,a=n.props.chartEntity.chart,u=a.get("data"),c=u[r],l=[c[t-1],c[t]];c[t]=l[0],c[t-1]=l[1],a.set("data",u),Object(v.updateChart)(a),i(u)},n.moveDown=function(e){n.deselect(),e.stopPropagation();var t=parseInt(e.target.getAttribute("data-row-number"),10),o=n.props,r=o.sheetIndex,i=o.updateChartData,a=n.props.chartEntity.chart,u=a.get("data"),c=u[r],l=[c[t+1],c[t]];c[t]=l[0],c[t+1]=l[1],a.set("data",u),Object(v.updateChart)(a),i(u)},n.changeIcon=function(e){n.deselect(),e.stopPropagation();var t=parseInt(e.currentTarget.getAttribute("data-row-number"),10);n.props.selectIcon(t),Object(_.pushInspectorPanel)(w.default,{})},n.onTextEdit=function(e){e.stopPropagation();var t=n.props,o=t.readOnly,r=t.selectCell,i=t.data,a=t.entity,u=t.sheetIndex;if(!o){var c=parseInt(e.currentTarget.getAttribute("data-row-number"),10),l=parseInt(e.currentTarget.getAttribute("data-col-number"),10);if(c!==n.props.rowNumber||l!==n.props.colNumber){n.deselect();var s=0===l?"h2":"body",p=i.get(c).get(l);Object(O.focusTextEditor)(p,c,l,u),Object(_.pushInspectorPanel)(E.default,{entity:a,design:b.default.editorState.getDesign(),template:s}),r(c,l)}}},n.edit=function(e){e.stopPropagation();var t=n.props.chartId;n.props.editFactsAndFigures(t)},n.showChart=function(){var e=n.props.chartEntity;e&&e.instance.root.style("opacity",1)},e.prepareEditor(),n}return L(t,e),T(t,[{key:"componentWillUnmount",value:function(){this.props.editing&&this.showChart()}},{key:"render",value:function(){if(this.props.editing){this.props.chartEntity.instance.root.style("opacity",0);var e=this.props.readOnly;return s.a.createElement(q,{onClick:this.deselect,marginTop:this.props.sheetSwitcherHeight},s.a.createElement($,{data:this.props.editorData,deleteEntry:this.deleteEntry,moveUp:this.moveUp,moveDown:this.moveDown,iconWidth:this.props.iconSize,changeIcon:this.changeIcon,design:this.props.design,entity:this.props.entity,sheetIndex:this.props.sheetIndex,onTextEdit:this.onTextEdit,activeRowNumber:this.props.rowNumber,activeColNumber:this.props.colNumber,deselect:this.deselect,canReorder:!e,id:this.props.chartId,zoom:this.props.zoom,showIcons:this.props.showIcons,somethingIsFocused:this.props.somethingIsFocused}),!e&&s.a.createElement(Q,{onClick:this.onAddEntry}),s.a.createElement(C.default,{onSelect:O.endEditing,maxWidth:this.props.maxWidth,inPlaceEditing:!0}))}return this.showChart(),s.a.createElement(W,{onClick:this.edit,"data-tooltip":c.default.t("app.freelayout_editor.edit"),"data-tooltip-position":"bottom"})}}]),t}(l.PureComponent),r.propTypes={chartEntity:f.a.object,responsive:f.a.bool,editing:f.a.bool,sheetIndex:f.a.number,rowNumber:f.a.number,colNumber:f.a.number,chartId:f.a.any,data:f.a.object,readOnly:f.a.bool,updateChartData:f.a.func.isRequired,prepareEditor:f.a.func.isRequired,selectCell:f.a.func.isRequired,editFactsAndFigures:f.a.func.isRequired,selectIcon:f.a.func.isRequired,maxWidth:f.a.number,iconSize:f.a.number,entity:f.a.object,design:f.a.object,zoom:f.a.number,showIcons:f.a.bool,somethingIsFocused:f.a.bool,sheetSwitcherHeight:f.a.number,editorData:f.a.object},o=i))||o,$=function(e){function t(){return R(this,t),D(this,N(t).apply(this,arguments))}return L(t,e),T(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.iconWidth,o=t.id,r=t.sheetIndex,i=t.zoom,a=t.showIcons,u=t.somethingIsFocused,c=t.data,l=t.canReorder,p=t.activeRowNumber,f=t.activeColNumber;return s.a.createElement(Y,{onClick:this.props.deselect,somethingIsFocused:u},c.map((function(t,u){var c=t.get("icon"),d=t.get("figure"),h=t.get("fact");return s.a.createElement(K,{key:u},l&&s.a.createElement(F,null,t.get("canMoveUp")&&s.a.createElement(H,{"data-row-number":u,onClick:e.props.moveUp}),s.a.createElement(X,null,u+1),t.get("canMoveDown")&&s.a.createElement(Z,{"data-row-number":u,onClick:e.props.moveDown})),a&&s.a.createElement(V,{onClick:e.props.changeIcon,"data-row-number":u,active:p===u&&-1===f,size:n,style:{zoom:i}},s.a.createElement("svg",{width:n,height:n,viewBox:c.get("viewBox"),style:{opacity:c.get("opacity")}},s.a.createElement("path",{className:"igc-textual-path",fill:c.get("color"),transform:c.get("transform"),d:c.get("path")}))),s.a.createElement(A,{iconWidth:n,style:{zoom:i}},d&&s.a.createElement(U,{onClick:e.props.onTextEdit,"data-row-number":u,"data-col-number":0,active:p===u&&0===f},s.a.createElement(M,{scaleX:1,scaleY:1,entity:e.props.entity,design:e.props.design,location:{id:o,row:u,column:0,sheetIndex:r},color:d.get("color")})),h&&s.a.createElement(B,{onClick:e.props.onTextEdit,"data-row-number":u,"data-col-number":1,active:p===u&&1===f},s.a.createElement(M,{scaleX:1,scaleY:1,entity:e.props.entity,design:e.props.design,location:{id:o,row:u,column:1,sheetIndex:r}}))),t.get("canDelete")&&s.a.createElement(G,{onClick:e.props.deleteEntry,"data-row-number":u}))})))}}]),t}(l.PureComponent)},lc1c:function(e,t,n){"use strict";n.r(t);var o=n("Jgc/"),r=n("Zcty"),i=n("hl5+");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=new(function(e){function t(){return u(this,t),l(this,s(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),n=t,(o=[{key:"getInitialState",value:function(){return!1}},{key:"reduce",value:function(e,t){switch(t.type){case i.EDITOR_ACTION_LOADING:return t.value}return e}},{key:"loading",get:function(){return this.getState()}}])&&c(n.prototype,o),r&&c(n,r),t}(o.ReduceStore))(r.default);t.default=f},o2uo:function(e,t,n){e.exports=n.p+"260ebc7d107d86b826eb7e8215079d1a.svg"},pWtM:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Y}));var o,r,i,a=n("XzT5"),u=n("q1tI"),c=n.n(u),l=n("17x9"),s=n.n(l),p=n("/MKj"),f=n("TSYQ"),d=n.n(f),h=n("SC+/"),g=n("vOnD"),b=n("DvT9"),y=n("KEPE"),m=n("7fFl"),v=n("LoZg"),_=n.n(v),w=n("EKef"),E=n("38c5"),O=n("Sye6"),x=n("HhMr"),S=n("w6T9"),C=n("rQKZ"),k=n("CYb3"),j=n("7WHd"),P=n("3UVq"),R=n("mTiA"),I=n("RzNS"),T=n.n(I);function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function M(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var B=Object(g.default)(S.default).withConfig({displayName:"EditableFlexFooterreact__FooterButton",componentId:"sc-1m4e2em-0"})(["display:none;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);padding:0 25px;z-index:1;"]),U=g.default.div.withConfig({displayName:"EditableFlexFooterreact__FooterContainer",componentId:"sc-1m4e2em-1"})(["&:hover{","{display:inline-block;}}"],B);var Y=Object(p.connect)((function(e){return Object(k.getFooterSettings)(e.get("footerSettings"))}))(o=Object(C.default)({withProps:!0})((i=r=function(e){function t(){var e,n;L(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=M(this,(e=q(t)).call.apply(e,[this].concat(r)))).renderBlock=function(e){switch(n.state.layout[e]){case"logo":return n.renderLogo();case"text":return n.renderText()}return null},n.onClick=function(){if(n.state.showUpgradeLink)return window.app.router.navigate("//upgrade/embed_button",{promote:{from:"embed_button"}});n.makeFooterSelection(),Object(y.changeFreeLayoutSettingsTab)(1),Object(j.setActiveSection)(P.PROJECT_SETTINGS_FOOTER_SECTION)},n.makeFooterSelection=function(){var e=O.default.currentSelection.clear();Object(b.updateSelectionState)(e),Object(m.selectFooter)()},n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(t,e),n=t,r=[{key:"getStores",value:function(){return[E.default]}},{key:"calculateState",value:function(e,t){var n=w.default.editorState,o=w.default.isWhiteLabel;if(!t.showFooter&&o)return{disabled:!0};var r=n&&n.getDesign()||{},i=_()(r,null,t.backgroundColor),a=_()(r,null,t.textColor).value,u={},c=t.scaleY;t.bold&&(u.fontWeight=700),t.italic&&(u.fontStyle="italic"),t.fontSize&&(u.fontSize=t.fontSize),a&&(u.color=a);var l={background:_()(r,null,t.buttonBackgroundColor).value,color:_()(r,null,t.buttonTextColor).value,marginTop:19},s={width:t.width-60*c,height:60*c,marginTop:-60*c,padding:"0 ".concat(60*c/2,"px")};if(i&&i.value){var p=Object(h.color)(i.value);p.opacity=t.backgroundOpacity,s.background=p}var f=t.footnoteText;return"autoPagination"===t.footnoteType&&(f=function(e,t,n,o){var r=e+n-1;switch(o){case"x":return r;case"x / y":return"".concat(r," / ").concat(t);case"x ... y":return"".concat(r," ... ").concat(t)}}(t.pageNumber,t.pageCount,t.paginationStartWith,t.paginationFormat)),{buttonStyle:l,containerStyle:s,disabled:!1,layout:Object(k.getFooterLayout)(t.footerLayout,t.logoType,t.footnoteType),selected:E.default.selected,showUpgradeLink:!o,text:f,textStyle:u,blockStyle:{transform:"scale(".concat(c,")")},centerBlockStyle:{transform:"translateX(-50%) scale(".concat(c,")")},fullWidthButton:t.width>280}}}],(o=[{key:"render",value:function(){var e;if(this.state.disabled)return null;var t=this.state,n=t.containerStyle,o=t.showUpgradeLink,r=t.selected,i=c.a.createElement(B,{blue:!0,className:T.a.button,small:!0},a.default.t("app.infographic.edit_footer"));return o&&(i=c.a.createElement(B,{green:!0,className:T.a.button,small:!0},a.default.t("app.infographic.upgrade_to_customize"))),c.a.createElement(U,{className:d()(T.a.container,T.a.selectable,(e={},N(e,T.a.selected,r),N(e,T.a.upgradable,o),N(e,T.a.disabled,!this.props.mouseEventsEnabled),e)),onClick:this.onClick,style:n},c.a.createElement("div",{className:T.a.innerContainer},c.a.createElement("div",{style:this.state.blockStyle,className:T.a.left},this.renderBlock("left")),c.a.createElement("div",{style:this.state.centerBlockStyle,className:T.a.center},this.renderBlock("center")),c.a.createElement("div",{style:this.state.blockStyle,className:T.a.right},this.renderBlock("right"))),i)}},{key:"renderLogo",value:function(){var e=this.props,t=e.logoType,n=e.logoImage;return"custom_logo-infogram"===t||"custom_logo-custom"===t?c.a.createElement("div",{className:T.a.logo},c.a.createElement(x.default,{background:this.props.logoColor,text:!n&&a.default.t("app.infographic.made_with")||"",url:n,link:this.props.logoLink,logoName:this.props.logoName,width:"custom_logo-infogram"===t?this.props.logoWidth:void 0,height:"custom_logo-infogram"===t?this.props.logoHeight:void 0})):null}},{key:"renderText",value:function(){var e=this.state,t=e.textStyle,n=e.buttonStyle,o=e.text;switch(this.props.footnoteType){case"shareButton":return c.a.createElement(R.default,{style:n,fullWidth:this.state.fullWidthButton,onButtonClick:this.onClick,text:this.props.buttonText});case"text":return this.props.customLink?c.a.createElement("a",{style:t,href:this.props.customLink,target:"_blank",rel:"nofollow noopener noreferrer"},o):c.a.createElement("div",{style:t},o);case"autoPagination":return c.a.createElement("div",{style:t},o)}}}])&&z(n.prototype,o),r&&z(n,r),t}(u.Component),r.propTypes={mouseEventsEnabled:s.a.bool,backgroundColor:s.a.string,backgroundOpacity:s.a.number,bold:s.a.bool,buttonBackgroundColor:s.a.string,buttonText:s.a.string,buttonTextColor:s.a.string,customLink:s.a.string,flex:s.a.bool,fontSize:s.a.number,footerLayout:s.a.string,footnoteText:s.a.string,footnoteType:s.a.string,italic:s.a.bool,logoColor:s.a.string,logoType:s.a.string,logoImage:s.a.string,logoLink:s.a.string,logoName:s.a.string,pageNumber:s.a.number,pageCount:s.a.number,paginationFormat:s.a.string,paginationStartWith:s.a.number,showFooter:s.a.bool,textColor:s.a.string,logoWidth:s.a.number,logoHeight:s.a.number},r.defaultProps={mouseEventsEnabled:!0},o=i))||o)||o},pYhh:function(e,t,n){"use strict";n.r(t),n.d(t,"SpotlightZIndex",(function(){return u})),n.d(t,"Spotlight",(function(){return l}));var o=n("q1tI"),r=n.n(o),i=n("vOnD"),a=n("USB3"),u=n("LcL3").ToolbarZIndex+1,c=i.default.div.attrs((function(e){return{style:{left:e.left,top:e.top,width:e.width,height:e.height}}})).withConfig({displayName:"Spotlight__Pulse",componentId:"sc-1bd5cqk-0"})(["pointer-events:none;position:fixed;z-index:",";animation:"," 0.5s;&::before,&::after{content:'';z-index:1;position:absolute;left:0;top:0;width:100%;height:100%;animation:"," 2.25s infinite;border-radius:4px;}&::after{animation-delay:0.5s;}"],u,(function(){return Object(i.keyframes)(["0%{opacity:0;}100%{opacity:1;}"])}),(function(){return Object(i.keyframes)(["0%{box-shadow:0 0 0 1px ",";}100%{box-shadow:0 0 0 18px ",";}"],a.default.violet600rgba,a.default.violet600rgba0)})),l=function(e){var t=e.targetBounds,n=t.left,o=t.top,i=t.width,a=t.height;return r.a.createElement(c,{left:n,top:o,width:i,height:a})}},qLhN:function(e,t,n){var o=n("L7g7");"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(o,r);o.locals&&(e.exports=o.locals)},"qM+k":function(e,t,n){e.exports=n.p+"6cb59cfe90ccd8384bd51e134b5ddcef.svg"},qxmC:function(e,t,n){"use strict";n.r(t);var o=n("17x9"),r=n.n(o),i=n("q1tI"),a=n.n(i),u=n("Jgc/"),c=n("vOnD"),l=n("xVW7"),s=n("Tha3"),p=n("avnT"),f=n("B6Rb"),d=n("ZTyM"),h=n.n(d),g=n("USB3");function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function v(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E=["nw","n","ne","w","center","e","sw","s","se"];var O=c.default.div.withConfig({displayName:"ConnectorTargetreact__SnapPoint",componentId:"sc-1s1627z-0"})(["pointer-events:auto;position:absolute;height:20px;width:20px;background-color:#3195cb;border-radius:100%;opacity:0.5;",""],(function(e){return e.theme.id===g.default.id&&"\n        background-color: ".concat(g.default.blue500,";\n    ")})),x=function(e){function t(){return y(this,t),v(this,_(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,e),n=t,r=[{key:"getStores",value:function(){return[l.default]}},{key:"calculateState",value:function(e,t){var n,o,r,i=t.scaleX,a=t.scaleY,u=t.blockKey,c=l.default.connectorTargetEntity;if(c&&!c.locked&&c.getBlockKey()===u&&Object(f.getOverlayMode)(c)===p.OVERLAY_MODES.RECTANGLE&&(n=l.default.activeHandle,(o=n&&n.get("type"))&&-1!==["connectorCreate","from","to"].indexOf(o))){var d=Object(s.calculateClippedRectangle)(c);r={transform:"rotate(".concat(d.transform.rotate,"deg)"),top:d.top*a,left:d.left*i,width:d.width*i,height:d.height*a,position:"absolute",pointerEvents:"none",zIndex:1}}return{containerStyle:r}}}],(o=[{key:"render",value:function(){var e=this.state.containerStyle;return e?a.a.createElement("div",{style:e},E.map((function(e){return a.a.createElement(O,{className:h.a[e],key:e})}))):null}}])&&m(n.prototype,o),r&&m(n,r),t}(i.Component);x.propTypes={scaleX:r.a.number.isRequired,scaleY:r.a.number.isRequired,blockKey:r.a.string},t.default=u.Container.create(x,{withProps:!0})},qyGc:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return x}));var o,r,i,a=n("q1tI"),u=n.n(a),c=n("17x9"),l=n.n(c),s=n("yb06"),p=n.n(s),f=n("/MKj"),d=n("vOnD"),h=n("hl5+");function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function y(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=d.default.div.withConfig({displayName:"MiniMapreact__MiniMapPopUpContainer",componentId:"sc-1hzmncm-0"})(["width:184px;height:138px;background:white;box-shadow:0 10px 40px rgba(0,0,0,0.5);text-align:left;overflow:hidden;position:relative;display:flex;align-items:center;justify-content:center;"]),w=d.default.div.attrs((function(e){var t,n;return{style:{width:null!==(t=e.width)&&void 0!==t?t:0,height:null!==(n=e.height)&&void 0!==n?n:0}}})).withConfig({displayName:"MiniMapreact__MiniMapContainer",componentId:"sc-1hzmncm-1"})(["position:relative;pointer-events:none;"]),E=d.default.div.attrs((function(e){return{style:{transform:"rotate(".concat(e.rotation,"deg) scale(").concat(e.flipHorizontal?-1:1,",").concat(e.flipVertical?-1:1,")"),width:e.width,height:e.height,left:e.left,top:e.top}}})).withConfig({displayName:"MiniMapreact__EntityRect",componentId:"sc-1hzmncm-2"})(["position:absolute;background-color:blue;opacity:0.7;"]),O=d.default.div.attrs((function(e){var t,n,o,r;return{style:{width:null!==(t=e.width)&&void 0!==t?t:0,height:null!==(n=e.height)&&void 0!==n?n:0,left:null!==(o=e.left)&&void 0!==o?o:0,top:null!==(r=e.top)&&void 0!==r?r:0}}})).withConfig({displayName:"MiniMapreact__ViewRect",componentId:"sc-1hzmncm-3"})(["position:absolute;border:1px solid black;"]),x=Object(f.connect)((function(e){var t=e.get("zoomPosition"),n=t.pagePositionX,o=t.pagePositionY,r=e.get("editorZoom").zoom,i=e.get("miniMap");return{entityRects:i.entityRects,viewRectangleWidth:i.viewRectangleWidth,viewRectangleHeight:i.viewRectangleHeight,viewRectangleLeft:i.viewRectangleLeft,viewRectangleTop:i.viewRectangleTop,pagePositionX:n,pagePositionY:o,width:i.width,height:i.height,zoom:r,scale:i.scale}}),(function(e){return{saveEditorPosition:function(){e({type:h.EDITOR_STATIC_POSITION})},updateEditorPosition:function(t,n){e({type:h.EDITOR_POSITION,payload:{pagePosition:{x:t,y:n}}})},updateViewRectangle:function(){e({type:h.UPDATE_MINI_MAP_VIEW_RECTANGLE})}}}),null,{areStatesEqual:function(e,t){return e.get("zoomPosition")===t.get("zoomPosition")&&e.get("editorZoom")===t.get("editorZoom")&&e.get("miniMap")===t.get("miniMap")}})((i=r=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=y(this,m(t).call(this,e)))._handleMouseDown=function(){n.setState({isDragging:!0})},n._handleMouseUp=function(){n.setState({isDragging:!1})},n._handleMouseMove=function(e){if(n.state.isDragging){var t=n.translateCoordsFromMiniMapToPage(e),o=t.x,r=t.y;n.props.updateEditorPosition(o,r),n.props.saveEditorPosition()}},n._navigateToClickCoords=function(e){var t=n.translateCoordsFromMiniMapToPage(e),o=t.x,r=t.y;n.props.updateEditorPosition(o,r),n.props.saveEditorPosition()},n.state={isDragging:!1},n.mapContainerRef=u.a.createRef(),n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,e),n=t,(o=[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.props.updateViewRectangle)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.props.updateViewRectangle)}},{key:"render",value:function(){return u.a.createElement(_,{onClick:this._navigateToClickCoords,onMouseDown:this._handleMouseDown,onMouseMove:this._handleMouseMove,onMouseUp:this._handleMouseUp},!this.props.entityRects.isEmpty()&&u.a.createElement(w,{ref:this.mapContainerRef,width:this.props.width,height:this.props.height},u.a.createElement(S,{entityRects:this.props.entityRects}),u.a.createElement(O,{width:this.props.viewRectangleWidth,height:this.props.viewRectangleHeight,left:this.props.viewRectangleLeft,top:this.props.viewRectangleTop})))}},{key:"translateCoordsFromMiniMapToPage",value:function(e){var t,n,o=this.props,r=o.viewRectangleWidth,i=o.viewRectangleHeight,a=o.viewRectangleLeft,u=o.viewRectangleTop,c=o.scale,l=this.mapContainerRef.current,s=e.nativeEvent.offsetX-(null!==(t=null==l?void 0:l.offsetLeft)&&void 0!==t?t:0),p=u+i/2-(e.nativeEvent.offsetY-(null!==(n=null==l?void 0:l.offsetTop)&&void 0!==n?n:0)),f=(a+r/2-s)*this.props.zoom/c,d=p*this.props.zoom/c;return{x:this.props.pagePositionX+f,y:this.props.pagePositionY+d}}}])&&b(n.prototype,o),r&&b(n,r),t}(a.PureComponent),r.propTypes={pagePositionX:l.a.number.isRequired,pagePositionY:l.a.number.isRequired,saveEditorPosition:l.a.func.isRequired,updateEditorPosition:l.a.func.isRequired,updateViewRectangle:l.a.func.isRequired,zoom:l.a.number.isRequired,viewRectangleWidth:l.a.number.isRequired,viewRectangleHeight:l.a.number.isRequired,viewRectangleLeft:l.a.number.isRequired,viewRectangleTop:l.a.number.isRequired,width:l.a.number.isRequired,height:l.a.number.isRequired,scale:l.a.number.isRequired,entityRects:p.a.listOf(p.a.mapContains({key:l.a.string.isRequired,width:l.a.number.isRequired,height:l.a.number.isRequired,left:l.a.number.isRequired,top:l.a.number.isRequired,rotation:l.a.number.isRequired,flipVertical:l.a.bool.isRequired,flipHorizontal:l.a.bool.isRequired}))},o=i))||o,S=function(e){return e.entityRects.map((function(e){return u.a.createElement(E,{key:e.get("key"),width:e.get("width"),height:e.get("height"),left:e.get("left"),top:e.get("top"),rotation:e.get("rotation"),flipHorizontal:e.get("flipHorizontal"),flipVertical:e.get("flipVertical")})}))}},r1UO:function(e,t,n){e.exports=n.p+"7b8bdf71864ed0e12c4f6b198fd54f99.svg"},r5Ws:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._1UMgMs7pUu-DWwYcmyw3gc {\n    background-color: #2d2d2d;\n    vertical-align: middle;\n    line-height: 45px;\n    padding-left: 17px;\n    margin: 0;\n}\n\n.rZlw9sQEa3FGwXfDi7Cpo {\n    vertical-align: middle;\n    height: 40px;\n    font-size: 14px;\n    background-color: #c13134;\n    min-width: 190px;\n    padding: 0;\n}\n\n.rZlw9sQEa3FGwXfDi7Cpo:hover {\n    background-color: #dc5356;\n}\n\n.hJCgOEHrukZTvIl1NGGl1 {\n    position: fixed;\n    left: 50px;\n    right: 232px;\n    top: 80px;\n    padding-top: 20px;\n    bottom: 0px;\n    overflow-y: scroll;\n}\n\n.tz_48AX23UoEPMqG-1u_I {\n    overflow: initial;\n}\n\n._3mZK7nVc7dRO3ApTCfCeZI {\n    cursor: default;\n    font-size: 11px;\n    font-weight: 500;\n    color: #656565;\n    height: 23px;\n}\n\n.PQvtrNdK3kN1-d9ogcbX9 {\n    margin-bottom: 50px;\n}\n\n._1WqTbSEH1c4DRuh5SWI3lH {\n    position: fixed;\n    top: 80px;\n    bottom: 0;\n    background: linear-gradient(135.16deg, #419BAD 0%, #582E8D 100%);\n    height: 100%;\n    width: 100%;\n    opacity: 0.95;\n}\n\n._1WqTbSEH1c4DRuh5SWI3lH:after {\n    content: '';\n    background: url('/i/paywalls/waves.svg') no-repeat 100% 100%;\n    background-size: contain;\n    position: absolute;\n    width: 100%;\n    height: 205px;\n    max-width: 1600px;\n    bottom: 80px;\n    left: 50%;\n    transform: translateX(-50%);\n    pointer-events: none;\n}\n\n._3KYBwlRncafgN6BSCEtfd8 {\n    position: fixed;\n    top: 80px;\n    bottom: 0;\n    height: 100%;\n    width: 100%;\n    text-align: center;\n    padding-top: 50px;\n}\n\n._36oLJBhM_gHNfjyLkE56sf {\n    width: 120px;\n}\n\n._3OOi6chTgLbxlN8YkZcbZ8 {\n    font-size: 37px;\n    margin: 24px 0 22px;\n    font-weight: 300;\n}\n\n._2DIKg1u6-uuKt1LiTloVQb {\n    line-height: 22px;\n    font-size: 15px;\n    font-weight: 500;\n}\n\n._2ArLGUIEAqw30-EVTK7uY- {\n    display: inline-block;\n    height: 50px;\n    width: 280px;\n    line-height: 48px;\n    border-radius: 4px;\n    margin: 28px 0;\n    font-size: 17px;\n}\n",""]),t.locals={panelTitle:"_1UMgMs7pUu-DWwYcmyw3gc",toolbarRestoreButton:"rZlw9sQEa3FGwXfDi7Cpo",contents:"hJCgOEHrukZTvIl1NGGl1",contentsPaywall:"tz_48AX23UoEPMqG-1u_I",pageIndicatorText:"_3mZK7nVc7dRO3ApTCfCeZI",blockContainer:"PQvtrNdK3kN1-d9ogcbX9",paywallBackground:"_1WqTbSEH1c4DRuh5SWI3lH",paywallContent:"_3KYBwlRncafgN6BSCEtfd8",paywallImage:"_36oLJBhM_gHNfjyLkE56sf",paywallTitle:"_3OOi6chTgLbxlN8YkZcbZ8",paywallText:"_2DIKg1u6-uuKt1LiTloVQb",paywallButton:"_2ArLGUIEAqw30-EVTK7uY-"}},r7UD:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return W}));var o,r=n("XzT5"),i=n("q1tI"),a=n.n(i),u=n("/MKj"),c=n("vOnD"),l=(n("k0mc"),n("rQKZ")),s=n("EKef"),p=n("F48k"),f=n("dqxC"),d=n("PINJ"),h=n("USB3"),g=n("w6T9"),b=n("UJ0y"),y=n("tl4+"),m=n("hl5+"),v=n("ySsV"),_=n("1+J2");function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function x(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var k={default:"url(".concat(n("uGvS"),")"),mobile:"url(".concat(n("GTRv"),")")},j={default:"url(".concat(n("92XO"),")"),mobile:"url(".concat(n("V12p"),")")},P={default:"url(".concat(n("XGeZ"),")"),mobile:"url(".concat(n("9Glu"),")")},R={default:"url(".concat(n("iemV"),")"),mobile:"url(".concat(n("+a7M"),")")},I=c.default.div.withConfig({displayName:"LayoutViewPopup__Header",componentId:"sc-1gnt2ko-0"})(["background-color:#434343;height:30px;text-align:center;line-height:30px;color:#ffffff;font-size:11px;border-top-left-radius:4px;border-top-right-radius:4px;font-weight:500;",""],(function(e){return e.theme.id===h.default.id&&"\n        font-family: ".concat(h.default.fonts.ralewayBold,";\n        background-color: ").concat(h.default.neutral60,";\n        color: ").concat(h.default.neutral600,";\n    ")})),T=c.default.div.withConfig({displayName:"LayoutViewPopup__Container",componentId:"sc-1gnt2ko-1"})(["min-width:180px;background-color:#434343;border-radius:4px;box-shadow:0px 10px 40px rgba(0,0,0,0.5);text-align:left;cursor:default;",""],(function(e){return e.theme.id===h.default.id&&"\n        background-color: ".concat(h.default.white,";\n        box-shadow: ").concat(h.default.shadow.default,";\n    ")})),D=c.default.div.withConfig({displayName:"LayoutViewPopup__Content",componentId:"sc-1gnt2ko-2"})(["padding:0px;font-size:11px;background-color:#2d2d2d;border-bottom-right-radius:4px;border-bottom-left-radius:4px;",""],(function(e){return e.theme.id===h.default.id&&"\n        background-color: ".concat(h.default.white,";\n    ")})),N=c.default.div.withConfig({displayName:"LayoutViewPopup__Layouts",componentId:"sc-1gnt2ko-3"})(["display:flex;width:100%;position:relative;height:54px;&:before{content:'';position:absolute;width:100%;height:2px;background-color:#434343;"," bottom:0;left:0;}"],(function(e){return e.theme.id===h.default.id&&Object(c.css)(["background-color:",";"],h.default.neutral60)})),L=c.default.div.withConfig({displayName:"LayoutViewPopup__Layout",componentId:"sc-1gnt2ko-4"})(["display:flex;flex-direction:column;flex-basis:100%;flex:1;cursor:pointer;background-repeat:no-repeat;background-position:center 10px;background-image:",";"," background-size:"," 15px;",""],(function(e){return k[e.icon]}),(function(e){return e.theme.id===h.default.id&&Object(c.css)(["background-image:",";"],(function(e){return j[e.icon]}))}),(function(e){return"default"===e.icon?"34px":"28px"}),(function(e){return e.selected&&Object(c.css)(["position:relative;&:before{content:'';position:absolute;width:100%;height:5px;background-color:#3195CB;"," bottom:0;left:0;}"],(function(e){return e.theme.id===h.default.id&&Object(c.css)(["background-color:",";"],h.default.blue500)}))})),z=c.default.div.withConfig({displayName:"LayoutViewPopup__LayoutText",componentId:"sc-1gnt2ko-5"})(["padding-top:31px;font-family:Roboto;font-weight:500;font-size:9px;line-height:11px;text-align:center;",""],(function(e){return e.theme.id===h.default.id&&Object(c.css)(["font-family:",";"],h.default.fonts.ralewayBold)})),M=c.default.div.withConfig({displayName:"LayoutViewPopup__Status",componentId:"sc-1gnt2ko-6"})(["height:134px;display:flex;flex-direction:column;"]),q=c.default.div.withConfig({displayName:"LayoutViewPopup__StatusGraphic",componentId:"sc-1gnt2ko-7"})(["width:100%;height:87px;background-repeat:no-repeat;background-position:center 26px;background-size:64px 36px;background-image:",";",""],(function(e){return P[e.icon]}),(function(e){return e.theme.id===h.default.id&&Object(c.css)(["background-image:",";"],(function(e){return R[e.icon]}))})),A=c.default.div.withConfig({displayName:"LayoutViewPopup__StatusDescription",componentId:"sc-1gnt2ko-8"})(["width:100%;text-align:center;"]),B=c.default.a.withConfig({displayName:"LayoutViewPopup__StatusText",componentId:"sc-1gnt2ko-9"})(["font-family:Roboto;font-weight:500;font-size:11px;line-height:13px;color:#ffffff;display:inline-block;"," &:hover{text-decoration:underline;","}"," ",""],(function(e){return e.theme.id===h.default.id&&Object(c.css)(["color:",";font-family:",";"],h.default.neutral600,h.default.fonts.ralewayBold)}),(function(e){return e.theme.id===h.default.id&&Object(c.css)(["color:",";"],h.default.red500)}),(function(e){return"default"===e.type&&"\n        pointer-events: none;\n    "}),(function(e){return"mobile"===e.type&&Object(c.css)(["cursor:pointer;color:#C13134;",""],(function(e){return e.theme.id===h.default.id&&Object(c.css)(["color:",";"],h.default.red500)}))})),U=c.default.div.withConfig({displayName:"LayoutViewPopup__AddLayout",componentId:"sc-1gnt2ko-10"})(["padding:10px;"]),Y=Object(c.default)(g.default).withConfig({displayName:"LayoutViewPopup__AddLayoutBtn",componentId:"sc-1gnt2ko-11"})(["display:block;width:100%;padding-top:7px;padding-bottom:8px;padding-left:20px;padding-right:11px;font-size:11px;font-weight:500;font-style:normal;line-height:15px;text-align:center;white-space:nowrap;background-color:#656565;outline:none;color:white;background-image:url(",");background-size:9px 15px;background-repeat:no-repeat;background-position:11px 7px;&:hover{background-color:#7d7d7d;text-decoration:none;}",""],n("svD7"),(function(e){return e.theme.id===h.default.id&&"\n        background-color: ".concat(h.default.blue500,";\n        color: ").concat(h.default.white,";\n        border: none;\n\n        &:hover {\n            color: ").concat(h.default.white,";\n            background-color: ").concat(h.default.blue400,";\n        }\n    ")})),K=c.default.div.withConfig({displayName:"LayoutViewPopup__LearnLayouts",componentId:"sc-1gnt2ko-12"})(["padding:33px 19px 38px;line-height:13px;font-size:11px;text-align:center;"]),X=c.default.div.withConfig({displayName:"LayoutViewPopup__Shortcut",componentId:"sc-1gnt2ko-13"})(["font-family:Roboto;font-weight:500;font-size:11px;line-height:13px;color:#656565;display:inline-block;margin-top:6px;margin-bottom:15px;",""],(function(e){return e.theme.id===h.default.id&&"\n        color: ".concat(h.default.neutral600,";\n        opacity: ").concat(h.default.alpha40,";\n        font-family: ").concat(h.default.fonts.ralewayBold,";\n    ")})),H=c.default.hr.withConfig({displayName:"LayoutViewPopup__Separator",componentId:"sc-1gnt2ko-14"})(["background:#434343;border:0 none;height:2px;margin:0;",""],(function(e){return e.theme.id===h.default.id&&"\n        background-color: ".concat(h.default.neutral60,";\n    ")})),Z=c.default.div.withConfig({displayName:"LayoutViewPopup__ToggleContainer",componentId:"sc-1gnt2ko-15"})(["padding-top:10px;padding-left:10px;padding-right:12px;padding-bottom:10px;"]),V=[{id:"default",text:r.default.t("app.freelayout_editor.layout.type.desktop"),statusText:r.default.t("app.freelayout_editor.layout.typeStatus.desktop")},{id:"mobile",text:r.default.t("app.freelayout_editor.layout.type.mobile"),statusText:r.default.t("app.freelayout_editor.layout.typeStatus.mobile")}],F=navigator.platform.match("Mac")?"L":"Ctrl+L",G={setElementsOutsideBlockVisible:function(e){return{type:m.ELEMENTS_OUTSIDE_BLOCK_VISIBLE,payload:{projectId:v.default.infographicId,enabled:e}}},toggleElementsOutsideBlockVisible:function(){return{type:m.TOGGLE_ELEMENTS_OUTSIDE_BLOCK_VISIBLE,payload:v.default.infographicId}}},W=Object(u.connect)((function(e){return{elementsOutsideBlockVisible:e.get("localProjectSettings").elementsOutsideBlockVisible}}),G)(o=Object(l.default)()(o=function(e){function t(){var e,n;E(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=x(this,(e=S(t)).call.apply(e,[this].concat(r))))._changeLayout=function(e){Object(p.default)(e.id)},n._removeMobileLayout=function(e){return e.stopPropagation(),Object(d.default)("mobile"),Object(_.logRemoveLayoutWebJs)({layout_name:"mobile"}),!1},n._addMobileLayout=function(){Object(f.default)(V[1].id),n.props.setElementsOutsideBlockVisible(!0),Object(_.logAddLayoutWebJs)({layout_name:"mobile"})},n._toggleElementsOutsideBlockVisible=function(){n.props.toggleElementsOutsideBlockVisible(),Object(_.logShowOverflowWebJs)({})},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,e),n=t,i=[{key:"getStores",value:function(){return[s.default]}},{key:"calculateState",value:function(){return{selected:V[s.default.editingDefaultLayout?0:1],hasLayouts:s.default.editorState.getLayouts().size>0}}}],(o=[{key:"render",value:function(){var e=this;return a.a.createElement(T,null,a.a.createElement(I,null,r.default.t("app.freelayout_editor.layout.popupTitle3")),a.a.createElement(D,null,this.state.hasLayouts&&a.a.createElement(a.a.Fragment,null,a.a.createElement(N,null,V.map((function(t){return a.a.createElement(Q,{key:t.id,item:t,selected:e.state.selected,onClick:e._changeLayout},a.a.createElement(z,null,t.text))}))),a.a.createElement(M,null,a.a.createElement(q,{icon:this.state.selected.id}),a.a.createElement(A,null,a.a.createElement(B,{onClick:this._removeMobileLayout,type:this.state.selected.id},this.state.selected.statusText),a.a.createElement(X,null,r.default.t("app.freelayout_editor.layout.shortcut",{shortcut:F}))))),!this.state.hasLayouts&&a.a.createElement(a.a.Fragment,null,a.a.createElement(U,null,a.a.createElement(Y,{onClick:this._addMobileLayout},r.default.t("app.freelayout_editor.layout.add.mobile")),a.a.createElement(K,{dangerouslySetInnerHTML:{__html:r.default.t("app.freelayout_editor.layout.description2",{descriptionLink:r.default.t("app.freelayout_editor.layout.descriptionLink2"),descriptionLinkUrl:"https://support.infogram.com/hc/en-us/articles/360015748799-Adjusting-your-projects-to-fit-all-screens"})}}))),a.a.createElement(H,null),a.a.createElement(Z,null,a.a.createElement(b.default,{label:r.default.t("app.freelayout_editor.layout.overflow.label"),onChange:this._toggleElementsOutsideBlockVisible,active:this.props.elementsOutsideBlockVisible,singleLine:!0}),a.a.createElement(y.HelpButton,{"data-tooltip-position":"right","data-tooltip-html":r.default.t("app.freelayout_editor.layout.overflow.info")}))))}}])&&O(n.prototype,o),i&&O(n,i),t}(i.Component))||o)||o,Q=function(e){var t=e.item,n=e.selected,o=e.onClick,r=e.children;return a.a.createElement(L,{selected:t===n,icon:t.id,onClick:function(){return o(t)}},r)}},rRPG:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._4dlW5NPA5B4XBQ6CsoxMI {\n    font-size: 15px;\n    font-weight: 500;\n    display: inline-block;\n    vertical-align: middle;\n    margin-left: 25px;\n}\n\n._31bPTCHKYRvGLxztuyvCL- {\n    display: inline-block;\n    vertical-align: middle;\n}\n\n._1cGeIkQFWJwmcvwwiJ7_5j {\n    display: inline-block;\n    vertical-align: middle;\n    margin-left: 5px;\n}\n\n._3agSnovTsqf6vhTz5FsdiO {\n    display: inline-block;\n    vertical-align: middle;\n    margin-left: 10px;\n}\n\n._1mpctopZvYgtBUZbwJDKND {\n    display: inline-block;\n    vertical-align: middle;\n}\n\n._3UdC45V_jOWnMS_tFe5I7U {\n    display: inline-block;\n    vertical-align: middle;\n    margin-left: 20px;\n    width: 35px;\n    height: 35px;\n    line-height: 37px;\n    background-size: cover;\n    border-radius: 100%;\n}\n\n._2JYlnyvEcYU7S196gRlJLh {\n    display: inline-block;\n    vertical-align: middle;\n    margin-left: 10px;\n    color: #9d9d9d;\n}\n",""]),t.locals={title:"_4dlW5NPA5B4XBQ6CsoxMI",icon:"_31bPTCHKYRvGLxztuyvCL-",label:"_1cGeIkQFWJwmcvwwiJ7_5j",version:"_3agSnovTsqf6vhTz5FsdiO",date:"_1mpctopZvYgtBUZbwJDKND",avatar:"_3UdC45V_jOWnMS_tFe5I7U",name:"_2JYlnyvEcYU7S196gRlJLh"}},svD7:function(e,t,n){e.exports=n.p+"60802bcb3fc57ff75316884c9c74dc5a.svg"},t4t9:function(e,t,n){"use strict";n.r(t);var o=n("Jgc/"),r=n("Zcty"),i=n("hl5+");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(){return u(this,t),l(this,s(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),n=t,(o=[{key:"getInitialState",value:function(){return!1}},{key:"reduce",value:function(e,t){switch(t.type){case i.EDITOR_DISPLAY_START_SAVING:return!0;case i.EDITOR_DISPLAY_STOP_SAVING:return!1}return e}},{key:"isSaving",get:function(){return this.getState()}}])&&c(n.prototype,o),r&&c(n,r),t}(o.ReduceStore);t.default=new f(r.default)},tE8V:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._2dtVQRXWUiPmbQfj-fIzjb {\n\tlist-style: none;\n\tpadding: 0;\n\tmargin: 0 0 70px 0;\n}\n\n._2510-zrO9rAtpsUf7OJ6td {\n\tdisplay: block;\n\tposition: relative;\n\tpadding: 15px 0 15px 40px;\n\tmargin: 0;\n\tcursor: pointer;\n}\n\n._2510-zrO9rAtpsUf7OJ6td:before {\n\tcontent: '';\n\tposition: absolute;\n\twidth: 1px;\n\ttop: 0;\n\tleft: 20px;\n\tbottom: 0;\n\tbackground-color: #656565;\n}\n\n._2510-zrO9rAtpsUf7OJ6td:after {\n\tcontent: '';\n\tposition: absolute;\n\tleft: 17px;\n\ttop: 17px;\n\twidth: 7px;\n\theight: 7px;\n\tbackground-color: #656565;\n\tborder-radius: 50%;\n}\n\n._2510-zrO9rAtpsUf7OJ6td:last-child:before {\n\tbottom: auto;\n\theight: 17px;\n}\n\n._2510-zrO9rAtpsUf7OJ6td:first-child:before {\n\ttop: 15px;\n}\n\n._2510-zrO9rAtpsUf7OJ6td:first-child:after {\n\twidth: 11px;\n\theight: 11px;\n\tleft: 15px;\n\ttop: 15px;\n}\n\n._1-f7CRhhtCLpjPiDSfKMKW {\n\tbackground-color: #656565;\n}\n\n._1-f7CRhhtCLpjPiDSfKMKW:after {\n\tbackground-color: #cacaca;\n}\n\n._1qghFzpelIhDHSXMsrTLrR {\n\tmargin-top: 5px;\n\twhite-space: nowrap;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n._3nxToVRFV-oCqxLHdMj-Gb {\n\tdisplay: inline-block;\n\tvertical-align: middle;\n\twidth: 20px;\n\theight: 20px;\n\tline-height: 21px;\n\tbackground-size: cover;\n\tborder-radius: 100%;\n\tborder: none;\n\tfont-size: 10px;\n\tfont-weight: 500;\n}\n\n.A051V1q8Qr3yRgunJdA5z {\n\tdisplay: inline-block;\n\tfont-size: 11px;\n\tmargin-left: 5px;\n\tcolor: #fff;\n\topacity: 0.5;\n}\n",""]),t.locals={list:"_2dtVQRXWUiPmbQfj-fIzjb",item:"_2510-zrO9rAtpsUf7OJ6td",selected:"_1-f7CRhhtCLpjPiDSfKMKW",author:"_1qghFzpelIhDHSXMsrTLrR",avatar:"_3nxToVRFV-oCqxLHdMj-Gb",name:"A051V1q8Qr3yRgunJdA5z"}},tY9K:function(e,t,n){"use strict";n.r(t);var o=n("r7UD");n.d(t,"default",(function(){return o.default}))},tcqe:function(e,t,n){e.exports=n.p+"bd0475f3a118fe98bc16374aa0b26e68.svg"},"tl4+":function(e,t,n){"use strict";n.r(t),n.d(t,"HelpButton",(function(){return k})),n.d(t,"default",(function(){return T}));var o,r,i,a=n("XzT5"),u=n("q1tI"),c=n.n(u),l=n("17x9"),s=n.n(l),p=n("vOnD"),f=n("/MKj"),d=n("UJ0y"),h=n("VuSB"),g=n("aXXi"),b=n("USB3"),y=n("ySsV");function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function w(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],o=!0,r=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(o=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{o||null==u.return||u.return()}finally{if(r)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var S=p.default.div.withConfig({displayName:"LayoutPopupreact__Header",componentId:"r784w6-0"})(["background-color:#434343;height:30px;text-align:center;line-height:30px;color:#ffffff;font-size:11px;font-weight:500;border-top-left-radius:4px;border-top-right-radius:4px;",""],(function(e){return e.theme.id===b.default.id&&"\n        font-family: ".concat(b.default.fonts.ralewayBold,";\n        background-color: ").concat(b.default.neutral60,";\n        color: ").concat(b.default.neutral600,";\n    ")})),C=p.default.div.withConfig({displayName:"LayoutPopupreact__Container",componentId:"r784w6-1"})(["min-width:180px;background-color:#2d2d2d;border-radius:4px;box-shadow:0px 10px 40px rgba(0,0,0,0.5);text-align:left;cursor:default;",""],(function(e){return e.theme.id===b.default.id&&"\n        background-color: ".concat(b.default.white,";\n        box-shadow: ").concat(b.default.shadow.default,";\n    ")})),k=p.default.span.withConfig({displayName:"LayoutPopupreact__HelpButton",componentId:"r784w6-2"})(["cursor:help;float:right;margin-top:2px;font-size:11px;min-height:16px;padding-right:25px;background-image:url(",");background-position:center right;background-size:16px;background-repeat:no-repeat;display:flex;align-items:center;color:#fff;",""],n("l8VI"),(function(e){return e.theme.id===b.default.id&&"\n        font-family: inherit;\n        background-image: url(".concat(n("vBcK"),");\n        color: rgba(55, 64, 80, 0.4);\n    ")})),j=p.default.div.withConfig({displayName:"LayoutPopupreact__Content",componentId:"r784w6-3"})(["padding:10px;font-size:11px;"]),P=p.default.div.withConfig({displayName:"LayoutPopupreact__Sliders",componentId:"r784w6-4"})(["",""],(function(e){return e.disabled&&"\n        pointer-events: none;\n        opacity: 0.5;\n    "})),R=p.default.div.withConfig({displayName:"LayoutPopupreact__SliderLabel",componentId:"r784w6-5"})(["padding-top:8px;",""],(function(e){return e.theme.id===b.default.id&&"\n        font-family: ".concat(b.default.fonts.ralewayBold,";\n    ")})),I=p.default.span.withConfig({displayName:"LayoutPopupreact__SliderLabelValue",componentId:"r784w6-6"})(["float:right;"]),T=Object(f.connect)((function(e){return{showGuides:e.get("localProjectSettings").showGuides,snapObjects:e.get("localProjectSettings").snapObjects,whitespacePercent:e.getIn(["flexEditorGrid","whitespacePercent"]),columnCount:e.getIn(["flexEditorGrid","columnCount"])}}),(function(e){return{setShowGuides:function(t,n){e({type:g.FLEX_EDITOR_GRID_SHOW_GUIDES,payload:{projectId:y.default.infographicId,enabled:n}})},setSnapObjects:function(t,n){e({type:g.FLEX_EDITOR_GRID_SNAP_OBJECTS,payload:{projectId:y.default.infographicId,enabled:n}})},setWhitespacePercent:function(t){var n=x(t,1)[0];e({type:g.FLEX_EDITOR_GRID_SET_WHITESPACE_PERCENT,payload:Math.round(2*n)/2})},setColumnCount:function(t){var n=x(t,1)[0];e({type:g.FLEX_EDITOR_GRID_SET_COLUMN_COUNT,payload:Math.round(n)})}}}))((i=r=function(e){function t(){return v(this,t),w(this,E(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){return c.a.createElement(C,null,c.a.createElement(S,null,a.default.t("app.freelayout_editor.grid.popupTitle")),c.a.createElement(j,null,c.a.createElement(d.default,{label:a.default.t("app.freelayout_editor.layout.showGuides"),onChange:this.props.setSnapObjects,active:this.props.snapObjects,singleLine:!0,customCss:"margin-bottom: 5px;"}),c.a.createElement(k,{"data-tooltip-position":"right","data-tooltip":a.default.t("app.freelayout_editor.layout.guidesTooltip")},"G"),c.a.createElement(d.default,{label:a.default.t("app.freelayout_editor.grid.showGrid"),onChange:this.props.setShowGuides,active:this.props.showGuides,singleLine:!0,customCss:this.props.isZoomLayout?"":"margin-bottom: 10px;"}),c.a.createElement(k,{"data-tooltip-position":"right","data-tooltip":a.default.t("app.freelayout_editor.grid.showGridTooltip")},"L"),!this.props.isZoomLayout&&c.a.createElement(P,{disabled:!this.props.showGuides},c.a.createElement(R,null,a.default.t("app.freelayout_editor.layout.whitespaceSlider2"),c.a.createElement(I,null,2*this.props.whitespacePercent)),c.a.createElement(h.default,{min:0,max:6,value:this.props.whitespacePercent,onChange:this.props.setWhitespacePercent}),c.a.createElement(R,null,a.default.t("app.freelayout_editor.layout.columnSlider2"),c.a.createElement(I,null,this.props.columnCount)),c.a.createElement(h.default,{min:1,max:12,value:this.props.columnCount,onChange:this.props.setColumnCount}))))}}])&&_(n.prototype,o),r&&_(n,r),t}(u.PureComponent),r.propTypes={setShowGuides:s.a.func.isRequired,setSnapObjects:s.a.func.isRequired,setWhitespacePercent:s.a.func.isRequired,setColumnCount:s.a.func.isRequired,showGuides:s.a.bool.isRequired,isZoomLayout:s.a.bool,snapObjects:s.a.bool.isRequired,whitespacePercent:s.a.number.isRequired,columnCount:s.a.number.isRequired},o=i))||o},"u/T2":function(e,t,n){"use strict";n.r(t),n.d(t,"BrandKitUpdateNotification",(function(){return _}));var o=n("q1tI"),r=n.n(o),i=n("/MKj"),a=n("vOnD"),u=n("XzT5"),c=n("USB3"),l=n("tFc1"),s=n("EKef"),p=n("hrfg");function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],o=!0,r=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(o=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{o||null==u.return||u.return()}finally{if(r)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var d=a.default.div.withConfig({displayName:"BrandKitUpdateNotification__Container",componentId:"cqghls-0"})(["width:370px;color:",";font-size:11px;line-height:1.5;background:",";border-radius:4px;box-shadow:",";overflow:hidden;display:flex;"],c.default.white,c.default.neutral600,c.default.shadow.hover),h=a.default.div.withConfig({displayName:"BrandKitUpdateNotification__Logo",componentId:"cqghls-1"})(["background-image:url(",");background-position:center;background-repeat:no-repeat;width:50px;flex:0 0 auto;"],n("B7SS")),g=a.default.div.withConfig({displayName:"BrandKitUpdateNotification__Body",componentId:"cqghls-2"})(["flex:1 1 auto;padding:15px 12px 15px 0;border-right:solid 2px ",";display:flex;"],c.default.white),b=a.default.div.withConfig({displayName:"BrandKitUpdateNotification__Buttons",componentId:"cqghls-3"})(["flex:0 0 auto;width:70px;display:flex;flex-direction:column;"]),y=a.default.div.withConfig({displayName:"BrandKitUpdateNotification__NotificationButton",componentId:"cqghls-4"})(["display:flex;align-items:center;justify-content:center;transition:background ease-in-out 0.25s;cursor:pointer;&:hover{background:",";}"],c.default.neutral400),m=Object(a.default)(y).withConfig({displayName:"BrandKitUpdateNotification__ApplyButton",componentId:"cqghls-5"})(["flex:1 1 auto;border-top:solid 2px ",";"],c.default.white),v=Object(a.default)(y).withConfig({displayName:"BrandKitUpdateNotification__DismissButton",componentId:"cqghls-6"})(["flex:1 1 auto;"]),_=function(e){var t,n=e.activeBrandkit,a=f(Object(o.useState)(!1),2),c=a[0],l=a[1],s=Object(i.useSelector)((function(e){return e.get("branding")})),y=Object(i.useDispatch)();var _=null===(t=s.brandkits)||void 0===t?void 0:t.some((function(e){var t=e.id,o=e.hash;return t===(null==n?void 0:n.get("id"))&&o!==(null==n?void 0:n.get("hash"))}));return n&&_&&!c?r.a.createElement(d,null,r.a.createElement(h,null),r.a.createElement(g,null,u.default.t("app.brandkit.brandkit_update_notification")),r.a.createElement(b,null,r.a.createElement(v,{onClick:function(){return l(!0)}},u.default.t("app.brandkit.brandkit_update_dismiss")),r.a.createElement(m,{onClick:function(){var e,t=null===(e=s.brandkits)||void 0===e?void 0:e.find((function(e){return e.id===(null==n?void 0:n.get("id"))}));t?y(Object(p.applyBrandkit)(t)):console.warn("Unexpected: after succesful brand kit verification, it should be available here")}},u.default.t("app.brandkit.brandkit_update_apply")))):null};t.default=Object(l.withFluxProps)([s.default],(function(){return{activeBrandkit:s.default.brandkit}}))(_)},uGvS:function(e,t,n){e.exports=n.p+"9438e1361cced3513805c35e84f678ec.svg"},uwfs:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return K}));var o,r,i,a=n("XzT5"),u=n("q1tI"),c=n.n(u),l=n("i8i4"),s=n.n(l),p=n("/MKj"),f=n("vOnD"),d=n("17x9"),h=n.n(d),g=n("yb06"),b=n.n(g),y=n("kFHh"),m=n("Mo2j"),v=n("ySsV"),_=n("EKef"),w=n("Sye6"),E=n("70t9"),O=n("fhZ6"),x=n("rQKZ"),S=n("amct"),C=n("VYD4"),k=n("USB3"),j=n("/80h"),P=n("6PAG"),R=n("wFB8"),I=n("Kgxu");function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function M(e,t,n){return t&&z(e.prototype,t),n&&z(e,n),e}function q(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Y=f.default.div.withConfig({displayName:"ColorPickerreact__Spacer",componentId:"sc-186rudr-0"})(["height:10px;"]),K=Object(p.connect)((function(e){return{featureSwitches:e.get("featureSwitches")}}),null,null,{areStatesEqual:function(e,t){return e.get("featureSwitches")===t.get("featureSwitches")}})(o=Object(S.withDialogs)()(o=Object(x.default)({withProps:!0})((i=r=function(e){function t(){var e,n;L(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=q(this,(e=A(t)).call.apply(e,[this].concat(r)))).state={paletteVisible:!1},n._panel=c.a.createRef(),n._popup=c.a.createRef(),n._chooseThemeColor=function(e){var t=e.displayValue,o=e.value;n._panel.current._colorInput.current.value="",n.props.onChange({source:"theme",value:o,displayValue:t})},n}return B(t,e),M(t,[{key:"render",value:function(){var e=this.state,t=e.design,n=e.entityPath,o=e.inputColor,r=e.resolvedActiveColor,i=e.colorSections;return s.a.createPortal(c.a.createElement(V,{key:"panel",ref:this._popup,x:this.props.x,y:this.props.y+-12,onClose:this.props.onClose},c.a.createElement(y.default,{key:"panel",ref:this._panel,onChange:this.props.onChange,activeColor:this.props.color,inputColor:o,resolvedActiveColor:r,design:t,entityPath:n},i.theme&&c.a.createElement(E.default,{title:i.theme.title,colors:i.theme.colors,onChoose:this._chooseThemeColor}),this.props.featureSwitches[R.FeatureSwitchList.PREZI_DESIGN_ENABLE_BRANDKIT]&&!this.state.brandkit&&c.a.createElement(c.a.Fragment,null,c.a.createElement(P.ApplyBrandkit,{locked:this.state.brandkitLocked,onUpgrade:function(){return Object(I.default)("DESIGN_COLOR_PICKER")}}),c.a.createElement(Y,null)))),document.body)}}],[{key:"getStores",value:function(){return[m.default,v.default,_.default,w.default]}},{key:"calculateState",value:function(e,t){var n,o,r,i={},u=m.default.themeColors;if(v.default.isFreeLayout){var c=_.default.editorState,l=w.default.currentSelection;n=c.getDesign();var s=l;if(s.isEmpty())o=["BLOCK"];else{var p=s.getEntities().first();o=[c.getEntity(p).getType()]}}u.isEmpty()||(i.theme={title:_.default.brandkit?(null===(r=_.default.brandkit)||void 0===r?void 0:r.get("palette"))?a.default.t("app.color_picker.section_brand"):a.default.t("app.color_picker.section_colors"):a.default.t("app.color_picker.section_palette"),colors:t.bonusColors?u.concat(t.bonusColors):u,id:"colors"});return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(j.populateColorData)({sections:i,entityPath:o,design:n,activeColor:t.color}),{design:n,entityPath:o,brandkit:_.default.brandkit,brandkitLocked:!C.default.features.brand_kit})}}]),t}(u.Component),r.propTypes={x:h.a.number.isRequired,y:h.a.number.isRequired,color:h.a.string,onChange:h.a.func.isRequired,onClose:h.a.func,children:h.a.node,bonusColors:b.a.listOf(h.a.string),openDialog:h.a.func,featureSwitches:h.a.object},o=i))||o)||o)||o,X=f.default.div.withConfig({displayName:"ColorPickerreact__PopupWrapper",componentId:"sc-186rudr-1"})(["position:fixed;z-index:99999;transform:translate(-100%,0);padding-right:5px;"]),H=f.default.div.withConfig({displayName:"ColorPickerreact__PopupInner",componentId:"sc-186rudr-2"})(["box-sizing:border-box;position:relative;background-color:",";padding:20px;border:none;border-radius:4px;box-shadow:0 1px 4px 0 rgba(46,58,74,0.5);max-width:298px;"],k.default.background),Z=f.default.a.withConfig({displayName:"ColorPickerreact__CloseButton",componentId:"sc-186rudr-3"})(["position:absolute;width:11px;height:11px;top:5px;right:5px;cursor:pointer;background:url(",") center no-repeat;background-size:contain;"],n("M5lW")),V=function(e){function t(){var e,n;L(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=q(this,(e=A(t)).call.apply(e,[this].concat(r))))._element=c.a.createRef(),n.state={hasDimensions:!1},n._closeIfRequired=function(e){"keydown"===e.type?e.keyCode===O.default.ESCAPE&&(e.stopPropagation(),e.preventDefault(),n.props.onClose()):"mousedown"===e.type&&(n._element.current.contains(e.target)||n.props.onClose())},n}return B(t,e),M(t,[{key:"render",value:function(){var e=this.props,t=e.onClose,n=e.children,o={left:this.props.x,top:this.props.y};if(this.state.hasDimensions){var r=this.state,i=r.elementRight,a=r.elementBottom,u=r.viewportWidth,l=r.viewportHeight;i>=u&&(delete o.left,o.right=0),a>=l&&(delete o.top,o.bottom=0)}return c.a.createElement(X,{style:o,ref:this._element},c.a.createElement(H,null,n,c.a.createElement(Z,{role:"button",onClick:t})))}},{key:"componentDidMount",value:function(){window.document.addEventListener("keydown",this._closeIfRequired,!0),window.document.addEventListener("mousedown",this._closeIfRequired,!1),this.update()}},{key:"componentWillUnmount",value:function(){window.document.removeEventListener("mousedown",this._closeIfRequired,!1),window.document.removeEventListener("keydown",this._closeIfRequired,!0)}},{key:"update",value:function(){var e=window,t=e.innerWidth,n=e.innerHeight,o=this._element.current.getBoundingClientRect(),r=o.right,i=o.bottom;this.setState({hasDimensions:!0,elementRight:Math.ceil(r),elementBottom:Math.ceil(i),viewportWidth:t,viewportHeight:n})}}]),t}(u.PureComponent);V.propTypes={children:h.a.node,x:h.a.number.isRequired,y:h.a.number.isRequired,onClose:h.a.func.isRequired}},v8xS:function(e,t,n){"use strict";n.r(t),n.d(t,"loadTemplate",(function(){return l}));var o=n("Zcty"),r=n("1QDN"),i=n("kOm4"),a=n("Aw7l");function u(e,t,n,o,r,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(o,r)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var i=e.apply(t,n);function a(e){u(i,o,r,a,c,"next",e)}function c(e){u(i,o,r,a,c,"throw",e)}a(void 0)}))}}function l(e){return s.apply(this,arguments)}function s(){return(s=c(regeneratorRuntime.mark((function e(t){var n,u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}return o.default.dispatch({type:r.FLEX_TEMPLATE_LOADED,data:{pages:[],assets:{}}}),window.loadingLog&&window.loadingLog.push("no templateId FLEX_TEMPLATE_LOADED"),e.abrupt("return");case 4:return o.default.dispatch({type:r.FLEX_TEMPLATE_LOADING}),e.prev=5,e.next=8,fetch("/api/flex/template/".concat(t),{credentials:"same-origin"});case 8:if(n=e.sent,window.loadingLog&&window.loadingLog.push("template fetched"),n.ok){e.next=16;break}return e.t0=Error,e.next=14,n.text();case 14:throw e.t1=e.sent,new e.t0(e.t1);case 16:return e.next=18,n.json();case 18:u=e.sent,c=u.pages.map((function(e){return i.default.createFromJSONObject(e.key,e)})),window.loadingLog&&window.loadingLog.push("data parsed and FLEX_TEMPLATE_LOADED"),o.default.dispatch({type:r.FLEX_TEMPLATE_LOADED,data:{pages:c,assets:u.assets}}),e.next=28;break;case 24:e.prev=24,e.t2=e.catch(5),o.default.dispatch({type:r.FLEX_TEMPLATE_LOADING_ERROR}),Object(a.logError)("Flex template loading error",e.t2);case 28:case"end":return e.stop()}}),e,null,[[5,24]])})))).apply(this,arguments)}},vBcK:function(e,t,n){e.exports=n.p+"be71796d9b787f4b93172d78f2bf1947.svg"},vly6:function(e,t,n){"use strict";n.r(t);var o=n("q1tI"),r=n.n(o),i=n("17x9"),a=n.n(i),u=n("yb06"),c=n.n(u),l=n("9s3c"),s=n("qxmC");function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function h(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function t(){return f(this,t),h(this,g(t).apply(this,arguments))}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,e),n=t,(i=[{key:"render",value:function(){var e=this.props.entity;return r.a.createElement(o.Fragment,null,e&&r.a.createElement(l.default,{handlerKey:e.getKey(),entity:e,scaleX:this.props.scaleX,scaleY:this.props.scaleY}),r.a.createElement(s.default,{scaleX:this.props.scaleX,scaleY:this.props.scaleY,blockKey:this.props.blockKey}))}}])&&d(n.prototype,i),a&&d(n,a),t}(o.PureComponent);y.propTypes={entity:c.a.record,scaleX:a.a.number.isRequired,scaleY:a.a.number.isRequired,blockKey:a.a.string.isRequired},t.default=y},w3Az:function(e,t,n){e.exports=n.p+"392cfefe00f9c952032783eb0243410d.svg"},wa9k:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._3FcCNm_K416zuBH3V4S85y {\n    top: -10px;\n    left: -10px;\n}\n._1v3_xhjaCYhJivWNY6SSXf {\n    top: -10px;\n    left: calc(50% - 10px);\n}\n._3IkWwYgbKUn50oG8I2Gzh7 {\n    top: -10px;\n    right: -10px;\n}\n.rXDWt5byIe9ZZjVwKcKaW {\n    left: -10px;\n    top: calc(50% - 10px);\n}\n.Q1o9UdUFzoVnyZnsI4RRu {\n    left: calc(50% - 10px);\n    top: calc(50% - 10px);\n}\n._39fZePyY5DIyZvdKypTDsq {\n    right: -10px;\n    top: calc(50% - 10px);\n}\n.Kf5HZ96DKy41PJ1QdKFO1 {\n    bottom: -10px;\n    left: -10px;\n}\n._263CPDCgA3ld7DzUSXWQ76 {\n    bottom: -10px;\n    left: calc(50% - 10px);\n}\n._3qxD5pL_D6d1IdSzCpDEmh {\n    bottom: -10px;\n    right: -10px;\n}\n",""]),t.locals={nw:"_3FcCNm_K416zuBH3V4S85y",n:"_1v3_xhjaCYhJivWNY6SSXf",ne:"_3IkWwYgbKUn50oG8I2Gzh7",w:"rXDWt5byIe9ZZjVwKcKaW",center:"Q1o9UdUFzoVnyZnsI4RRu",e:"_39fZePyY5DIyZvdKypTDsq",sw:"Kf5HZ96DKy41PJ1QdKFO1",s:"_263CPDCgA3ld7DzUSXWQ76",se:"_3qxD5pL_D6d1IdSzCpDEmh"}},wwJs:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._2_xxOi2TPNc73E6mzdDyyE {\r\n  position: relative;\r\n}\r\n\r\n._2y3VeXYY9DPuN659Ozq9rL {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n",""]),t.locals={droppableInfographicEditor:"_2_xxOi2TPNc73E6mzdDyyE",zoomContainer:"_2y3VeXYY9DPuN659Ozq9rL"}},x6X5:function(e,t,n){e.exports=n.p+"3251acd3588c6b5e4d2a7fdd3defafc9.svg"},yGHk:function(e,t,n){e.exports=n.p+"a7a8404e251f73dcaab3b6111da2087c.svg"},z3Ib:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return B}));var o,r,i,a=n("17x9"),u=n.n(a),c=n("q1tI"),l=n.n(c),s=n("yb06"),p=n.n(s),f=n("vOnD"),d=n("/MKj"),h=n("TSYQ"),g=n.n(h),b=n("Sye6"),y=n("TJ0u"),m=n("vmwM"),v=n("rQKZ"),_=n("avnT"),w=n("USB3"),E=n("qLhN"),O=n.n(E);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function P(e,t,n){return t&&j(e.prototype,t),n&&j(e,n),e}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var I=["begin","end"],T=["n","ne","e","se","s","sw","w","nw"],D=["ne","nw","sw","se"],N=["ns-resize","nesw-resize","ew-resize","nwse-resize"],L=f.default.div.withConfig({displayName:"ResizeBoxreact__ResizeTextHandle",componentId:"sc-9cr9u2-0"})(["position:absolute;top:50%;border-left:1px solid #3195cb;border-right:1px solid #3195cb;width:5px;height:10px;margin-top:-5px;pointer-events:none;",""],(function(e){return e.theme.id===w.default.id&&"\n        border-right-color: ".concat(w.default.blue500,";\n        border-left-color: ").concat(w.default.blue500,";\n    ")})),z=f.default.div.withConfig({displayName:"ResizeBoxreact__ResizeText",componentId:"sc-9cr9u2-1"})(["position:absolute;width:10px;top:27px;bottom:27px;pointer-events:auto;cursor:ew-resize;","{box-sizing:border-box;}"],L),M=Object(f.default)(z).withConfig({displayName:"ResizeBoxreact__ResizeTextEast",componentId:"sc-9cr9u2-2"})(["right:23px;"]),q=Object(f.default)(z).withConfig({displayName:"ResizeBoxreact__ResizeTextWest",componentId:"sc-9cr9u2-3"})(["left:28px;"]),A=f.default.div.withConfig({displayName:"ResizeBoxreact__ResizeHandleRectangle",componentId:"sc-9cr9u2-4"})(["pointer-events:none;background:#3195cb;transition:transform 50ms ease-in-out;backface-visibility:hidden;"," "," ",""],(function(e){return e.rectangle&&"\n        height: 11px;\n        width: 11px;\n        outline: solid 1px #fff;\n    "}),(function(e){return e.line&&"\n        height: 12px;\n        width: 12px;\n        border: 1px solid #fff;\n        border-radius: 7px;\n    "}),(function(e){return e.theme.id===w.default.id&&"\n        background: ".concat(w.default.blue500,";\n    ")})),B=Object(d.connect)((function(e){var t=e.get("editorZoom");return{mousePosition:e.get("mousePosition"),zoom:t.zoom}}),null,null,{areStatesEqual:function(e,t){return e.get("mousePosition")===t.get("mousePosition")&&e.get("editorZoom")===t.get("editorZoom")},areStatePropsEqual:function(e,t){return e.zoom===t.zoom&&e.mousePosition===t.mousePosition}})(o=Object(v.default)({withProps:!0})((i=r=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,r=C(t).call(this,e),(n=!r||"object"!==x(r)&&"function"!=typeof r?k(o):r)._assignHandler=function(e,t){var o;if(n.props.mode===_.OVERLAY_MODES.LINE)o=n.props.handlers[e];else if(n.props.mode===_.OVERLAY_MODES.TEXT)o=T.includes(e)?n.props.handlers.scaleText:n.props.handlers.resizeWidth;else{o=T.indexOf(e)%2?n.props.handlers.resize:n.props.handlers.resizeSide}o(t,e),n._refs[e]=t},n._setRef=n._setRef.bind(k(n)),n._storePositions=n._storePositions.bind(k(n)),n._getCursor=n._getCursor.bind(k(n)),n._findActiveResize=n._findActiveResize.bind(k(n)),n._handleMouseDown=n._handleMouseDown.bind(k(n)),n._handleMouseUp=n._handleMouseUp.bind(k(n)),n._refs={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(t,e),P(t,null,[{key:"getStores",value:function(){return[y.default,b.default,m.default]}},{key:"calculateState",value:function(e,t){var n=y.default.scrolling,o=t&&t.resizing,r=e&&e.positions,i=!b.default.multiSelectionActive&&!t.isGroup,a=b.default.currentSelection,u=e&&e.selected;return e&&e.resizing&&!o&&(u=null),{positions:r,selected:u,scrolling:n,resizing:o,clipping:!!m.default.activeType,sideResizeEnabled:i,selection:a}}}]),P(t,[{key:"componentDidMount",value:function(){this._storePositions()}},{key:"componentDidUpdate",value:function(e,t){(t.scrolling&&!this.state.scrolling||e.zoom!==this.props.zoom||t.resizing&&!this.state.resizing||t.clipping&&!this.state.clipping||t.selection!==this.state.selection||e.width!==this.props.width||e.height!==this.props.height||e.rotation!==this.props.rotation)&&this._storePositions()}},{key:"componentWillUnmount",value:function(){var e=this;Object.keys(this._refs).forEach((function(t){return e._assignHandler(t,null)}))}},{key:"render",value:function(){var e,t=this,n=this.props,o=n.mode,r=n.width,i=n.height,a=this.state.sideResizeEnabled,u=this._findActiveResize();if(_.OVERLAY_MODES.LINE===o)e=I;else if(o===_.OVERLAY_MODES.TEXT||o===_.OVERLAY_MODES.CONTAINERLESS)e=a&&D||[];else{var s=[a&&r>24,!0,a&&i>24,!0];e=T.filter((function(e,t){return s[t%4]}))}var p=_.OVERLAY_MODES.RECTANGLE===o||o===_.OVERLAY_MODES.TEXT||o===_.OVERLAY_MODES.CONTAINERLESS;return l.a.createElement("div",null,(o===_.OVERLAY_MODES.TEXT||o===_.OVERLAY_MODES.CONTAINERLESS)&&a&&l.a.createElement(c.Fragment,null,l.a.createElement(M,{ref:this._setRef,style:{cursor:this._getCursor("left")},"data-type":"left",onMouseDown:this._handleMouseDown,onMouseUp:this._handleMouseUp},l.a.createElement(L,{style:{transform:this._getTransform("left",u)}})),l.a.createElement(q,{ref:this._setRef,style:{cursor:this._getCursor("right")},"data-type":"right",onMouseDown:this._handleMouseDown,onMouseUp:this._handleMouseUp},l.a.createElement(L,{style:{transform:this._getTransform("right",u)}}))),o!==_.OVERLAY_MODES.CONTAINERLESS&&e.map((function(e){var n;return l.a.createElement("div",{className:g()((n={},S(n,O.a.lineResizeHandle,_.OVERLAY_MODES.LINE===o),S(n,O.a.resizeHandle,p),S(n,O.a[e],!0),n)),style:{cursor:t._getCursor(e)},key:e,"data-type":e,ref:t._setRef,onMouseDown:t._handleMouseDown,onMouseUp:t._handleMouseUp},l.a.createElement(A,{line:_.OVERLAY_MODES.LINE===o,rectangle:p,style:{transform:t._getTransform(e,u)}}))})))}},{key:"_findActiveResize",value:function(){var e=this.props,t=e.resizing,n=e.mousePosition,o=this.state,r=o.positions,i=o.selected;if(i)return{type:i,scale:1};var a=null;return!r||i||t||Object.keys(r).forEach((function(e){var t,o,i=r[e],u=i?(t=i,o=n,Math.floor(Math.sqrt(Math.pow(t.x-o.x,2)+Math.pow(t.y-o.y,2)))):1/0;(!a||u<a.distance)&&(a={type:e,distance:u})})),a?{type:a.type,scale:this._calculateScale(a.distance)}:void 0}},{key:"_calculateScale",value:function(e){if(e>70)return 0;var t=.75*(83-e)/70+.25;return t=(t=Math.min(1,t)).toFixed(2)}},{key:"_getCursor",value:function(e){if(this.props.mode===_.OVERLAY_MODES.LINE)return"move";this.props.mode===_.OVERLAY_MODES.TEXT&&("left"===e?e="e":"right"===e&&(e="w"));var t=T.indexOf(e),n=this.props.rotation+112.5,o=Math.floor(n/45)-2;return N[(N.length+t+o)%N.length]}},{key:"_getTransform",value:function(e,t){var n=0;return this.props.mode===_.OVERLAY_MODES.LINE?n=1:t&&t.type===e&&(n=t.scale),"scale(".concat(n,")")}},{key:"_getPosition",value:function(e){var t=e.getBoundingClientRect();return{x:t.width/2+t.left,y:t.height/2+t.top}}},{key:"_storePositions",value:function(){var e=this,t={};Object.keys(this._refs).forEach((function(n){var o=e._refs[n];t[n]=o?e._getPosition(o):null})),this.setState({positions:t})}},{key:"_setRef",value:function(e){if(e){var t=e.getAttribute("data-type");this._assignHandler(t,e)}}},{key:"_handleMouseDown",value:function(e){var t=e.target.getAttribute("data-type");this.setState({selected:t})}},{key:"_handleMouseUp",value:function(){this.setState({selected:null})}}]),t}(c.Component),r.propTypes={width:u.a.number.isRequired,height:u.a.number.isRequired,handlers:u.a.object.isRequired,rotation:u.a.number.isRequired,zoom:u.a.number.isRequired,resizing:u.a.bool.isRequired,mode:u.a.string.isRequired,isGroup:u.a.bool,mousePosition:p.a.contains({x:u.a.number.isRequired,y:u.a.number.isRequired})},o=i))||o)||o},zHDs:function(e,t,n){e.exports=n.p+"39994a8515b2aa321703d40dafe8a743.svg"},zHWi:function(e,t,n){"use strict";n.r(t),n.d(t,"EditorWatermark",(function(){return g}));var o=n("q1tI"),r=n.n(o),i=n("vOnD"),a=n("amct"),u=n("Muuz"),c=n("/cSm"),l=n("JlNS"),s=n("VYD4"),p=n("ySsV"),f=n("gRra"),d=Object(o.lazy)((function(){return Promise.resolve().then(n.bind(null,"Fr46"))})),h=i.default.div.withConfig({displayName:"EditorWatermark__Spacer",componentId:"sc-194pkuk-0"})(["width:8px;"]),g=function(e){var t=e.openDialog,n=e.scaleX,o=e.scaleY,i=function(){return s.default.features.publish_no_watermark?r.a.createElement(d,{feature:"publish_custom_logo"}):r.a.createElement(d,{feature:"publish_no_watermark"})};return r.a.createElement(l.Watermark,{onClick:function(){s.default.features.publish_custom_logo?(Object(c.openWatermarkSettingsPanel)(),Object(f.logOpenWatermark)({prezi_oid:p.default.infographicId})):t(r.a.createElement(i,null))},scaleX:n,scaleY:o},r.a.createElement(h,null),r.a.createElement(u.default,{onClick:function(){Object(c.openWatermarkSettingsPanel)(),Object(f.logOpenWatermarkSidebar)({prezi_oid:p.default.infographicId})}}))};t.default=Object(a.withDialogs)()(g)},zkXd:function(e,t,n){"use strict";n.r(t),n.d(t,"createBackgroundDragHandler",(function(){return l}));var o=n("WdyC"),r=n("vmwM"),i=n("XjPQ"),a=n("CS6a"),u=n("G5AB"),c=n("mIYK");function l(e){var t=e.moveClip,n=e.getBounds,l=e.onStart,s=e.onEnd;return function(e){var p,f,d=n&&n(),h=this.props,g=h.scaleX,b=h.scaleY,y=h.entity;function m(e){e.stopPropagation();var n=r.default.ongoingClipTransform.get("startPoint"),o=e.clientX-n.x,a=e.clientY-n.y;if(d){var u=Object(r.calculateLocalCoordinates)(o,a,y.getTransform().getRotate());o=Math.max(Math.min(u.x,d.left),-(y.width*g-d.left-d.width)),a=Math.max(Math.min(u.y,d.top),-(y.height*b-d.top-d.height));var l=Object(r.calculateLocalCoordinates)(o,a,-y.getTransform().getRotate());o=l.x,a=l.y}t(Object(i.Point)(n.x-o,n.y-a)),Object(c.default)(y.getKey(),{left:p.x+o/g,top:p.y+a/b})}function v(){Object(u.default)(),s&&s(),document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",v)}(f=e).nativeEvent.stopImmediatePropagation(),f.stopPropagation(),f.preventDefault(),Object(a.default)(),Object(o.startClipMove)({startPoint:Object(i.Point)(f.clientX,f.clientY),scaleX:g,scaleY:b}),p=Object(i.Point)(y.left,y.top),l&&l(),document.addEventListener("mousemove",m),document.addEventListener("mouseup",v)}}}}]);